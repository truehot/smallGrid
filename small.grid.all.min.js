(function(g,e){g.extend(true,e,{Cell:{Editor:{Create:d,Checkbox:f,Float:b,Integer:c,Text:h,Select:a}}});function f(j,k){var i=this,l=!j.value;this.destroy=function(){};this.getValue=function(){i.onChange.notify({value:l});return l};g.extend(this,{onInitialize:new e.Event.Handler(),onChange:new e.Event.Handler(),onDestroy:new e.Event.Handler()});i.onInitialize.notify({value:j.value})}function b(l,m){var k=this,n=l.value,i=g('<input type="text" class="grid-float-editor" />').val(n).width(l.column.width);this.append=function(o){i.appendTo(o);return k};this.remove=function(){if(i&&i.length){i.detach()}return k};this.destroy=function(){i.remove();i=undefined;k.onDestroy.notify({})};this.getValue=function(){return j(i.val())};this.setValue=function(o){i.val(j(o));k.onChange.notify({value:o});return k};this.focus=function(){if(i.is(":focus")===false){i.val(k.getValue()).select()}return k};function j(o){return parseFloat(o,10)||0}g.extend(this,{onInitialize:new e.Event.Handler(),onChange:new e.Event.Handler(),onDestroy:new e.Event.Handler()});k.onInitialize.notify({value:n})}function c(l,m){var k=this,n=l.value,i=g('<input type="text" class="grid-integer-editor" />').val(n).width(l.column.width);this.append=function(o){i.appendTo(o);return k};this.remove=function(){if(i&&i.length){i.detach()}return k};this.destroy=function(){i.remove();i=undefined;k.onDestroy.notify({})};this.getValue=function(){return j(i.val())};this.setValue=function(o){i.val(j(o));k.onChange.notify({value:o});return k};this.focus=function(){if(i.is(":focus")===false){i.val(k.getValue()).select()}return k};function j(o){return parseInt(o,10)||0}g.extend(this,{onInitialize:new e.Event.Handler(),onChange:new e.Event.Handler(),onDestroy:new e.Event.Handler()});k.onInitialize.notify({value:n})}function h(k,l){var j=this,m=k.value,i=g('<input type="text" class="grid-text-editor"/>').val(m).width(k.column.width);this.append=function(n){i.appendTo(n);return j};this.remove=function(){if(i&&i.length){i.detach()}return j};this.destroy=function(){i.remove();i=undefined;j.onDestroy.notify({})};this.getValue=function(){return i.val()};this.setValue=function(n){i.val(n);j.onChange.notify({value:n});return j};this.focus=function(){if(i.is(":focus")===false){i.val(j.getValue()).select()}return j};g.extend(this,{onInitialize:new e.Event.Handler(),onChange:new e.Event.Handler(),onDestroy:new e.Event.Handler()});j.onInitialize.notify({value:m})}function a(k,m){var j=this,l=k.value||{text:"",value:""},i=g('<select class="grid-select-editor"/>');this.append=function(n){i.appendTo(n);return j};this.remove=function(){if(i&&i.length){i.detach()}return j};this.destroy=function(){i.remove();i=undefined;j.onDestroy.notify({})};this.getValue=function(){return{text:i.find("option:selected").text(),value:i.val()}};this.setValue=function(n){i.val(n);j.onChange.notify({value:n});return j};this.focus=function(){i.focus();return j};this.setSource=function(n){if(n.constructor===Array){var o="";var q=false;for(var p=0;p<n.length;p++){q=l.value===n[p].value;o+='<option value="'+n[p].value+'"'+(q?" selected":"")+">"+n[p].text+"</option>"}i.append(o)}};g.extend(this,{onInitialize:new e.Event.Handler(),onChange:new e.Event.Handler(),onDestroy:new e.Event.Handler()});j.onInitialize.notify({value:l})}function d(i,j,k){if(!i.length){throw new TypeError("Editor name is not defined")}if(k instanceof Object===false){throw new TypeError("Settings is not defined")}if(e.Utils.isFunction(i,e.Cell.Editor)===false){throw new TypeError("name is not defined")}return new e.Cell.Editor[i](j,k)}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(e,a){e.extend(true,a,{Cell:{Formatter:{Checkbox:k,Date:b,Default:d,Float:h,Integer:f,Money:c,Select:i,None:d,Radio:g,Text:j}}});function d(n,m,o,l){return n!=null?n.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;"):""}function k(n,m,o,l){return n?"<i class='fa fa-check-square-o'></i>":"<i class='fa fa-square-o'></i>"}function g(n,m,o,l){return n?"<i class='fa fa-dot-circle-o'></i>":"<i class='fa fa-circle-o'></i>"}function h(n,m,o,l){return(parseFloat(n)||0).toFixed(l.formatter.floatFormatter.decimals).replace(/\d(?=(\d{3})+\.)/g,"$&,")}function f(n,m,o,l){return(parseInt(n,10)||0).toFixed(l.formatter.integerFormatter.decimals).replace(/\d(?=(\d{3})+\.)/g,"$&,")}function c(n,m,o,l){n=+n;if(!isNaN(n)){n=new Intl.NumberFormat(l.formatter.moneyFormatter.locales,l.formatter.moneyFormatter.options).format(n);return n+"<i class='fa fa fa-pencil grid-text-icon-formatter'></i>"}return d(n,m,o,l)}function b(n,m,o,l){if(!(n instanceof Date)){n=Date.parse(n)}if(!isNaN(n)){n=new Intl.DateTimeFormat(l.formatter.dateFormatter.locales,l.formatter.moneyFormatter.options).format(n);return n+"<i class='fa fa-calendar grid-date-icon-formatter'></i>"}return d(n,m,o,l)}function i(n,m,o,l){if(n instanceof Object){return n.text+"<i class='fa fa-caret-square-o-down grid-select-icon-formatter'></i>"}else{return n+"<i class='fa fa-caret-square-o-down grid-select-icon-formatter'></i>"}}function j(o,n,p,m){var l=d(o,n,p,m);return l+"<i class='fa fa fa-pencil grid-text-icon-formatter'></i>"}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(f,d){f.extend(true,d,{Column:{Comparer:{Default:b,Date:e,Number:c,String:g}}});function b(h){return function(k,j){var i=(h.field in k.item)?k.item[h.field]:null,l=(h.field in j.item)?j.item[h.field]:null;if(i instanceof Date&&l instanceof Date){i=i.getTime();l=l.getTime()}else{if(!isNaN(parseFloat(i))&&isFinite(i)){i++;l++}else{if(i&&typeof i.toString==="function"&&l&&typeof l.toString==="function"){i=i.toString().toLowerCase();l=l.toString().toLowerCase()}}}return(i==l?0:(i>l?h.sortOrder:-h.sortOrder))}}function c(i){var h=i.sortOrder;return function(l,k){var j=(i.field in l.item)?l.item[i.field]:null,m=(i.field in k.item)?k.item[i.field]:null;return(j-m)*h}}function a(i){var h=i.sortOrder;return function(l,k){var j=(i.field in l.item)?l.item[i.field].toLowerCase():null,m=(i.field in k.item)?k.item[i.field].toLowerCase():null;return j.localeCompare(m)*h}}function g(i){var h=i.sortOrder;return function(l,k){var j=(i.field in l.item)?l.item[i.field].toLowerCase():null,m=(i.field in k.item)?k.item[i.field].toLowerCase():null;return(j==m?0:(j>m?1*h:-1*h))}}function e(i){var h=i.sortOrder;return function(l,k){var j=(i.field in l.item)?l.item[i.field]:null,m=(i.field in k.item)?k.item[i.field]:null;return(new Date(j)-new Date(m))*h}}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(c,b){c.extend(true,b,{Column:{Create:d,Model:e,ColumnData:a}});function a(){}a.prototype.align="";a.prototype.cellCssClass="";a.prototype.editable=true;a.prototype.editor=undefined;a.prototype.editMode=false;a.prototype.field="";a.prototype.filterable=false;a.prototype.formatter="Default";a.prototype.headerCssClass="";a.prototype.hidden=false;a.prototype.id=undefined;a.prototype.item=null;a.prototype.maxWidth=9999;a.prototype.minWidth=25;a.prototype.name="";a.prototype.resizeable=true;a.prototype.sortable=true;a.prototype.sortComparer="Default";a.prototype.sortOrder=0;a.prototype.width=50;function e(G){var w=this;var K=[];this.items={addItem:function(O){A(F(O));return w},addItems:function(O){if(O.length){w.onChange.blockEvents();for(var P=0;P<O.length;P++){w.items.addItem(O[P])}w.onChange.notifyBlocked()}return w},deleteItems:function(){return s()},deleteItemById:function(O){return D(O)},getItems:function(){var O=[];for(var P=0;P<K.length;P++){O.push(K[P].item)}return O},setItems:function(O){if(O.length){w.onChange.blockEvents();K=[];for(var P=0;P<O.length;P++){w.items.addItem(O[P])}w.onChange.notifyBlocked()}return w},updateItemById:function(Q,P){for(var O=0;O<K.length;O++){if(K[O].id===Q){K[O].item=P;w.onChange.notify({id:Q});break}}return w},updateItemByIndex:function(O,P){if(K[O]){K[O].item=P;w.onChange.notify({id:K[O].id})}return w}};function I(){K=[]}function n(O){if(K.length){return K.filter(O)}return[]}function o(P,O){if(K.length){return K.reduce(P,O)}}function H(O){if(K.length){w.onChange.blockEvents();K.sort(O);w.onChange.notifyBlocked()}return w}function t(){return K.length===0}function M(){return K.length}function A(O){if(O instanceof a){K.push(O);w.onChange.notify({id:O.id})}return w}function k(P){if(P.length){w.onChange.blockEvents();for(var O=0;O<P.length;O++){A(P[O])}w.onChange.notifyBlocked()}return w}function m(O){if(O instanceof a){D(O.id)}return w}function D(P){for(var O=0;O<K.length;O++){if(K[O].id===P){K.splice(O,1);w.onChange.notify({id:P});break}}return w}function N(O){if(K[O]){var P=K[O].id;K.splice(O,1);w.onChange.notify({id:P})}return w}function s(){if(K.length){w.onChange.blockEvents();K=[];w.onChange.notifyBlocked()}return w}function i(P){for(var O=0;O<K.length;O++){if(K[O].id===P){return K[O]}}}function h(O){return K[O]}function B(O){return K[O].id}function J(P){for(var O=0;O<K.length;O++){if(K[O].id===P){return O}}return -1}function C(Q,O){var P=i(Q);if(P&&O&&O in P){return P[O]}}function l(O,P){var Q=h(O);if(Q&&P&&P in Q){return Q[P]}}function j(){return K}function x(P,O){g(J(P),O);return w}function g(O,P){if(P instanceof a){K.splice(O+1,0,P);w.onChange.notify({id:P.id})}return w}function y(P,O){v(J(P),O);return w}function v(O,P){if(P instanceof a){K.splice(O,0,P);w.onChange.notify({id:P.id})}return w}function L(R,P,O){for(var Q=0;Q<K.length;Q++){if(K[Q].id===R){if(P&&P in K[Q]){K[Q][P]=O;w.onChange.notify({id:R})}break}}return w}function r(O,Q,P){if(Q&&Q in K[O]){K[O][Q]=P;w.onChange.notify({id:K[O].id})}return w}function z(P){if(P.length){w.onChange.blockEvents();K=[];for(var O=0;O<P.length;O++){A(P[O])}w.onChange.notifyBlocked()}return w}function q(P,O){w.onChange.blockEvents();for(var Q=0;Q<K.length;Q++){K[Q][P]=O;w.onChange.notify({id:K[Q].id})}w.onChange.notifyBlocked();return w}function u(O){if(O instanceof a){p(O.id,O)}return w}function p(Q,P){if(P instanceof a){for(var O=0;O<K.length;O++){if(K[O].id===Q){K[O]=P;w.onChange.notify({id:Q});break}}}return w}function f(O,P){if(P instanceof a){if(K[O]){K[O]=P;w.onChange.notify({id:P.id})}}return w}function E(P){if(P.length){w.onChange.blockEvents();for(var O=0;O<P.length;O++){u(P[O])}w.onChange.notifyBlocked()}return w}function F(P){if(P instanceof Object){var O=new a();if(G.columns.newIdType==="number"){O.id=b.Utils.isProperty(G.columns.idProperty,O)?O[G.columns.idProperty]:b.Utils.createId()}else{O.id=b.Utils.isProperty(G.columns.idProperty,O)?O[G.columns.idProperty]:b.Utils.createGuid()}O.name=P.name;O.field=P.field;O.item=P;if("align" in P){O.align=P.align}if("cellCssClass" in P){O.cellCssClass=P.cellCssClass}if("editable" in P){O.editable=P.editable}if("editor" in P){O.editor=P.editor}if("editMode" in P){O.editMode=P.editMode}if("filterable" in P){O.filterable=P.filterable}if("formatter" in P){O.formatter=P.formatter}if("headerCssClass" in P){O.headerCssClass=P.headerCssClass}if("hidden" in P){O.hidden=P.hidden}if("maxWidth" in P){O.maxWidth=P.maxWidth}if("minWidth" in P){O.minWidth=P.minWidth}if("resizeable" in P){O.resizeable=P.resizeable}if("sortable" in P){O.sortable=P.sortable}if("sortOrder" in P){O.sortOrder=P.sortOrder}if("sortComparer" in P){O.sortComparer=P.sortComparer}if("width" in P){O.width=P.width}return O}}c.extend(this,{destroy:I,onChange:new b.Event.Handler(),filter:n,reduce:o,sort:H,total:M,addColumn:A,addColumns:k,createColumn:F,deleteColumn:m,deleteColumnById:D,deleteColumnByIndex:N,deleteColumns:s,getColumnById:i,getColumnByIndex:h,getColumnIdByIndex:B,getColumnIndexById:J,getColumnPropertyById:C,getColumnPropertyByIndex:l,getColumns:j,insertColumnAfterId:x,insertColumnAfterIndex:g,insertColumnBeforeId:y,insertColumnBeforeIndex:v,isEmpty:t,setColumnPropertyById:L,setColumnPropertyByIndex:r,setColumns:z,setColumnsProperty:q,updateColumn:u,updateColumnById:p,updateColumnByIndex:f,updateColumns:E})}function d(g,f){if(Array.isArray(g)===false){throw new TypeError("Data is not defined")}if(f instanceof Object===false){throw new TypeError("Settings is not defined")}return new e(f).items.addItems(g)}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(d,c){d.extend(true,c,{Event:{Data:b,Handler:a}});function b(i){for(var e in i){if(i.hasOwnProperty(e)){this[e]=i[e]}}var f=false;var h=false;var g=false;this.preventDefault=function(){if(i&&"event" in i&&typeof i.event.preventDefault==="function"){i.event.preventDefault()}g=true};this.isDefaultPrevented=function(){return g};this.stopPropagation=function(){if(i&&"event" in i&&typeof i.event.stopPropagation==="function"){i.event.stopPropagation()}f=true};this.isPropagationStopped=function(){return f};this.stopImmediatePropagation=function(){if(i&&"event" in i&&typeof i.event.stopImmediatePropagation==="function"){i.event.stopImmediatePropagation()}h=true};this.isImmediatePropagationStopped=function(){return h}}function a(){var g=this,f=[],e=false,h=[];g.subscribe=function(i){if(d.isFunction(i)){f.push(i)}return g};g.unsubscribe=function(k){for(var j=f.length-1;j>=0;j--){if(f[j]===k){f.splice(j,1)}}return g};g.unsubscribeLast=function(){if(f.length){f.pop()}return g};g.unsubscribeAll=function(){f=[];return g};g.blockEvents=function(){e=true};g.notifyBlocked=function(i){e=false;g.notify(new b({opts:i||{},data:h}));h=[]};g.notify=function(k){if(e===true){return h.push(k)}if(typeof k!==b){k=new b(k)}for(var j=0;j<f.length&&!k.isImmediatePropagationStopped();j++){if(f[j].call(g,k)===false){g.stopImmediatePropagation();break}}}}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(c,a){c.extend(true,a,{Grid:{Create:d,Model:b}});function b(w,h,A){var s=this,u={},j="0.6 beta",t=a.Utils.createGuid();function x(){z(A.plugins);var C=["windowManager","view","viewModel"];for(var D=0;D<C.length;D++){h[C[D]].init()}s.onInitialize.notify({});return s}function B(){k();var C=["windowManager","view","viewModel","rowsModel","columnsModel"];for(var D=0;D<C.length;D++){h[C[D]].destroy();delete h[C[D]]}s.onDestroy.notify({})}function f(){return h.windowManager}function e(){return h.view}function p(){return h.viewModel}function n(){return h.rowsModel}function v(){return h.columnsModel}function y(){return A}function g(C){if(u[C]){return u[C]}}function m(){return u}function i(C){return u[C]!==undefined}function r(C,E){if(i(C)){l(C)}var D=a.Plugins.Create(C,h,A,E);if(!D){throw new Error("Plugin is not defined.")}u[C]=D}function z(C){var E=Object.keys(C);for(var D=0;D<E.length;D++){r(E[D],C[E[D]])}}function l(C){if(u[C]){u[C].destroy();delete u[C]}}function k(){var D=Object.keys(u);for(var C=0;C<D.length;C++){l(D[C])}}function o(){return j}function q(){return t}c.extend(this,{init:x,destroy:B,getId:q,getPlugin:g,getPlugins:m,getSettings:y,getVersion:o,getView:e,getViewModel:p,getRowsModel:n,getColumnsModel:v,getWindowManager:f,isRegisteredPlugin:i,registerPlugin:r,registerPlugins:z,unregisterPlugin:l,unregisterPlugins:k,onInitialize:new a.Event.Handler(),onDestroy:new a.Event.Handler()})}function d(n,o,i,p,f){var h=a.Settings.Create(p||{});var j=a.Row.Create(o||[],h);var g=a.Column.Create(i||[],h);var m=a.View.Model.Create(j,g,h,false);var l=a.View.Create(n,m,h,false);var k=a.View.Window.Create(l,h,false);var e=new b(n,{columnsModel:g,rowsModel:j,view:l,viewModel:m,windowManager:k},h);if(f!==false){e.init()}return e}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(c,b){c.extend(true,b,{Handler:{Click:{Create:a,Handler:d}}});function d(m,h){m.on("click",i).on("mousedown",e).on("contextmenu",k).on("dblclick",f).on("keydown",g);function j(n){if(n&&n.target){var p=c(n.target).closest(h.cellIdentifier);if(p.length){var o=p.closest(h.rowIdentifier);if(o.length){return{cellIndex:p.index(),rowIndex:o.index(),event:n}}}}}function e(n){if(n.ctrlKey||n.shiftKey){document.getSelection().removeAllRanges();n.preventDefault()}}function i(n){var o=j(n);if(o&&h.handleClick){h.handleClick(o)}}function k(n){var o=j(n);if(o&&h.handleContextMenu){h.handleContextMenu(o)}}function f(n){var o=j(n);if(o&&h.handleDblClick){h.handleDblClick(o)}}function g(n){var o=j(n);if(o&&h.handleKeyDown){h.handleKeyDown(o)}}function l(){m.off("click",i).off("mousedown",e).off("contextmenu",k).off("dblclick",f).off("keydown",g);var o=Object.keys(h);for(var n=0;n<o.length;n++){delete h[o[n]]}}c.extend(this,{destroy:l})}function a(h,e){if(!h.length){throw new TypeError("Container is not defined or does not exist in the DOM.")}if(h.length!=1){throw new TypeError("There should be only 1 container.")}var g={rowIdentifier:"TR",cellIdentifier:"TD",handleClick:undefined,handleDblClick:undefined,handleContextMenu:undefined,handleKeyDown:undefined};var f=c.extend({},g,e);return new d(h,f)}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(c,b){c.extend(true,b,{Handler:{Resize:{Create:a,Handler:d}}});function d(n,g){var j,k,h,f=false;n.on("mousedown",g.handlerIdentifier,e);c(document).on("mousemove",i).on("mouseup",m);function e(o){j=c(this).closest(g.cellIdentifier);if(j.length){k=j.index();h=o.pageX;g.handleResizeStart({cellElement:j,cellIndex:k,event:o});f=true}}function i(o){if(f){var p=o.pageX-j.offset().left;if(p>0){g.handleResize({cellElement:j,cellIndex:k,xDelta:o.pageX-h,width:p,event:o})}}}function m(o){if(f){f=false;g.handleResizeStop({cellElement:j,cellIndex:k,event:o})}}function l(){n.off("mousedown",e);c(document).off("mousemove",i).off("mouseup",m);j=undefined;var p=Object.keys(g);for(var o=0;o<p.length;o++){delete g[p[o]]}}c.extend(this,{destroy:l})}function a(h,e){if(!h.length){throw new TypeError("Container is not defined or does not exist in the DOM.")}if(h.length!==1){throw new TypeError("There should be only 1 container.")}var g={cellIdentifier:"TD",handleResize:undefined,handleResizeStart:undefined,handleResizeStop:undefined,handlerIdentifier:undefined};var f=c.extend({},g,e);return new d(h,f)}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(d,c){d.extend(true,c,{Handler:{Scroll:{Create:a,Handler:b}}});function b(n,f){if(f.resetTop){n[0].scrollTop=0}if(f.resetLeft){n[0].scrollLeft=0}var i,l,m=false,k=false,g={scrollTop:n[0].scrollTop,scrollLeft:n[0].scrollLeft};n.on("scroll",h);n.on("wheel",e);function e(o){clearTimeout(l);if(k===false){k=true;f.handleMouseWheelStart({event:o})}f.handleMouseWheel({event:o});l=setTimeout(function(){f.handleMouseWheelStop({event:o});k=false},f.latency)}function h(p){var o={scrollTop:n[0].scrollTop,scrollLeft:n[0].scrollLeft,topDelta:n[0].scrollTop-g.scrollTop,leftDelta:n[0].scrollLeft-g.scrollLeft,event:p};clearTimeout(i);if(m===false){m=true;f.handleScrollStart(o)}f.handleScroll(o);i=setTimeout(function(){f.handleScrollStop(o);m=false},f.latency);g={scrollTop:o.scrollTop,scrollLeft:o.scrollLeft}}function j(){clearTimeout(i);clearTimeout(l);n.off("scroll",h);n.off("wheel",e);var p=Object.keys(f);for(var o=0;o<p.length;o++){delete f[p[o]]}}d.extend(this,{destroy:j})}function a(h,e){if(!h.length){throw new TypeError("Container is not defined or does not exist in the DOM.")}if(h.length!=1){throw new TypeError("There should be only 1 container.")}var g={handleMouseWheel:undefined,handleMouseWheelStart:undefined,handleMouseWheelStop:undefined,handlescroll:undefined,handlescrollStart:undefined,handlescrollStop:undefined,latency:300,resetLeft:true,resetTop:true};var f=d.extend({},g,e);return new b(h,f)}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(d,c){d.extend(true,c,{Handler:{Shared:{GetInstance:e,Handler:a}}});function a(){var i=this,g;d(window).on("click",h).on("contextmenu",f).on("resize",k);function h(l){i.onClick.notify({event:l})}function f(l){i.onContextMenu.notify({event:l})}function k(l){if(g){clearTimeout(g)}g=setTimeout(function(){i.onResize.notify({event:l})},400)}function j(){clearTimeout(g);d(window).off("click",h).off("contextmenu",f).off("resize",k)}d.extend(this,{onClick:new c.Event.Handler(),onContextMenu:new c.Event.Handler(),onResize:new c.Event.Handler(),destroy:j})}var b;function e(){if(!b){b=new a()}return b}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(c,b){c.extend(true,b,{Plugins:{Create:a}});function a(d,e,f,h){if(!d.length){throw new Error("Plugin name is not defined.")}if(e.view instanceof b.View.View===false){throw new TypeError("View is not defined")}if(e.windowManager instanceof b.View.Window.Manager===false){throw new TypeError("WindowManager is not defined")}if(f instanceof Object===false){throw new TypeError("Settings is not defined")}if(b.Utils.isFunction(d,b.Plugins)!==true){throw new TypeError("name is not defined")}f.plugins[d]=jQuery.extend(true,f.plugins[d]||{},h||{});var g=new b.Plugins[d](e,f);return g.init()}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(c,b){c.extend(true,b,{Query:{FilterQuery:a}});function a(p){var t=this;var n=[];var e=b.Utils.createGuid();function f(){return e}function i(){return p}function m(){n=[];return t}function g(){return n}function s(u,v){if(u in t){return t[u](v||"")}throw new TypeError("Type "+u+" not found.")}function l(){n.push({action:"and"});return t}function k(){n.push({action:"or"});return t}function r(u){n.push({action:"eq",value:u});return t}function q(u){n.push({action:"neq",value:u});return t}function j(u){n.push({action:"startsWith",value:u});return t}function d(u){n.push({action:"endsWith",value:u});return t}function h(u){n.push({action:"contains",value:u});return t}function o(u){n.push({action:"doesNotContain",value:u});return t}c.extend(this,{getId:f,getField:i,clear:m,get:g,add:s,and:l,or:k,contains:h,doesnotcontain:o,endswith:d,eq:r,neq:q,startswith:j})}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(c,b){c.extend(true,b,{Query:{Request:a}});function a(g,l,m){function n(){for(var q=0;q<l.length;q++){var r=l[q];m.sort(b.Column.Comparer[r.getSortComparer()]({sortOrder:r.getSortOrder(),field:r.getField()}))}}function d(){for(var q=0;q<l.length;q++){var r=l[q];m.sort(b.Column.Comparer[r.getSortComparer()]({sortOrder:r.getSortOrder(),field:r.getField()}))}}function e(s,q,r){n();return m.filter(f(s,q,r,o()))}function j(s,q,r){return m.filter(i(s,q,r,k()))}function p(t){var u={width:0,count:0};var r=m.getColumns();var s=k();for(var q=0;q<r.length;q++){if((s&&(s(r[q])===false))||(r[q].hidden===true)){continue}u.width+=r[q].width+t;u.count++}return u}function h(q){var t={height:0,count:0};var u=m.getRows();var s=o();for(var r=0;r<u.length;r++){if((s&&(s(u[r])===false))||(u[r].hidden===true)){continue}t.height+=u[r].height+q;t.count++}return t}function k(){return""}function o(){var t="";for(var s=0;s<g.length;s++){var r=g[s].get(),w=g[s].getField(),q="";for(var u=0;u<r.length;u++){var v=r[u];switch(v.action){case"and":q+=" && ";break;case"or":q+=" || ";break;case"eq":q+=" (item.item['"+w+"'] == '"+v.value+"') === true ";break;case"neq":q+=" (item.item['"+w+"'] == '"+v.value+"') === false ";break;case"startsWith":q+=" (('' + item.item['"+w+"']).indexOf('"+v.value+"') === 0) === true ";break;case"endsWith":q+=" (('' + item.item['"+w+"']).indexOf('"+v.value+"', item.item['"+w+"'].length - '"+v.value+"'.length) !== -1) === true ";break;case"contains":q+=" (('' + item.item['"+w+"']).indexOf('"+v.value+"') !== -1) === true ";break;case"doesNotContain":q+=" (('' + item.item['"+w+"']).indexOf('"+v.value+"') !== -1) === false ";break}}if(q.length){if(s!==0){t+=" && "}t+="("+q+")"}}if(t.length){return new Function("item","return "+t)}}function i(r,v,x,u){var t=0,s=r-v-x,q=r+2*v+x,w=0;return function(z,y,B){if((u&&(u(z)===false))||(z.hidden===true)){return false}w++;var A=s<=t&&t<=q;t+=x+z.width;if(A||(s<=t&&t<=q)){z.calcWidth=t;z.calcIndex=w;return true}return false}}function f(s,r,w,u){var x=0,t=s-r-w,q=s+2*r+w,v=0;return function(z,y,B){if(u&&(u(z)===false)||(z.hidden===true)){return false}v++;var A=t<=x&&x<=q;x+=w+z.height;if(A||(t<=x&&x<=q)){z.calcHeight=x;z.calcIndex=v;return true}return false}}c.extend(this,{getColumnsInRange:j,getColumnsTotal:p,getRowsTotal:h,getRowsInRange:e})}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(c,b){c.extend(true,b,{Query:{SorterQuery:a}});function a(j,i,h){var e=this;function f(){return j}function d(){return i}function g(){return h}c.extend(this,{getField:f,getSortOrder:d,getSortComparer:g})}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(d,c){d.extend(true,c,{Row:{Create:e,Model:a,RowData:b}});function b(){}b.prototype.cellCssClass="";b.prototype.disabled=false;b.prototype.editable=true;b.prototype.editMode=false;b.prototype.height=20;b.prototype.hidden=false;b.prototype.id=undefined;b.prototype.item=null;b.prototype.maxHeight=200;b.prototype.minHeight=20;b.prototype.rowCssClass="";function a(E){var y=this;var K=[];this.items={addItem:function(O){f(g(O));return y},addItems:function(O){if(O.length){y.onChange.blockEvents();for(var P=0;P<O.length;P++){y.items.addItem(O[P])}y.onChange.notifyBlocked()}return y},deleteItems:function(){return k()},deleteItemById:function(O){return j(O)},getItems:function(){var O=[];for(var P=0;P<K.length;P++){O.push(K[P].item)}return O},setItems:function(O){if(O.length){y.onChange.blockEvents();K=[];for(var P=0;P<O.length;P++){y.items.addItem(O[P])}y.onChange.notifyBlocked()}return y},updateItemById:function(Q,P){for(var O=0;O<K.length;O++){if(K[O].id===Q){K[O].item=P;y.onChange.notify({id:Q});break}}return y},updateItemByIndex:function(O,P){if(K[O]){K[O].item=P;y.onChange.notify({id:K[O].id})}return y}};function H(){K=[]}function t(O){if(K.length){return K.filter(O)}return[]}function u(P,O){if(K.length){return K.reduce(P,O)}}function F(O){if(K.length){y.onChange.blockEvents();K.sort(O);y.onChange.notifyBlocked()}return y}function w(){return K.length===0}function N(){return K.length}function p(P){if(P.length){y.onChange.blockEvents();for(var O=0;O<P.length;O++){f(P[O])}y.onChange.notifyBlocked()}return y}function A(P){if(P.length){y.onChange.blockEvents();for(var O=0;O<P.length;O++){n(P[O])}y.onChange.notifyBlocked()}return y}function B(P){if(P.length){y.onChange.blockEvents();K=[];for(var O=0;O<P.length;O++){f(P[O])}y.onChange.notifyBlocked()}return y}function C(P,O){y.onChange.blockEvents();for(var Q=0;Q<K.length;Q++){K[Q][P]=O;y.onChange.notify({id:K[Q].id})}y.onChange.notifyBlocked();return y}function k(){if(K.length){y.onChange.blockEvents();K=[];y.onChange.notifyBlocked()}return y}function f(O){if(O instanceof b){K.push(O);y.onChange.notify({id:O.id})}return y}function z(O){if(O instanceof b){j(O.id)}return y}function j(P){for(var O=0;O<K.length;O++){if(K[O].id===P){K.splice(O,1);y.onChange.notify({id:P});break}}return y}function M(O){if(K[O]){var P=K[O].id;K.splice(O,1);y.onChange.notify({id:P})}return y}function q(P){for(var O=0;O<K.length;O++){if(K[O].id===P){return K[O]}}}function G(O){return K[O]}function m(O){return K[O].id}function s(P){for(var O=0;O<K.length;O++){if(K[O].id===P){return O}}return -1}function o(Q,O){var P=q(Q);if(P&&O&&O in P){return P[O]}}function x(O,P){var Q=G(O);if(Q&&P&&P in Q){return Q[P]}}function J(){return K}function I(P,O){v(s(P),O);return y}function v(O,P){if(P instanceof b){K.splice(O+1,0,P);y.onChange.notify({id:P.id})}return y}function L(P,O){h(s(P),O);return y}function h(O,P){if(P instanceof b){K.splice(O,0,P);y.onChange.notify({id:P.id})}return y}function l(R,P,O){for(var Q=0;Q<K.length;Q++){if(K[Q].id===R){if(P&&P in K[Q]){K[Q][P]=O;y.onChange.notify({id:R})}break}}return y}function D(O,Q,P){if(Q&&Q in K[O]){K[O][Q]=P;y.onChange.notify({id:K[O].id})}return y}function n(O){if(O instanceof b){r(O.id,O)}return y}function r(Q,P){if(P instanceof b){for(var O=0;O<K.length;O++){if(K[O].id===Q){K[O]=P;y.onChange.notify({id:Q});break}}}return y}function i(O,P){if(P instanceof b){if(K[O]){K[O]=P;y.onChange.notify({id:P.id})}}return y}function g(O){if(O instanceof Object){var P=new b();if(E.rows.newIdType==="number"){P.id=c.Utils.isProperty(E.rows.idProperty,O)?O[E.rows.idProperty]:c.Utils.createId()}else{P.id=c.Utils.isProperty(E.rows.idProperty,O)?O[E.rows.idProperty]:c.Utils.createGuid()}P.item=O;if("cellCssClass" in O){P.cellCssClass=O.cellCssClass}if("disabled" in O){P.disabled=O.disabled}if("editable" in O){P.editable=O.editable}if("editMode" in O){P.editMode=O.editMode}if("height" in O){P.height=O.height}if("hidden" in O){P.hidden=O.hidden}if("maxHeight" in O){P.maxHeight=O.maxHeight}if("minHeight" in O){P.minHeight=O.minHeight}if("rowCssClass" in O){P.rowCssClass=O.rowCssClass}return P}}d.extend(this,{destroy:H,onChange:new c.Event.Handler(),filter:t,reduce:u,sort:F,total:N,addRow:f,addRows:p,createRow:g,deleteRow:z,deleteRowById:j,deleteRowByIndex:M,deleteRows:k,getRowById:q,getRowByIndex:G,getRowIdByIndex:m,getRowIndexById:s,getRowPropertyById:o,getRowPropertyByIndex:x,getRows:J,insertRowAfterId:I,insertRowAfterIndex:v,insertRowBeforeId:L,insertRowBeforeIndex:h,isEmpty:w,setRowPropertyById:l,setRowPropertyByIndex:D,setRows:B,setRowsProperty:C,updateRow:n,updateRowById:r,updateRowByIndex:i,updateRows:A})}function e(g,f){if(Array.isArray(g)===false){throw new TypeError("Data is not defined")}if(f instanceof Object===false){throw new TypeError("Settings is not defined")}return new a(f).items.addItems(g)}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(f,c){var d=function(){var m=[];for(var l=0;l<256;l++){m[l]=l<16?"0"+l.toString(16):l.toString(16)}return function(){var q=Math.random()*4294967295|0,s=Math.random()*4294967295|0,p=Math.random()*4294967295|0,o=Math.random()*4294967295|0;return(m[q&255]+m[q>>8&255]+m[q>>16&255]+m[q>>24&255]+"-"+m[s&255]+m[s>>8&255]+"-"+m[s>>16&15|64]+m[s>>24&255]+"-"+m[p&63|128]+m[p>>8&255]+"-"+m[p>>16&255]+m[p>>24&255]+m[o&255]+m[o>>8&255]+m[o>>16&255]+m[o>>24&255]).toLowerCase()}}();var g=function(){var l=0;return function(){return""+l++}}();function b(m,l){return l&&m&&m in l&&typeof l[m]==="function"}function j(l,m){return l&&l in m}function a(l){return(/^true$/i).test(l)}function k(){var n=1000000,m=1000000,l=f('<div style="display:none; " />').appendTo(document.body);do{l.css("height",m);if(l.height()===m){m+=n}else{break}}while(m<16000000);l.remove();return m-n}function i(){var l=f('<div style="position:absolute; top:-100px; left:-100px; width:100px; height:100px; overflow:scroll;"></div>').appendTo(document.body);var m={width:l.width()-l[0].clientWidth,height:l.height()-l[0].clientHeight};l.remove();return m}function e(l){var n=f("<table class='grid-content-table' style='position:absolute; top:-100px; left:-100px;'><tbody><tr><td class='"+l+"' style='width:5px; height:5px;'>-</td></tr></tbody></table>").appendTo(document.body);var o=n.find("TD");var m={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()};n.remove();n=o=undefined;return m}function h(l){return l<0?1:-1}f.extend(true,c,{Utils:{changeSortOrder:h,createGuid:d,createId:g,isFunction:b,isProperty:j,measureCellDiff:e,measureMaxSupportedCssHeight:k,measureScrollbar:i,parseBool:a}})})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(c,b){c.extend(true,b,{View:{Builder:{Create:a,Builder:d}}});function d(t){var p=this;function u(z){var y={headerCol:null,headerTbody:null,headerTable:null,headerWrap:null,contentCol:null,contentTbody:null,contentTable:null,contentWrap:null,header:null,content:null,footer:null,preload:null,viewport:null,container:z};y.viewport=c("<div class='grid-viewport'/>");y.header=c("<div class='grid-header'/>");y.content=c("<div class='grid-content'/>");y.footer=c("<div class='grid-footer'/>");y.preload=c("<div class='grid-preload-font'/>");y.headerCol=c("<colgroup></colgroup>");y.headerTable=c("<table class='grid-header-table'></table>");y.headerTbody=c("<tbody></tbody>");y.headerWrap=c("<div class='grid-header-wrap'/>");y.contentCol=c("<colgroup></colgroup>");y.contentTable=c("<table class='grid-content-table'></table>");y.contentTbody=c("<tbody></tbody>");y.contentWrap=c("<div class='grid-content-wrap'/>");y.headerCol.appendTo(y.headerTable);y.headerTbody.appendTo(y.headerTable);y.headerTable.appendTo(y.headerWrap);y.headerWrap.appendTo(y.header);y.contentCol.appendTo(y.contentTable);y.contentTbody.appendTo(y.contentTable);y.contentTable.appendTo(y.contentWrap);y.contentWrap.appendTo(y.content);y.header.appendTo(y.viewport);y.content.appendTo(y.viewport);y.footer.appendTo(y.viewport);y.preload.appendTo(y.viewport);if(t.header.disableTextSelection){y.header.addClass(t.cssClass.disableTextSelection)}if(t.rows.disableTextSelection){y.content.addClass(t.cssClass.disableTextSelection)}return y}function o(A,C){var z="<tr class='"+t.cssClass.headerRow+"'>";for(var y=0,B=A.length-1;y<=B;y++){z+=k(A[y],C,B===y)}if(C.virtualColumnWidth>=0&&t.showLastColumn===true){z+=l(A[y-1],C)}return z+"</tr>"}function f(z,A,B){var y=t.cssClass.headerCell;if(z.headerCssClass){y+=" "+z.headerCssClass}if(B&&A.hideColumnBorder){y+=" "+t.cssClass.cellColumnLast}switch(z.align){case"center":y+=" "+t.cssClass.cellAlignCenter;break;case"right":y+=" "+t.cssClass.cellAlignRight;break}if(z.sortable||z.filterable){y+=" "+t.cssClass.cursorPointer}return y}function k(z,A,B){var y;y="<td style='height:"+t.header.height+"px' class='"+f(z,A,B)+"'><div class='"+t.cssClass.headerCellDiv+"'><span class='"+t.cssClass.headerColumnName+"'>"+(z.name||"")+"</span>";if(z.sortable&&z.sortOrder!==0){y+="<span class='"+(z.sortOrder===1?t.cssClass.headerSortUp:t.cssClass.headerSortDown)+"'></span>"}if(z.filterable){y+="<span class='"+t.cssClass.headerFilter+"'></span>"}y+="</div>";if(z.resizeable){y+="<span class='"+t.cssClass.headerResizeHandle+"'></span>"}return y+"</td>"}function l(y,z){return"<td class='"+t.cssClass.headerCell+" "+t.cssClass.cellColumnLast+"' style='height:"+t.header.height+"px'></td>"}function q(A,C){var z="";for(var y=0,B=A.length;y<B;y++){z+=s(A[y])}if(C.virtualColumnWidth>=0&&t.showLastColumn===true){z+=n(A[y-1],C)}return z}function i(z){var y=t.cssClass.col;if(z.headerCssClass){y+=" "+z.headerCssClass}return y}function s(y){return"<col style='width:"+(y.width+t.cellOuterSize.width)+"px;' class='"+i(y)+"'/>"}function n(y,z){return"<col style='width:"+z.virtualColumnWidth+"px;' class='"+t.cssClass.col+" "+t.cssClass.collLast+"'/>"}function x(A,D,C){var z="";for(var y=0,B=D.length-1;y<=B;y++){z+=e(A,D[y],C,B===y)}return z}function j(y,B,A,C){var z=t.cssClass.row+(B.calcIndex&1===1?" "+t.cssClass.rowEven:" "+t.cssClass.rowOdd);if(B.rowCssClass){z+=" "+B.rowCssClass}switch(B.valign||t.rows.valign){case"middle":z+=" "+t.cssClass.rowValignMiddle;break;case"top":z+=" "+t.cssClass.rowValignTop;break;case"bottom":z+=" "+t.cssClass.rowValignBottom;break;case"baseline":z+=" "+t.cssClass.rowValignBaseline;break}return z}function e(A,D,C,E){var z="<tr class='"+j(A,D,C,E)+"'>";for(var y=0,B=A.length-1;y<=B;y++){z+=v(A[y],D,C,B===y,E)}if(C.virtualColumnWidth>=0&&t.showLastColumn===true){z+=g(A[y-1],C,E)}return z+"</tr>"}function r(z,C,A,B,D){var y=t.cssClass.cell;if(z.cellCssClass){y+=" "+z.cellCssClass}if(B&&A.hideColumnBorder){y+=" "+t.cssClass.cellColumnLast}if(D&&A.hideRowBorder){y+=" "+t.cssClass.cellRowLast}if(z.align==="center"){y+=" "+t.cssClass.cellAlignCenter}if(z.align==="right"){y+=" "+t.cssClass.cellAlignRight}if(C.cellCssClass&&z.field in C.cellCssClass){y+=" "+C.cellCssClass[z.field]}if(C.editMode===true&&z.editMode===true){y+=" "+t.cssClass.cellEdit}return y}function v(y,B,z,A,C){return"<td height='"+B.height+"' class='"+r(y,B,z,A,C)+"'>"+m(y,B)+"</td>"}function g(z,A,B){var y=t.cssClass.cell+" "+t.cssClass.cellColumnLast;if(B&&A.hideRowBorder){y+=" "+t.cssClass.cellRowLast}return"<td class='"+y+"'></td>"}function m(y,A){var z="";if(y.field in A.item&&(A.editMode===false||y.editMode===false)){z=h(y,A)}return z}function h(y,z){return y.formatter?b.Cell.Formatter[y.formatter](w(y,z),y,z,t):w(y,z)}function w(y,z){return z.item[y.field]}c.extend(this,{buildCellContentHtml:m,buildColsHtml:q,buildHeaderColumnsHtml:o,buildRowsHtml:x,buildViewPortElements:u})}function a(e){if(e instanceof Object===false){throw new TypeError("Settings is not defined")}return new d(e)}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(c,b){c.extend(true,b,{View:{Create:d,View:a}});function a(q,au,P,ap){var u=this,R={width:0,height:0},av={rowsHeight:0,columnsWidth:0},am={},f=[],A=null,F=null,N=null,o={horisontal:false,vertical:false},w=[],h=false,B=0;am=P.buildViewPortElements(q);am.container.empty().addClass(ap.uid);am.viewport.appendTo(am.container);function ak(){var aw=l();f.push(b.Handler.Resize.Create(am.header,{handleResize:p,handleResizeStart:e,handleResizeStop:H,handlerIdentifier:"."+ap.cssClass.headerResizeHandle}),b.Handler.Click.Create(am.header,{handleClick:U,handleDblClick:K,handleContextMenu:ag}),b.Handler.Click.Create(am.content,{handleClick:D,handleDblClick:ac,handleContextMenu:aq,handleKeyDown:O}),b.Handler.Scroll.Create(am.content,{handleScrollStart:ai,handleScrollStop:ao,handleScroll:ah,handleMouseWheelStart:V,handleMouseWheelStop:I,handleMouseWheel:ae}));var ax=b.Handler.Shared.GetInstance();ax.onClick.subscribe(an);ax.onResize.subscribe(v);ax.onContextMenu.subscribe(g);au.onRowsChange.subscribe(y);au.onColumnsChange.subscribe(m);au.onInitialize.subscribe(S);n(aw);return u}function ad(){l();clearTimeout(F);clearTimeout(N);au.onRowsChange.unsubscribe(y);au.onColumnsChange.unsubscribe(m);au.onInitialize.unsubscribe(S);var az=b.Handler.Shared.GetInstance();az.onClick.unsubscribe(an);az.onResize.unsubscribe(v);az.onContextMenu.unsubscribe(g);if(am.container.length){for(var ay=0;ay<f.length;ay++){f[ay].destroy();f[ay]=undefined}am.container.removeClass(ap.uid);delete am.container}var ax=Object.keys(am);for(var aw=0;aw<ax.length;aw++){am[ax[aw]].empty().remove();delete am[ax[aw]]}q.empty()}function S(){var aw=l();E();J();n(aw);u.onInitialize.notify({})}function at(){return R}function al(){return P}function af(){return o.horisontal}function s(){return o.vertical}function j(aw){if(am[aw]){return am[aw]}}function ab(aw){var ax=au.getRowById(aw);if(ax){return ax.calcHeight-ax.height-ap.cellOuterSize.height>=am.content[0].scrollTop&&ax.calcHeight+ax.height+ap.cellOuterSize.height<R.height+am.content[0].scrollTop}return false}function T(aw){return am.contentTbody[0].rows[aw]}function Q(aw){var ax=au.getRowIndexById(aw);if(ax!==-1){return T(ax)}}function X(aw,ax){return Z(aw)&&ab(ax)}function C(aw,ax){if(am.contentTbody[0].rows[ax]&&am.contentTbody[0].rows[ax].cells[aw]){return am.contentTbody[0].rows[ax].cells[aw]}}function r(ax,ay){var az=au.getRowIndexById(ay);var aw=au.getColumnIndexById(ax);if(az!==-1&&aw!==-1){return C(aw,az)}}function Z(ax){var aw=au.getColumnById(ax);if(aw){return aw.calcWidth-aw.width-ap.cellOuterSize.width>=am.content[0].scrollLeft&&aw.calcWidth<R.width+am.content[0].scrollLeft}return false}function W(){B++;L();return u}function L(){if(B>0){if(A!==null||x()===true){clearTimeout(F);F=setTimeout(W,187)}else{A++;clearTimeout(F);J();if(ap.renderDelay){N=setTimeout(function(){A=null},ap.renderDelay)}else{A=null}}}return u}function J(){var aA=l();B=0;var ay=1;if(av.rowsHeight>=ap.maxSupportedCssHeight){var aB=R.height+(o.horisontal?ap.scrollbarDimensions.height:0);ay=(av.rowsHeight-aB)/(ap.maxSupportedCssHeight-aB)}var aw=au.requestDataFromRange({top:am.content[0].scrollTop*ay,left:am.content[0].scrollLeft},R,ap.cellOuterSize,{width:o.vertical?ap.scrollbarDimensions.width:0,height:o.horisontal?ap.scrollbarDimensions.height:0},ay===1);if(aw.isCached===0){if(aw.columns.length>0){am.headerTable.css({left:aw.columns[0].calcWidth-aw.columns[0].width-ap.cellOuterSize.width});if(aw.rows.length>0){am.contentTable.css({top:aw.rows[0].calcHeight-aw.rows[0].height-ap.cellOuterSize.height-am.content[0].scrollTop*ay+am.content[0].scrollTop,left:aw.columns[0].calcWidth-aw.columns[0].width-ap.cellOuterSize.width})}var ax=aw.columns[aw.columns.length-1];var az={hideRowBorder:o.horisontal===false&&o.vertical===true,hideColumnBorder:o.vertical===false&&R.width<=ax.calcWidth,virtualColumnWidth:ap.showLastColumn===true&&R.width>=ax.calcWidth?R.width-ax.calcWidth:0};G(P.buildHeaderColumnsHtml(aw.columns,az),P.buildColsHtml(aw.columns,az),P.buildRowsHtml(aw.columns,aw.rows,az))}else{G("","","")}}n(aA)}function G(ay,ax,aC){u.onBeforeRowsRendered.notify({});var aB=am.contentTbody[0].cloneNode(false);var aw=am.headerTbody[0].cloneNode(false);var aA=am.headerCol[0].cloneNode(false);var az=am.contentCol[0].cloneNode(false);aA.innerHTML=az.innerHTML=ax;aB.innerHTML=aC;aw.innerHTML=ay;if(am.contentCol[0].innerHTML!==az.innerHTML){am.contentTable[0].replaceChild(az,am.contentCol[0]);am.contentCol=c(az)}if(am.contentTbody[0].innerHTML!==aB.innerHTML){am.contentTable[0].replaceChild(aB,am.contentTbody[0]);am.contentTbody=c(aB)}if(am.headerCol[0].innerHTML!==aA.innerHTML){am.headerTable[0].replaceChild(aA,am.headerCol[0]);am.headerCol=c(aA)}if(am.headerTbody[0].innerHTML!==aw.innerHTML){am.headerTable[0].replaceChild(aw,am.headerTbody[0]);am.headerTbody=c(aw)}u.onAfterRowsRendered.notify({})}function x(){return w.length>0}function l(ax){var aw=b.Utils.createGuid();w.push(aw);if(ax){ax();return n(aw)}return aw}function n(ax){for(var aw=0;aw<w.length;aw++){if(w[aw]===ax){w.splice(aw,1);return true}}return false}function k(ay,ax){var aw="";if(ax.resizeable&&ay.indexOf(ap.cssClass.headerResizeHandle)!==-1){aw="resize"}else{if(ax.filterable&&ay.indexOf(ap.cssClass.headerFilter)!==-1){aw="filter"}else{if(ax.sortable){aw="sort"}}}return aw}function i(ay,ax,az){var aw="";if(az.editable===true&&ax.editable===true){aw="edit"}else{if(az.disabled===true){aw="disabled"}}return aw}function Y(aw){var ax=au.getColumnByIndex(aw.cellIndex);if(ax){aw.type=k(c(aw.event.target).attr("class"),ax);aw.targetClass=c(aw.event.target).attr("class");aw.column=ax;return aw}}function aj(aw){var ax=au.getColumnByIndex(aw.cellIndex);var ay=au.getRowByIndex(aw.rowIndex);if(ax&&ax.field.length>0&&ay&&ax.field in ay.item){aw.type=i(c(aw.event.target).attr("class"),ax,ay);aw.row=ay;aw.column=ax;return aw}}function E(){R.width=am.container.width();R.height=Math.max(am.container.height()-ap.header.height-ap.cellOuterSize.height,0);if(R.height){am.content.height(R.height)}ar();aa();u.onViewResized.notify({});return u}function ar(){av.rowsHeight=au.getRowsHeight(ap.cellOuterSize);o.vertical=o.horisontal?av.rowsHeight>R.height-ap.scrollbarDimensions.height:av.rowsHeight>R.height;am.header.css({width:o.vertical?R.width-ap.scrollbarDimensions.width:R.width});am.contentWrap.css({height:z()})}function aa(){av.columnsWidth=au.getColumnsWidth(ap.cellOuterSize);o.horisontal=o.vertical?av.columnsWidth>R.width-ap.scrollbarDimensions.width:av.columnsWidth>R.width;var aw=M();am.headerWrap.css({width:aw});am.contentWrap.css({width:aw})}function z(){return Math.min(av.rowsHeight,ap.maxSupportedCssHeight)}function M(){return Math.max(av.columnsWidth,o.vertical?R.width-ap.scrollbarDimensions.width:R.width)}function y(){ar();W()}function m(){aa();W()}function D(aw){var ax=aj(aw);if(ax){t(ax,"onCellClick")}}function ac(aw){var ax=aj(aw);if(ax){t(ax,"onCellDblClick")}}function aq(aw){var ax=aj(aw);if(ax){t(ax,"onCellContextMenu")}}function O(aw){var ax=aj(aw);if(ax){t(ax,"onCellKeyDown")}}function p(aw){t(aw,"onColumnResize")}function e(aw){h=true;t(aw,"onColumnResizeStart")}function H(aw){h=false;t(aw,"onColumnResizeStop")}function V(aw){t(aw,"onMouseWheelStart")}function I(aw){t(aw,"onMouseWheelStop")}function ae(aw){t(aw,"onMouseWheel")}function ai(aw){if(h===false){t(aw,"onScrollStart")}}function ao(aw){if(h===false){t(aw,"onScrollStop")}}function ah(aw){if(h===false){am.header[0].scrollLeft=am.content[0].scrollLeft;W();t(aw,"onScroll")}}function v(aw){l(function(){t(aw,"onDocumentResize");E();J()})}function g(aw){t(aw,"onDocumentContextMenu")}function an(aw){t(aw,"onDocumentClick")}function U(aw){var ax=Y(aw);if(ax){t(ax,"onHeaderClick")}}function ag(aw){var ax=Y(aw);if(ax){t(ax,"onHeaderContextMenu")}}function K(aw){var ax=Y(aw);if(ax){t(ax,"onHeaderDblClick")}}function t(aw,ax){u[ax].notify(aw)}c.extend(this,{init:ak,destroy:ad,getBuilder:al,getContentSize:at,getCellNodeById:r,getCellNodeByIndex:C,getNode:j,getRowNodeById:Q,getRowNodeByIndex:T,isCellVisible:X,isColumnVisible:Z,isHorisontalScrollVisible:af,isRowVisible:ab,isSuspended:x,isVerticalScrollVisible:s,render:W,resize:E,resumeRender:n,suspendRender:l,onViewResized:new b.Event.Handler(),onScroll:new b.Event.Handler(),onScrollStart:new b.Event.Handler(),onScrollStop:new b.Event.Handler(),onMouseWheel:new b.Event.Handler(),onMouseWheelStart:new b.Event.Handler(),onMouseWheelStop:new b.Event.Handler(),onDocumentClick:new b.Event.Handler(),onDocumentResize:new b.Event.Handler(),onDocumentContextMenu:new b.Event.Handler(),onHeaderClick:new b.Event.Handler(),onHeaderContextMenu:new b.Event.Handler(),onHeaderDblClick:new b.Event.Handler(),onCellClick:new b.Event.Handler(),onCellContextMenu:new b.Event.Handler(),onCellDblClick:new b.Event.Handler(),onCellKeyDown:new b.Event.Handler(),onColumnResize:new b.Event.Handler(),onColumnResizeStart:new b.Event.Handler(),onColumnResizeStop:new b.Event.Handler(),onAfterRowsRendered:new b.Event.Handler(),onBeforeRowsRendered:new b.Event.Handler(),onInitialize:new b.Event.Handler(),onDestroy:new b.Event.Handler()})}function d(f,h,j,i){var k=c(f);if(!k.length){throw new TypeError("Container is not defined or does not exist in the DOM.")}if(k.length!==1){throw new TypeError("There should be only 1 container.")}if(h instanceof b.View.Model.Model===false){throw new TypeError("View model is not defined.")}if(j instanceof Object===false){throw new TypeError("Settings is not defined")}var g=b.View.Builder.Create(j);var e=new a(k,h,g,j);if(i!==false){e.init()}return e}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(c,b){c.extend(true,b,{View:{Model:{Model:a,Create:d}}});function a(E,f,P){var i=this;var k={count:0,height:0};var z={count:0,width:0};var Q=[];var l=[];var L=[];var g=[];var s=[];var x=[];var u={minTop:undefined,maxTop:undefined,minLeft:undefined,maxLeft:undefined};function N(){E.onChange.subscribe(p);f.onChange.subscribe(h);i.onInitialize.notify({});return i}function J(){E.onChange.unsubscribe(p);f.onChange.unsubscribe(h);Q=undefined;l=undefined;L=undefined;g=undefined;s=undefined}function h(S){y();if(S.data){var U=[];for(var T=0;T<S.data.length;T++){if(S.data[T].id){U.push(S.data[T].id)}}i.onColumnsChange.notify({ids:U})}else{if(S.id){i.onColumnsChange.notify({ids:[S.id]})}}}function p(S){R();if(S.data){var U=[];for(var T=0;T<S.data.length;T++){if(S.data[T].id){U.push(S.data[T].id)}}i.onRowsChange.notify({ids:U})}else{if(S.id){i.onRowsChange.notify({ids:[S.id]})}}}function t(){return Q}function C(){return l}function O(S){return Q[S]}function B(S){return l[S]}function I(T){for(var S=0;S<Q.length;S++){if(Q[S].id===T){return S}}return -1}function H(T){for(var S=0;S<l.length;S++){if(l[S].id===T){return S}}return -1}function A(T){for(var S=0;S<Q.length;S++){if(Q[S].id===T){return Q[S]}}}function w(T){for(var S=0;S<l.length;S++){if(l[S].id===T){return l[S]}}}function o(){return k}function q(){return z}function K(){return L}function r(T){if(T instanceof b.Query.FilterQuery){for(var S=0;S<L.length;S++){if(L[S].getId()===T.getId()){break}}L[S]=T;R();i.onRowsChange.notify()}}function D(T){if(T instanceof b.Query.FilterQuery){for(var S=0;S<L.length;S++){if(L[S].getId()===T.getId()){L.splice(S,1);R();i.onRowsChange.notify();break}}}}function e(){L=[];R();i.onRowsChange.notify()}function n(){return s}function M(S){if(S instanceof b.Query.SorterQuery){s=[];R();s.push(S);i.onRowsChange.notify()}}function j(S){if(S instanceof b.Query.SorterQuery){for(var T=0;T<s.length;T++){if(s[T].getField()===S.getField()){s.splice(T,1);R();i.onRowsChange.notify();break}}}}function v(){s=[];R();i.onRowsChange.notify()}function G(S){k=new b.Query.Request(L,s,E).getRowsTotal(S.height);return k.height}function F(S){z=new b.Query.Request(g,x,f).getColumnsTotal(S.width);return z.width}function m(S,V,T,X,W){var U=(u.minTop<=S.top&&S.top<=u.maxTop+X.height)&W;var Y=(u.minLeft<=S.left&&S.left<=u.maxLeft+X.width)&W;if(U===0){Q=new b.Query.Request(L,s,E).getRowsInRange(S.top,V.height,T.height);R(Q,V,T)}if(Y===0){l=new b.Query.Request(g,x,f).getColumnsInRange(S.left,V.width,T.width);y(l,V,T)}return{isCached:U&&Y,rows:Q,columns:l}}function y(U,T,S){if(U&&U.length){u.minLeft=U[0].calcWidth-U[0].width-S.width;u.maxLeft=U[(U.length-1)].calcWidth>T.width?U[(U.length-1)].calcWidth-T.width:T.width}else{u.minLeft=undefined;u.maxLeft=undefined}}function R(U,T,S){if(U&&U.length){u.minTop=U[0].calcHeight-U[0].height-S.height;u.maxTop=U[(U.length-1)].calcHeight>T.height?U[(U.length-1)].calcHeight-T.height:T.height}else{u.minTop=undefined;u.maxTop=undefined}}c.extend(this,{init:N,destroy:J,getRowsTotal:o,getColumnsTotal:q,requestDataFromRange:m,clearSorter:j,clearSorters:v,clearFilter:D,clearFilters:e,getColumnById:w,getColumnByIndex:B,getColumnIndexById:H,getColumns:C,getColumnsWidth:F,getFilters:K,getSorters:n,getRowById:A,getRowByIndex:O,getRowIndexById:I,getRows:t,getRowsHeight:G,setFilter:r,setSorter:M,onColumnsChange:new b.Event.Handler(),onRowsChange:new b.Event.Handler(),onInitialize:new b.Event.Handler(),onDestroy:new b.Event.Handler()})}function d(e,i,h,g){if(h instanceof Object===false){throw new TypeError("Settings is not defined")}if(e instanceof b.Row.Model===false){throw new TypeError("Rows model is not defined.")}if(i instanceof b.Column.Model===false){throw new TypeError("Column model is not defined.")}var f=new a(e,i,h);if(g!==false){f.init()}return f}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(d,c){d.extend(true,c,{View:{Window:{Create:a,Manager:b}}});function b(n,h){var t=this;var e=[];function s(x,w,u){if(g(x)===false){e.push({id:x,opts:u||{}});var v=d('<div class="grid-window grid-window-'+x+'"/>');if(w&&w.length){w.appendTo(v)}v.appendTo(n.getNode("container")).hide()}return t}function g(v){for(var u=0;u<e.length;u++){if(e[u].id===v){return true}}return false}function f(v){for(var u=0;u<e.length;u++){if(e[u].id===v){return{id:e[u].id,opts:e[u].opts,container:n.getNode("container").children(".grid-window-"+v)}}}return t}function k(w){for(var u=0;u<e.length;u++){if(e[u].id===w){e.splice(u,1);var v=n.getNode("container").children(".grid-window-"+w);if(v.length){v.remove()}break}}return t}function m(B,u,y){var w=y||0;var x=f(B);if(x!==null){x.container.show();var A=n.getNode("container");var v={width:x.container.width(),height:x.container.height()};var z=(v.width+u.x>A.width()&&v.width<u.x-A.offset().left)?u.x-v.width+w:u.x-w;x.container.offset({top:u.y-w,left:z})}return t}function r(A,u){var x=f(A);if(x!==null){x.container.show();var z=n.getNode("container");var v={width:x.container.width(),height:x.container.height()};var w={left:u.offset().left,top:u.offset().top,width:u.width(),height:u.height()};var y=(v.width+w.left>z.width()&&v.width<w.left-z.offset().left)?w.left+w.width-v.width:w.left;x.container.offset({top:w.top+w.height,left:y})}return t}function i(u){return n.getNode("container").children(".grid-window-"+u+":visible").length>0}function l(u){n.getNode("container").children(".grid-window-"+u).show();return t}function p(u){n.getNode("container").children(".grid-window-"+u).hide();return t}function j(){n.getNode("container").children(".grid-window").hide();return t}function q(){n.onDocumentClick.subscribe(j);n.onColumnResizeStart.subscribe(j);return t}function o(){n.onDocumentClick.unsubscribe(j);n.onColumnResizeStart.unsubscribe(j);e=[]}d.extend(this,{init:q,destroy:o,createWindow:s,showWindowNearPosition:m,showWindowNearTarget:r,getWindow:f,hideWindow:p,hideWindows:j,isWindow:g,isVisible:i,removeWindow:k,showWindow:l})}function a(f,h,g){if(f instanceof c.View.View===false){throw new TypeError("View is not defined")}if(h instanceof Object===false){throw new TypeError("Settings is not defined")}var e=new c.View.Window.Manager(f,h);if(g!==false){e.init()}return e}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(c,a){c.extend(true,a,{Plugins:{CellEdit:b}});function b(e,h){var t=this;var q={enabled:false};function r(){e.view.onAfterRowsRendered.subscribe(p);e.view.onBeforeRowsRendered.subscribe(j);e.view.onCellClick.subscribe(o);e.view.onCellDblClick.subscribe(f);e.view.onCellKeyDown.subscribe(l);e.view.onScrollStop.subscribe(s);return t}function n(){e.view.onAfterRowsRendered.unsubscribe(p);e.view.onBeforeRowsRendered.unsubscribe(j);e.view.onCellClick.unsubscribe(o);e.view.onCellDblClick.unsubscribe(f);e.view.onCellKeyDown.unsubscribe(l);e.view.onScrollStop.unsubscribe(s);g()}function s(u){if(m()===true&&h.plugins.CellEdit.autoFocus===true){if(e.view.isCellVisible(q.column.id,q.row.id)){q.editor.focus()}}}function j(u){if(m()===true){q.editor.remove()}}function p(v){if(m()===true){var u=e.view.getCellNodeById(q.column.id,q.row.id);if(u){q.editor.append(u);if(q.addFocusOnce===true){q.addFocusOnce=false;q.editor.focus()}}}}function f(u){if(m()===true&&u.column.id===q.column.id&&u.row.id===q.row.id){q.editor.focus()}if(h.plugins.CellEdit.editOnClick===false){i(u.column.id,u.row.id)}}function o(u){if(m()===true&&u.column.id===q.column.id&&u.row.id===q.row.id){q.editor.focus()}if(h.plugins.CellEdit.editOnClick===true){i(u.column.id,u.row.id)}}function l(u){if(u&&u.event){switch(u.event.keyCode){case 13:if(u.event.target&&u.event.target.tagName!=="TEXTAREA"){k()}break;case 27:g();break}}}function i(x,y){if(m()===true){if(q.column.id!==x||q.row.id!==y){k()}}if(m()===false){var v=e.viewModel.getColumnById(x);var z=e.viewModel.getRowById(y);if(z&&v&&z.editable&&v.editable&&v.editor){var w=e.view.suspendRender();q={enabled:true,addFocusOnce:true,row:z,column:v,editor:a.Cell.Editor.Create(v.editor,{row:z,column:v,value:z.item[v.field],windowManager:e.windowManager,settings:h},h)};t.onCellEdited.notify({row:q.row,column:q.column,editor:q.editor});e.columnsModel.setColumnPropertyById(v.id,"editMode",true);e.rowsModel.setRowPropertyById(z.id,"editMode",true);var u=e.view.getCellNodeById(v.id,z.id);if(u){u.className+=" "+h.cssClass.cellEdit;u.innerHTML=""}e.view.resumeRender(w);if(a.Utils.isFunction("append",q.editor)===false){k()}}}}function d(){if(m()===true){return q.editor}}function m(){return q.enabled===true}function k(){if(m()===true){var w=e.view.suspendRender();var v=e.columnsModel.getColumnById(q.column.id);var x=e.rowsModel.getRowById(q.row.id);if(v&&x){v.editMode=false;e.columnsModel.updateColumn(v);x.item[q.column.field]=q.editor.getValue();x.editMode=false;e.rowsModel.updateRow(x);var u=e.view.getCellNodeById(q.column.id,q.row.id);if(u){u.className=u.className.replace(" "+h.cssClass.cellEdit,"");u.innerHTML=e.view.getBuilder().buildCellContentHtml(v,x)}}q.editor.destroy();q={enabled:false};e.view.resumeRender(w)}return t}function g(){if(m()===true){var w=e.view.suspendRender();var v=e.columnsModel.getColumnById(q.column.id);var x=e.rowsModel.getRowById(q.row.id);if(v&&x){v.editMode=false;e.columnsModel.updateColumn(v);x.editMode=false;e.rowsModel.updateRow(x);var u=e.view.getCellNodeById(q.column.id,q.row.id);if(u){u.className=u.className.replace(" "+h.cssClass.cellEdit,"");u.innerHTML=e.view.getBuilder().buildCellContentHtml(v,x)}}q.editor.destroy();q={enabled:false};e.view.resumeRender(w)}return t}c.extend(this,{init:r,destroy:n,applyEdit:k,cancelEdit:g,editCellById:i,getEditor:d,isEditMode:m,onCellEdited:new a.Event.Handler()})}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(c,b){c.extend(true,b,{Plugins:{AutoResize:a}});function a(g,h){var d=this;function k(){g.view.onViewResized.subscribe(j);return d}function f(){g.view.onViewResized.unsubscribe(j)}function j(){if(h.plugins.AutoResize.enabled===true){e()}}function e(){var l=i(g.columnsModel.getColumns(),g.view.isVerticalScrollVisible()===true?h.scrollbarDimensions.width:0,h.cellOuterSize.width);g.view.suspendRender(function(){g.columnsModel.updateColumns(l)});return d}function i(n,q,r){var m=g.view.getContentSize();var t=n.slice();var w={minWidth:0,maxWidth:0,width:0},l=m.width-t.length*r-q;for(var s=t.length-1;s>=0;s--){var v=t[s];if(v.resizeable===false){l-=v.width;t.splice(s,1);continue}w.minWidth+=v.minWidth;w.maxWidth+=v.maxWidth;w.width+=v.width}if(w.minWidth<=l&&l<=w.maxWidth){var p=t.slice();while(p.length>0){var u=l/w.width;w.width=0;for(s=p.length-1;s>=0;s--){var o=p[s];var x=Math.max(Math.min(Math.floor(o.width*u),o.maxWidth),o.minWidth);w.width+=x;if(o.width===x){if(p.length===1&&l!==o.width){o.width+=l-o.width}l-=o.width;p.splice(s,1);continue}o.width=x}}}return t}c.extend(this,{init:k,resizeColumns:e,destroy:f})}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(c,b){c.extend(true,b,{Plugins:{ColumnFilterMenu:a}});function a(f,g){var q=this,m=null;function n(t){if(t&&t.type&&t.type==="filter"){t.stopPropagation();m=t.column.id;var s=f.windowManager.isVisible(t.column.id);f.windowManager.hideWindows();if(f.windowManager.isWindow(t.column.id)===false){f.windowManager.createWindow(t.column.id,r(t.column.id),{filter:new b.Query.FilterQuery(t.column.field)});f.windowManager.showWindowNearTarget(t.column.id,c(t.event.target))}else{if(s===false){f.windowManager.showWindow(t.column.id)}}}}function r(v){var s=c("<div class='grid-header-menu'></div>");var t=c("<form>");var u=c('<div class="grid-header-menucontent"></div>').append('<select name="type1"><option value="contains">Contains</option><option value="doesnotcontain">Does not contains</option><option value="eq">Is equal to</option><option value="neq">Is not equal to</option><option value="startswith">Starts with</option><option value="endswith">Ends with</option></select>').append('<input type="text" name="value1" value=""/>').append('<select name="operator"><option value="and">And</option><option value="or">Or</option></select>').append('<select name="type2"><option value="contains">Contains</option><option value="doesnotcontain">Does not contains</option><option value="eq">Is equal to</option><option value="neq">Is not equal to</option><option value="startswith">Starts with</option><option value="endswith">Ends with</option></select>').append('<input type="text" name="value2" value=""/>').append('<input type="submit" name="Filter" value="Filter" class="btn-submit"/>').append('<input type="reset" name="Clear" value="Clear" class="btn-clear"/>').appendTo(t);t.on("submit",{id:v},h);t.on("reset",{id:v},i);t.on("click",{id:v},p);t.appendTo(s);return s}function e(s){return{value:[s.find("input[name='value1']").val(),s.find("input[name='value2']").val()],type:[s.find("select[name='type1']").val(),s.find("select[name='type2']").val()],operator:s.find("select[name='operator']").val()}}function h(s){s.preventDefault();var v=f.windowManager.getWindow(s.data.id);if(v&&v.opts){var u=f.columnsModel.getColumnById(s.data.id);if(u){var t=v.opts.filter;var w=e(v.container);v.opts.filter.clear();v.opts.filter.add(w.type[0],w.value[0]);if(w.value[1]){v.opts.filter.add(w.operator);v.opts.filter.add(w.type[1],w.value[1])}u.headerCssClass+=" "+g.cssClass.headerFilterActive;f.columnsModel.updateColumn(u);f.viewModel.setFilter(t);f.windowManager.hideWindow(s.data.id)}}}function i(s){var u=f.windowManager.getWindow(s.data.id);if(u){var t=f.columnsModel.getColumnById(s.data.id);if(t){t.headerCssClass=t.headerCssClass.replace(" "+g.cssClass.headerFilterActive,"");f.columnsModel.updateColumn(t);f.viewModel.clearFilter(u.opts.filter);f.windowManager.hideWindow(s.data.id)}}}function p(s){s.stopPropagation()}function l(){if(m!==null){f.windowManager.hideWindow(m);m=null}}function o(){f.view.onHeaderClick.subscribe(n);f.view.onScrollStart.subscribe(l);return q}function k(){f.view.onHeaderClick.unsubscribe(n);f.view.onScrollStart.unsubscribe(l)}function d(t,s){}function j(s,t){}c.extend(this,{init:o,destroy:k})}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(c,b){c.extend(true,b,{Plugins:{ColumnPickerMenu:a}});function a(e,g){var r=this;var l="column-picker";function d(t){if(t){t.preventDefault();e.windowManager.hideWindows();if(e.windowManager.isWindow(l)===false){e.windowManager.createWindow(l,s(l))}else{var u=e.windowManager.getWindow(l);if(u){u.container.empty().append(s(l))}}e.windowManager.showWindowNearPosition(l,{x:t.event.pageX,y:t.event.pageY},10)}}function s(v){var t=c("<div class='grid-columnpicker-menu'></div>");var u=c('<div class="grid-columnpicker-menucontent"></div>').appendTo(t);t.on("click",{id:v},q);t.on("mouseenter",{id:v},j);c(f()).appendTo(u);return t}function f(){var w="";var v=e.columnsModel.getColumns();var t=v.length-h(v);for(var u=0,x=v.length;u<x;u++){w+='<div><label><input type="checkbox" name="" '+(v[u].hidden===true?"":" checked ")+' value="'+v[u].id+'" '+(t===1&&v[u].hidden===false?' disabled="disabled" ':"")+"/> "+v[u].name+"</label></div>"}return w}function h(v){var t=0;for(var u=0;u<v.length;u++){if(v[u].hidden===true){t++}}return t}function j(t){c(this).off("mouseleave").on("mouseleave",function(){e.windowManager.hideWindow(t.data.id)})}function q(u){u.stopPropagation();if(u.target){var x=c(u.target).closest("input");if(x.length){var w=e.viewModel.getColumns();var t=w.length-h(w);if(t===1&&x[0].checked===false){return false}if(t===1&&x[0].checked===true){var y=e.windowManager.getWindow(l);if(y){y.container.find("input:disabled").removeAttr("disabled")}}else{if(t===2&&x[0].checked===false){var y=e.windowManager.getWindow(l);if(y){var v=y.container.find("input:checked");if(v.length){v.attr("disabled","disabled")}}}}e.columnsModel.setColumnPropertyById(x.val(),"hidden",!x[0].checked)}}}function p(){e.view.onHeaderContextMenu.subscribe(d);return r}function m(){e.view.onHeaderContextMenu.unsubscribe(d)}function i(t){e.columnsModel.setColumnPropertyById(t,"hidden",true)}function k(t){e.columnsModel.setColumnPropertyByIndex(t,"hidden",true)}function o(t){e.columnsModel.setColumnPropertyById(t,"hidden",false)}function n(t){e.columnsModel.setColumnPropertyByIndex(t,"hidden",false)}c.extend(this,{init:p,destroy:m,hideColumnById:i,hideColumnByIndex:k,showColumnById:o,showColumnByIndex:n})}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(c,b){c.extend(true,b,{Plugins:{ColumnResize:a}});function a(g,j){var p=this,k,h={},f;function o(){g.view.onColumnResize.subscribe(e);g.view.onColumnResizeStart.subscribe(i);g.view.onColumnResizeStop.subscribe(l);return p}function n(){g.view.onColumnResize.unsubscribe(e);g.view.onColumnResizeStart.unsubscribe(i);g.view.onColumnResizeStop.unsubscribe(l);var q=Object.keys(h);for(var r=0;r<q.length;r++){h[q[r]].empty().remove();delete h[q[r]]}k=null}function e(q){if(k&&h.lastHeaderCol.length){f=Math.max(Math.min(parseInt(q.width,10),k.maxWidth),k.minWidth);if(h.headerCol.length){h.headerCol.css("width",f+j.cellOuterSize.width)}if(h.contentCol.length){h.contentCol.css("width",f+j.cellOuterSize.width)}}}function i(q){k=g.viewModel.getColumnByIndex(q.cellIndex);h={headerCursorCells:g.view.getNode("headerTbody").find("."+j.cssClass.cursorPointer),headerCol:g.view.getNode("headerTable").find("colgroup > col:nth-child("+(q.cellIndex+1)+")"),contentCol:g.view.getNode("contentTable").find("colgroup > col:nth-child("+(q.cellIndex+1)+")"),lastHeaderCol:g.view.getNode("headerTable").find("colgroup > col:last"),lastContentCol:g.view.getNode("contentTable").find("colgroup > col:last"),contentCell:"",headerCell:""};if(k&&h.lastHeaderCol.length){if(j.showLastColumn===true&&h.lastHeaderCol.hasClass(j.cssClass.collLast)){h.lastHeaderCol.width(c(window).width());if(h.lastContentCol.length){h.lastContentCol.width(c(window).width())}}h.headerCell=g.view.getNode("headerTable").find("td."+j.cssClass.cellColumnLast);if(h.headerCell.length){d(h.headerCell,j.cssClass.cellColumnLast)}h.contentCell=g.view.getNode("contentTable").find("td."+j.cssClass.cellColumnLast);if(h.contentCell.length){d(h.contentCell,j.cssClass.cellColumnLast)}d(h.headerCursorCells,j.cssClass.cursorPointer);g.view.getNode("viewport").addClass(j.cssClass.cursorResize)}}function l(){if(k){if(h.headerCell.length){m(h.headerCell,j.cssClass.cellColumnLast)}if(h.contentCell.length){m(h.contentCell,j.cssClass.cellColumnLast)}m(h.headerCursorCells,j.cssClass.cursorPointer);g.view.getNode("viewport").removeClass(j.cssClass.cursorResize);if(f){g.columnsModel.setColumnPropertyById(k.id,"width",f)}}}function m(r,q){r.toggleClass(q+" "+q+"-disabled")}function d(r,q){r.toggleClass(q+"-disabled "+q)}c.extend(this,{init:o,destroy:n})}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(c,b){c.extend(true,b,{Plugins:{ColumnSort:a}});function a(d,g){var l=this;function k(){d.view.onHeaderClick.subscribe(j);return l}function i(){d.view.onHeaderClick.unsubscribe(j)}function j(m){if(m&&m.type&&m.type==="sort"){var n=d.view.suspendRender();e(m.column);d.view.resumeRender(n)}}function e(o,n){if(o){var m=n===undefined?b.Utils.changeSortOrder(o.sortOrder):n;d.columnsModel.setColumnsProperty("sortOrder",0);d.columnsModel.setColumnPropertyById(o.id,"sortOrder",m);d.viewModel.setSorter(new b.Query.SorterQuery(o.field,m,o.sortComparer))}}function h(p,n){var m=d.columnsModel.getColumnById(p);if(m){var o=d.view.suspendRender();e(m,n);d.view.resumeRender(o)}}function f(m,o){var n=d.columnsModel.getColumnByIndex(m);if(n){var p=d.view.suspendRender();e(n,o);d.view.resumeRender(p)}}c.extend(this,{init:k,destroy:i,sortColumnById:h,sortColumnByIndex:f})}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(c,b){c.extend(true,b,{Plugins:{Footer:a}});function a(e,f){var d=this}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(b,a){b.extend(true,a,{Plugins:{RowSelection:c}});function c(e,t){var n=this,j=[],w=null;function r(){e.view.onCellClick.subscribe(u);return n}function v(){e.view.onCellClick.unsubscribe(u)}function u(x){var y=e.view.suspendRender();if(x.event.shiftKey===true&&t.plugins.RowSelection.multipleRowSelection===true&&w&&w!==x.row.id){m(w,x.row.id)}else{if(x.event.ctrlKey===true&&t.plugins.RowSelection.multipleRowSelection===true){if(o(x.row.id)===true){g(x.row.id)}else{f(x.row.id)}}else{if(o(x.row.id)===false||j.length>1){s();f(x.row.id)}}}e.view.resumeRender(y);if(x.event.shiftKey===false){w=x.row.id}}function d(y){if(y){j.push(y.id);var x=e.view.getRowNodeById(y.id);if(x){x.className=x.className+" "+t.cssClass.rowSelected}e.rowsModel.setRowPropertyById(y.id,"rowCssClass",y.rowCssClass+(y.rowCssClass.length?" ":"")+t.cssClass.rowSelected)}}function h(z){if(z){var x=j.indexOf(z.id);if(x!==-1){j.splice(x,1)}var y=e.view.getRowNodeById(z.id);if(y){y.className=y.className.replace(" "+t.cssClass.rowSelected,"")}e.rowsModel.setRowPropertyById(z.id,"rowCssClass",z.rowCssClass.replace(" "+t.cssClass.rowSelected,"").replace(t.cssClass.rowSelected,""))}}function f(y){var x=e.view.suspendRender();d(e.rowsModel.getRowById(y));e.view.resumeRender(x);return n}function g(y){var x=e.view.suspendRender();h(e.rowsModel.getRowById(y));e.view.resumeRender(x);return n}function l(x){var y=e.view.suspendRender();d(e.rowsModel.getRowByIndex(x));e.view.resumeRender(y);return n}function k(x){var y=e.view.suspendRender();h(e.rowsModel.getRowByIndex(x));e.view.resumeRender(y);return n}function i(x,B){if(x>-1&&B>-1){var z=e.view.suspendRender();var C=Math.min(B,x);var A=Math.max(B,x);for(var y=C;y<=A;y++){d(e.rowsModel.getRowByIndex(y))}e.view.resumeRender(z)}return n}function m(B,E){var x=e.rowsModel.getRowIndexById(B);var A=e.rowsModel.getRowIndexById(E);if(x!==-1&&A!==-1){var z=e.view.suspendRender();var D=Math.min(A,x);var C=Math.max(A,x);for(var y=D;y<=C;y++){d(e.rowsModel.getRowByIndex(y))}e.view.resumeRender(z)}}function s(){var z=e.view.suspendRender();var x=p().slice();for(var y=0;y<x.length;y++){g(x[y])}e.view.resumeRender(z);return n}function q(){var y=e.view.suspendRender();var z=e.rowsModel.getRows();for(var x=0;x<z.length;x++){f(z[x])}e.view.resumeRender(y);return n}function o(x){return j.indexOf(x)!==-1}function p(){return j}b.extend(this,{init:r,destroy:v,deselectAllRows:s,deselectRowById:g,deselectRowByIndex:k,getSelectedRowsIds:p,isRowSelected:o,selectAllRows:q,selectRowById:f,selectRowByIndex:l,selectRowsRangeById:m,selectRowsRangeByIndex:i})}})(jQuery,window.SmallGrid=window.SmallGrid||{});if(typeof jQuery==="undefined"){throw new Error("Small grid requires jquery module to be loaded.")}if(typeof SmallGrid==="undefined"){throw new Error("Small grid required to be loaded.")}(function(c,b){var a={renderDelay:0,showLastColumn:true,uidPrefix:"smallgrid_",maxSupportedCssHeight:undefined,scrollbarDimensions:undefined,cellOuterSize:undefined,uid:undefined,cssClass:{disableTextSelection:"disable-text-selection",cell:"grid-cell",cellEdit:"grid-cell-edit",cellColumnLast:"grid-cell-column-last",cellRowLast:"grid-cell-row-last",col:"grid-col",collLast:"grid-coll-last",cursorPointer:"grid-cursor-pointer",cursorResize:"grid-cursor-resize disable-text-selection",headerCell:"grid-header-cell",headerCellDiv:"grid-header-cell-div",headerColumnName:"grid-column-name",headerFilter:"grid-header-filter",headerFilterActive:"grid-header-filter-active",headerResizeHandle:"grid-resizable-handle",headerRow:"grid-header-row",headerSortable:"grid-sortable",headerSortDown:"grid-sort-icon grid-sort-icon-desc",headerSortUp:"grid-sort-icon grid-sort-icon-asc",row:"grid-row",rowEven:"grid-row-even",rowOdd:"grid-row-odd",rowSelected:"grid-row-selected",rowValignMiddle:"grid-row-valign-middle",rowValignTop:"grid-row-valign-top",rowValignBottom:"grid-row-valign-bottom",rowValignBaseline:"grid-row-valign-baseline",cellAlignCenter:"grid-cell-align-center",cellAlignRight:"grid-cell-align-right"},header:{height:20,disableTextSelection:true},columns:{idProperty:undefined,newIdType:""},rows:{disableTextSelection:false,idProperty:undefined,newIdType:"",valign:""},formatter:{floatFormatter:{decimals:2},integerFormatter:{decimals:0},moneyFormatter:{locales:"en-US",options:{currency:"EUR",style:"currency"}},dateFormatter:{locales:"en-US",options:{}}},plugins:{AutoResize:{enabled:true,resizeOnce:true},ColumnSort:{},ColumnResize:{},RowSelection:{multipleRowSelection:false},CellEdit:{editOnClick:false,autoFocus:true},ColumnFilterMenu:{},ColumnPickerMenu:{}}};function d(f){var e=c.extend(true,{},a,f||{});if(e.maxSupportedCssHeight===undefined){a.maxSupportedCssHeight=e.maxSupportedCssHeight=b.Utils.measureMaxSupportedCssHeight()}if(e.scrollbarDimensions===undefined){a.scrollbarDimensions=e.scrollbarDimensions=b.Utils.measureScrollbar()}if(e.cellOuterSize===undefined){e.cellOuterSize=b.Utils.measureCellDiff(e.cssClass.cell)}if(e.uid===undefined){e.uid=b.Utils.createGuid()}return e}c.extend(true,b,{Settings:{Create:d,Default:a}})})(jQuery,window.SmallGrid=window.SmallGrid||{});
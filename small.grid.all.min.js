"use strict";(function(f){f.extend(true,window,{SmallGrid:{Cell:{Editor:{Create:c,Checkbox:e,Float:a,Integer:b,None:d,Text:g}}}});function e(k){var j=this,l=k.value,h=f('<input type="checkbox" class="grid-checkbox-editor" />').val(l);this.append=function(m){h.appendTo(m);return this};this.remove=function(){if(h&&h.length){h.detach()}return this};this.destroy=function(){h.remove();j.onDestroy.notify({});return this};this.getValue=function(){return i(h.prop("checked"))};this.setValue=function(m){h.prop("checked",i(m));j.onChange.notify({value:m});return this};this.focus=function(){h.val(j.getValue()).focus();return this};function i(m){return(/^true$/i).test(m)}f.extend(this,{onInitialize:new SmallGrid.Event.Handler(),onChange:new SmallGrid.Event.Handler(),onDestroy:new SmallGrid.Event.Handler()});j.onInitialize.notify({value:l})}function a(k){var j=this,l=k.value,h=f('<input type="text" class="grid-float-editor" />').val(l);this.append=function(m){h.appendTo(m);return this};this.remove=function(){if(h&&h.length){h.detach()}return this};this.destroy=function(){h.remove();j.onDestroy.notify({});return this};this.getValue=function(){return i(h.val())};this.setValue=function(m){h.val(i(m));j.onChange.notify({value:m});return this};this.focus=function(){h.val(j.getValue()).select();return this};function i(m){return parseFloat(m,10)||0}f.extend(this,{onInitialize:new SmallGrid.Event.Handler(),onChange:new SmallGrid.Event.Handler(),onDestroy:new SmallGrid.Event.Handler()});j.onInitialize.notify({value:l})}function b(k){var j=this,l=k.value,h=f('<input type="text" class="grid-integer-editor" />').val(l);this.append=function(m){h.appendTo(m);return this};this.remove=function(){if(h&&h.length){h.detach()}return this};this.destroy=function(){h.remove();j.onDestroy.notify({});return this};this.getValue=function(){return i(h.val())};this.setValue=function(m){h.val(i(m));j.onChange.notify({value:m});return this};this.focus=function(){h.val(j.getValue()).select();return this};function i(m){return parseInt(m,10)||0}f.extend(this,{onInitialize:new SmallGrid.Event.Handler(),onChange:new SmallGrid.Event.Handler(),onDestroy:new SmallGrid.Event.Handler()});j.onInitialize.notify({value:l})}function d(k){var j=this,l=k.value,h=f("<span class='grid-none-editor' />").text(l);this.append=function(m){h.appendTo(m);return this};this.remove=function(){if(h&&h.length){h.detach()}return this};this.destroy=function(){h.remove();j.onDestroy.notify({});return this};this.getValue=function(){return i(h.text())};this.setValue=function(m){h.text(i(m));j.onChange.notify({value:m});return this};this.focus=function(){h.select();return this};function i(m){return m}f.extend(this,{onInitialize:new SmallGrid.Event.Handler(),onChange:new SmallGrid.Event.Handler(),onDestroy:new SmallGrid.Event.Handler()});j.onInitialize.notify({value:l})}function g(k){var j=this,l=k.value,h=f('<input type="text" class="grid-text-editor"/>').val(l);this.append=function(m){h.appendTo(m);return this};this.remove=function(){if(h&&h.length){h.detach()}return this};this.destroy=function(){h.remove();j.onDestroy.notify({});return this};this.getValue=function(){return i(h.val())};this.setValue=function(m){h.val(i(m));j.onChange.notify({value:m});return this};this.focus=function(){h.val(j.getValue()).select();return this};function i(m){return m}f.extend(this,{onInitialize:new SmallGrid.Event.Handler(),onChange:new SmallGrid.Event.Handler(),onDestroy:new SmallGrid.Event.Handler()});j.onInitialize.notify({value:l})}function c(i,h,j){if(j.Utils.isFunction(i,j.RowEditor)===true){return new j.RowEditor[i](h)}}})(jQuery);"use strict";(function(f){f.extend(true,window,{SmallGrid:{Cell:{Formatter:{Checkbox:c,Default:d,Float:b,Integer:a,None:e,Radio:g,Text:d}}}});function d(j,i,k,h){return(j!==undefined)?j.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}function c(j,i,k,h){return j?"<i class='fa fa-check-square-o'></i>":"<i class='fa fa-square-o'></i>"}function g(j,i,k,h){return j?"<i class='fa fa-dot-circle-o'></i>":"<i class='fa fa-circle-o'></i>"}function b(j,i,k,h){return(parseFloat(j)||0).toFixed(h.formatter.floatFormatter.decimals).replace(/\d(?=(\d{3})+\.)/g,"$&,")}function a(j,i,k,h){return(parseInt(j,10)||0).toFixed(h.formatter.integerFormatter.decimals).replace(/\d(?=(\d{3})+\.)/g,"$&,")}function e(j,i,k,h){return j}})(jQuery);"use strict";(function(b){b.extend(true,window,{SmallGrid:{Column:{Create:c,Model:d,ColumnData:a}}});function a(e){if("align" in e){this.align=e.align}if("cellCssClass" in e){this.cellCssClass=e.cellCssClass}if("editable" in e){this.editable=e.editable}if("editor" in e){this.editor=e.editor}if("editMode" in e){this.editMode=e.editMode}if("field" in e){this.field=e.field}if("filterable" in e){this.filterable=e.filterable}if("formatter" in e){this.formatter=e.formatter}if("headerCssClass" in e){this.headerCssClass=e.headerCssClass}if("id" in e){this.id=e.id}if("item" in e){this.item=e.item}if("maxWidth" in e){this.maxWidth=e.maxWidth}if("minWidth" in e){this.minWidth=e.minWidth}if("name" in e){this.name=e.name}if("resizeable" in e){this.resizeable=e.resizeable}if("sortable" in e){this.sortable=e.sortable}if("sortOrder" in e){this.sortOrder=e.sortOrder}if("sortComparer" in e){this.sortComparer=e.sortComparer}if("width" in e){this.width=e.width}}a.prototype.align="";a.prototype.cellCssClass="";a.prototype.editable=true;a.prototype.editor=undefined;a.prototype.editMode=false;a.prototype.field="";a.prototype.filterable=false;a.prototype.formatter="Default";a.prototype.headerCssClass="";a.prototype.id=undefined;a.prototype.item=null;a.prototype.maxWidth=9999;a.prototype.minWidth=25;a.prototype.name="";a.prototype.resizeable=true;a.prototype.sortable=true;a.prototype.sortComparer="Default";a.prototype.sortOrder=0;a.prototype.width=50;function d(u,T){var n=this;var W=[];function g(Y){if(W.length){W.forEach(Y)}return this}function H(Y){if(W.length){return W.filter(Y)}return[]}function q(Z,Y){if(W.length){return W.reduce(Z,Y)}}function V(Y){if(W.length){n.onChangeStart.notify();W.sort(Y);n.onChangeStop.notify()}return this}function t(){return W.length===0}function A(){return W.length}function R(){B(u)}function U(Y){return F(e(Y))}function B(Y){if(Y.length){n.onChangeStart.notify();for(var Z=0;Z<Y.length;Z++){U(Y[Z])}n.onChangeStop.notify()}return this}function k(Z){var Y=T.columns.idProperty;if(T.Utils.isProperty(Y,Z)){s(Z[Y])}return this}function r(){var Y=[];for(var Z=0;Z<W.length;Z++){Y.push(W[Z].item)}return Y}function p(Y){if(Y.length){n.onChangeStart.notify();var aa=[];for(var Z=0;Z<W.length;Z++){aa.push(W[Z].id)}W=[];for(Z=0;Z<Y.length;Z++){U(Y[Z])}n.onChangeStop.notify()}return this}function L(Z){var Y=T.columns.idProperty;if(T.Utils.isProperty(Y,Z)){K(Z[Y],Z)}}function K(aa,Z){for(var Y=0;Y<W.length;Y++){if(W[Y].id==aa){W[Y].item=Z;n.onChange.notify({id:[aa]});break}}return this}function j(Y){if(Y.length){n.onChangeStart.notify();for(var Z=0;Z<Y.length;Z++){L(Y[Z])}n.onChangeStop.notify()}return this}function F(Y){if(Y instanceof a){W.push(Y);n.onChange.notify({id:[Y.id]})}return this}function P(Z){if(Z.length){n.onChangeStart.notify();for(var Y=0;Y<Z.length;Y++){F(Z[Y])}n.onChangeStop.notify()}return this}function h(Y){if(Y instanceof a){s(Y.id)}return this}function s(Z){for(var Y=0;Y<W.length;Y++){if(W[Y].id==Z){W.splice(Y,1);n.onChange.notify({id:[Z]});break}}return this}function f(Y){var Z=W[Y].id;W.splice(Y,1);n.onChange.notify({id:[Z]});return this}function m(){if(W.length){n.onChangeStop.notify();var Z=[];for(var Y=0;Y<W.length;Y++){Z.push(W[Y].id)}W=[];n.onChange.notify({id:Z});n.onChangeStop.notify()}return this}function y(Z){for(var Y=0;Y<W.length;Y++){if(W[Y].id==Z){return W[Y]}}}function E(Y){return W[Y]}function o(Y){return W[Y].id}function N(Z){for(var Y=0;Y<W.length;Y++){if(W[Y].id==Z){return Y}}return -1}function X(aa,Y){var Z=y(aa);if(Z&&Y&&Y in Z){return Z[Y]}}function M(Y,Z){var aa=E(Y);if(aa&&Z&&Z in aa){return aa[Z]}}function J(){return W}function x(Z,Y){w(N(Z),Y);return this}function w(Y,Z){if(Z instanceof a){W.splice(Y+1,0,Z);n.onChange.notify({id:[Z.id]})}return this}function G(Z,Y){Q(N(Z),Y);return this}function Q(Y,Z){if(Z instanceof a){W.splice(Y,0,Z);n.onChange.notify({id:[Z.id]})}return this}function z(ab,Z,Y){for(var aa=0;aa<W.length;aa++){if(W[aa].id==ab){if(Z&&Z in W[aa]){W[aa][Z]=Y;n.onChange.notify({id:[ab]})}break}}return this}function D(Y,aa,Z){if(aa&&aa in W[Y]){W[Y][aa]=Z;n.onChange.notify({id:[W[Y].id]})}return this}function l(Z){if(Z.length){n.onChangeStart.notify();var aa=[];for(var Y=0;Y<W.length;Y++){aa.push(W[Y].id)}W=[];for(Y=0;Y<Z.length;Y++){F(Z[Y])}n.onChangeStop.notify()}return this}function S(Z,Y){for(var aa=0;aa<W.length;aa++){W[aa][Z]=Y}return this}function C(Z){if(Z instanceof a){var Y=T.columns.idProperty;if(T.Utils.isProperty(Y,Z)){O(Z[Y],Z)}}return this}function O(aa,Z){for(var Y=0;Y<W.length;Y++){if(W[Y].id==aa){W[Y]=Z;n.onChange.notify({id:[aa]});break}}return this}function v(Y,Z){if(W[Y]){W[Y]=Z;n.onChange.notify({id:[Z.id]})}return this}function I(Z){if(Z.length){n.onChangeStart.notify();for(var Y=0;Y<Z.length;Y++){C(Z[Y])}n.onChangeStop.notify()}return this}function i(Y){if(T.columns.mapProperties===true){return b.extend({item:Y},Y)}return{name:Y.name,field:Y.field,item:Y}}function e(aa){var Z=new a(i(aa));var Y=T.columns.idProperty;if(T.Utils.isProperty(Y,Z)){Z.id=Z[Y]}else{Z.id=T.Utils.getNewGuid()}Z.width=Math.max(Math.min(parseInt(Z.width,10),Z.maxWidth),Z.minWidth);if(Z.sortComparer&&T.Utils.isFunction(Z.sortComparer,T.RowComparer)===false){delete Z.sortComparer}if(Z.formatter&&T.Utils.isFunction(Z.formatter,T.RowFormatter)===false){delete Z.formatter}if(Z.editor&&T.Utils.isFunction(Z.editor,T.RowEditor)===false){delete Z.editor}return Z}b.extend(this,{onChange:new SmallGrid.Event.Handler(),onChangeStart:new SmallGrid.Event.Handler(),onChangeStop:new SmallGrid.Event.Handler(),filter:H,forEach:g,reduce:q,sort:V,total:A,addItem:U,addItems:B,deleteItem:k,deleteItems:m,deleteItemById:s,getItems:r,setItems:p,updateItem:L,updateItemById:K,updateItems:j,addColumn:F,addColumns:P,createColumn:e,deleteColumn:h,deleteColumnById:s,deleteColumnByIndex:f,deleteColumns:m,getColumnById:y,getColumnByIndex:E,getColumnIdByIndex:o,getColumnIndexById:N,getColumnPropertyById:X,getColumnPropertyByIndex:M,getColumns:J,insertColumnAfterId:x,insertColumnAfterIndex:w,insertColumnBeforeId:G,insertColumnBeforeIndex:Q,isEmpty:t,setColumnPropertyById:z,setColumnPropertyByIndex:D,setColumns:l,setColumnsProperty:S,updateColumn:C,updateColumnById:O,updateColumnByIndex:v,updateColumns:I});R()}function c(f,e){return new d(f,e)}})(jQuery);"use strict";(function(c){c.extend(true,window,{SmallGrid:{Event:{Args:a,Handler:b}}});function a(d){for(var e in d){if(d.hasOwnProperty(e)){this[e]=d[e]}}var f=false;var g=false;this.stopPropagation=function(){f=true};this.isPropagationStopped=function(){return f};this.stopImmediatePropagation=function(){g=true};this.isImmediatePropagationStopped=function(){return g}}function b(){var d=[];this.subscribe=function(e){d.push(e);return this};this.unsubscribe=function(f){for(var e=d.length-1;e>=0;e--){if(d[e]===f){d.splice(e,1)}}return this};this.unsubscribeLast=function(){if(d.length){d.pop()}return this};this.unsubscribeAll=function(){d=[];return this};this.notify=function(g){if(typeof(g)!=a){g=new a(g)}for(var f=0;f<d.length&&!(g.isPropagationStopped()||g.isImmediatePropagationStopped());f++){if(d[f].call(this,g)===false){g.stopImmediatePropagation();break}}}}})(jQuery);"use strict";(function(b){b.extend(true,window,{SmallGrid:{Filter:{FilterQuery:a}}});function a(d,q){var k=this;var e=[];var l=q.Utils.getNewGuid();function h(){return l}function i(){return d}function n(){e=[];return this}function r(){return e}function j(u,v){if(u in this){return this[u](v||"")}throw"Type "+u+" not found"}function t(){e.push({action:"and"});return this}function f(){e.push({action:"or"});return this}function s(u){e.push({action:"eq",value:u});return this}function p(u){e.push({action:"neq",value:u});return this}function o(u){e.push({action:"startsWith",value:u});return this}function m(u){e.push({action:"endsWith",value:u});return this}function g(u){e.push({action:"contains",value:u});return this}function c(u){e.push({action:"doesNotContain",value:u});return this}b.extend(this,{getId:h,getField:i,clear:n,get:r,add:j,and:t,or:f,contains:g,doesnotcontain:c,endswith:m,eq:s,neq:p,startswith:o})}})(jQuery);"use strict";(function(b){b.extend(true,window,{SmallGrid:{Filter:{FilterRequest:a}}});function a(e,k){function d(q,o,p){return k.filter(new n(q,o,p,l()))}function i(q,o,p){return k.filter(new m(q,o,p,j()))}function f(o){return k.reduce(new c(o,j()),0)}function h(o){return k.reduce(new g(o,l()),0)}function j(){return""}function l(){var r="";for(var q=0;q<e.length;q++){var p=e[q].get(),u=e[q].getField(),o="";for(var s=0;s<p.length;s++){var t=p[s];switch(t.action){case"and":o+=" && ";break;case"or":o+=" || ";break;case"eq":o+=" (item.item['"+u+"'] == '"+t.value+"') === true ";break;case"neq":o+=" (item.item['"+u+"'] == '"+t.value+"') === false ";break;case"startsWith":o+=" (('' + item.item['"+u+"']).indexOf('"+t.value+"') === 0) === true ";break;case"endsWith":o+=" (('' + item.item['"+u+"']).indexOf('"+t.value+"', item.item['"+u+"'].length - '"+t.value+"'.length) !== -1) === true ";break;case"contains":o+=" (('' + item.item['"+u+"']).indexOf('"+t.value+"') !== -1) === true ";break;case"doesNotContain":o+=" (('' + item.item['"+u+"']).indexOf('"+t.value+"') !== -1) === false ";break}}if(o.length){if(q!==0){r+=" && "}r+="("+o+")";r=new Function("item","return "+r)}}return r}function c(p,o){return function(r,q){if(o&&(o(q)===false)){return r}return r+q.width+p}}function g(p,o){return function(r,q){if(o&&(o(q)===false)){return r}return r+q.height+p}}function m(p,t,v,s){var r=0,q=p-2*t-v,o=p+2*t+v,u=0;return function(x,w,y){if(s&&(s(x)===false)){return false}u++;r+=v+x.width;if(q<=r&&r<=o){x.calcWidth=r;x.calcIndex=u;return true}return false}}function n(q,p,u,s){var v=0,r=q-2*p-u,o=q+2*p+u,t=0;return function(x,w,y){if(s&&(s(x)===false)){return false}t++;v+=u+x.height;if(r<=v&&v<=o){x.calcHeight=v;x.calcIndex=t;return true}return false}}b.extend(this,{getColumnsInRange:i,getColumnsWidth:f,getRowsHeight:h,getRowsInRange:d})}})(jQuery);"use strict";(function(b){b.extend(true,window,{SmallGrid:{Grid:{Create:c,Model:a}}});function a(r,h,v){var n=this;var m={};var q={};var f="0.2";var p=v.Utils.getNewGuid();function s(){m=new v.View.Create(r,v);m.setModel(h);u(v.plugins);m.render()}function w(){for(var x=0;x<q.length;x++){i(q[x])}}function d(){return m}function k(){return h}function t(){return v}function e(x){return q[x]!==undefined}function o(x){if(e(x)){i(x)}q[x]=new v.Plugins[x](h,m,v)}function u(y){for(var x=0;x<y.length;x++){o(y[x])}}function i(x){if(q[x]){q[x].destroy();delete q[x]}}function g(){var y=Object.keys(q);for(var x=0;x<y.length;x++){i(y[x])}}function j(){return f}function l(){return p}b.extend(this,{init:s,destroy:w,getId:l,getSettings:t,getVersion:j,getView:d,getViewModel:k,isRegisteredPlugin:e,registerPlugin:o,registerPlugins:u,unregisterPlugin:i,unregisterPlugins:g})}function c(i,h,f,g){var g=new SmallGrid.Settings.Create(g);var d=new SmallGrid.View.Model(new SmallGrid.Row.Create(h,g),new SmallGrid.Column.Create(f,g),g);var e=new a(i,d,g);if(g.explicitInitialization===false){e.init()}return e}})(jQuery);"use strict";(function(b){b.extend(true,window,{SmallGrid:{Handler:{Click:c}}});var a={rowIdentifier:"TR",cellIdentifier:"TD",handleClick:undefined,handleDblClick:undefined,handleContextMenu:undefined,handleKeyDown:undefined};function c(k,j){var j=jQuery.extend({},a,j);k.on("click",e).on("contextmenu",d).on("dblclick",i).on("keydown",f);function g(n){if(n&&n.target){var m=b(n.target).closest(j.cellIdentifier);if(m.length){var l=m.closest(j.rowIdentifier);if(l.length){return{cellIndex:m.index(),rowIndex:l.index(),event:n}}}}}function e(m){var l=g(m);if(l&&j.handleClick){j.handleClick(l)}}function d(m){var l=g(m);if(l&&j.handleContextMenu){j.handleContextMenu(l)}}function i(m){var l=g(m);if(l&&j.handleDblClick){j.handleDblClick(l)}}function f(m){var l=g(m);if(l&&j.handleKeyDown){j.handleKeyDown(l)}}function h(){k.off("click",e).off("contextmenu",d).off("dblclick",i).off("keydown",f)}b.extend(this,{destroy:h})}})(jQuery);"use strict";(function(b){b.extend(true,window,{SmallGrid:{Handler:{Resize:c}}});var a={cellIdentifier:"TD",handleResize:undefined,handleResizeStart:undefined,handleResizeStop:undefined,handlerIdentifier:undefined};function c(g,e){var e=jQuery.extend({},a,e);g.on("mousedown",e.handlerIdentifier,f);function f(j){var i=b(this).closest(e.cellIdentifier);if(i.length){var h=i.index();e.handleResizeStart({cellElement:i,cellIndex:h,event:j});b("body").bind("mousemove",function(l){var k=l.pageX-i.offset().left;if(k>0){e.handleResize({cellElement:i,cellIndex:h,width:k,event:j})}}).bind("mouseup",function(k){b(this).unbind("mousemove mouseup");e.handleResizeStop({cellElement:i,cellIndex:h,event:j})})}}function d(){g.off("mousedown",f)}b.extend(this,{destroy:d})}})(jQuery);"use strict";(function(c){c.extend(true,window,{SmallGrid:{Handler:{Scroll:a}}});var b={handleMouseWheel:undefined,handleMouseWheelStart:undefined,handleMouseWheelStop:undefined,handlescroll:undefined,handlescrollStart:undefined,handlescrollStop:undefined,latency:300,resetLeft:true,resetTop:true};function a(l,e){var e=jQuery.extend({},b,e);if(e.resetTop){l[0].scrollTop=0}if(e.resetLeft){l[0].scrollLeft=0}var h,k,m=false,j=false,f={scrollTop:l[0].scrollTop,scrollLeft:l[0].scrollLeft};l.on("scroll",g);l.on("wheel",d);function d(n){clearTimeout(k);if(j==false){j=true;e.handleMouseWheelStart({event:n})}e.handleMouseWheel({event:n});k=setTimeout(function(){e.handleMouseWheelStop({event:n});j=false},e.latency)}function g(o){var n={scrollTop:l[0].scrollTop,scrollLeft:l[0].scrollLeft,topDelta:l[0].scrollTop-f.scrollTop,leftDelta:l[0].scrollLeft-f.scrollLeft,event:o};clearTimeout(h);if(m==false){m=true;e.handleScrollStart(n)}e.handleScroll(n);h=setTimeout(function(){e.handleScrollStop(n);m=false},e.latency);f={scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}}function i(){clearTimeout(h);clearTimeout(k);l.off("scroll",g);l.off("wheel",d)}c.extend(this,{destroy:i})}})(jQuery);"use strict";(function(e){e.extend(true,window,{SmallGrid:{Row:{Comparer:{Default:b,Date:d,Number:c,String:f}}}});function b(g){return function(j,i){var h=(g.field in j.item)?j.item[g.field]:null,k=(g.field in i.item)?i.item[g.field]:null;if(h instanceof Date&&k instanceof Date){h=h.getTime();k=k.getTime()}else{if(!isNaN(parseFloat(h))&&isFinite(h)){h++;k++}else{if(h&&typeof h.toString==="function"&&k&&typeof k.toString==="function"){h=h.toString().toLowerCase();k=k.toString().toLowerCase()}}}return(h==k?0:(h>k?g.sortOrder:-g.sortOrder))}}function c(h){var g=h.sortOrder;return function(k,j){var i=(h.field in k.item)?k.item[h.field]:null,l=(h.field in j.item)?j.item[h.field]:null;return(i-l)*g}}function a(h){var g=h.sortOrder;return function(k,j){var i=(h.field in k.item)?k.item[h.field].toLowerCase():null,l=(h.field in j.item)?j.item[h.field].toLowerCase():null;return i.localeCompare(l)*g}}function f(h){var g=h.sortOrder;return function(k,j){var i=(h.field in k.item)?k.item[h.field].toLowerCase():null,l=(h.field in j.item)?j.item[h.field].toLowerCase():null;return(i==l?0:(i>l?1*g:-1*g))}}function d(h){var g=h.sortOrder;return function(k,j){var i=(h.field in k.item)?k.item[h.field]:null,l=(h.field in j.item)?j.item[h.field]:null;return(new Date(i)-new Date(l))*g}}})(jQuery);"use strict";(function(c){c.extend(true,window,{SmallGrid:{Row:{Create:d,Model:a,RowData:b}}});function b(e){if("cellCssClass" in e){this.cellCssClass=e.cellCssClass}if("disabled" in e){this.disabled=e.disabled}if("editable" in e){this.editable=e.editable}if("editMode" in e){this.editMode=e.editMode}if("height" in e){this.height=e.height}if("id" in e){this.id=e.id}if("item" in e){this.item=e.item}if("maxHeight" in e){this.maxHeight=e.maxHeight}if("minHeight" in e){this.minHeight=e.minHeight}if("rowCssClass" in e){this.rowCssClass=e.rowCssClass}}b.prototype.cellCssClass="";b.prototype.disabled=false;b.prototype.editable=true;b.prototype.editMode=false;b.prototype.height=20;b.prototype.id=undefined;b.prototype.item=null;b.prototype.maxHeight=200;b.prototype.minHeight=20;b.prototype.rowCssClass="";function a(y,U){var p=this;var X=[];function g(Y){if(X.length){X.forEach(Y)}return this}function J(Y){if(X.length){return X.filter(Y)}return[]}function t(Z,Y){if(X.length){return X.reduce(Z,Y)}}function W(Y){if(X.length){p.onChangeStart.notify();X.sort(Y);p.onChangeStop.notify()}return this}function w(){return X.length===0}function D(){return X.length}function S(){F(y)}function V(Y){return P(o(Y))}function F(Y){if(Y.length){p.onChangeStart.notify();for(var Z=0;Z<Y.length;Z++){V(Y[Z])}p.onChangeStop.notify()}return this}function n(Z){var Y=U.rows.idProperty;if(U.Utils.isProperty(Y,Z)){l(Z[Y])}return this}function u(){var Y=[];for(var Z=0;Z<X.length;Z++){Y.push(X[Z].item)}return Y}function s(Y){if(Y.length){p.onChangeStart.notify();var aa=[];for(var Z=0;Z<X.length;Z++){aa.push(X[Z].id)}X=[];for(Z=0;Z<Y.length;Z++){V(Y[Z])}p.onChangeStop.notify()}return this}function N(Z){var Y=U.rows.idProperty;if(U.Utils.isProperty(Y,Z)){M(Z[Y],Z)}}function M(aa,Z){for(var Y=0;Y<X.length;Y++){if(X[Y].id==aa){X[Y].item=Z;p.onChange.notify({id:[aa]});break}}return this}function m(Y){if(Y.length){p.onChangeStart.notify();for(var Z=0;Z<Y.length;Z++){N(Y[Z])}p.onChangeStop.notify()}return this}function P(Y){if(Y instanceof b){X.push(Y);p.onChange.notify({id:[Y.id]})}return this}function q(Z){if(Z.length){p.onChangeStart.notify();for(var Y=0;Y<Z.length;Y++){P(Z[Y])}p.onChangeStop.notify()}return this}function G(Y){if(Y instanceof b){l(Y.id)}return this}function l(Z){for(var Y=0;Y<X.length;Y++){if(X[Y].id==Z){X.splice(Y,1);p.onChange.notify({id:[Z]});break}}return this}function I(Y){var Z=X[Y].id;X.splice(Y,1);p.onChange.notify({id:[Z]});return this}function A(){if(X.length){p.onChangeStop.notify();var Z=[];for(var Y=0;Y<X.length;Y++){Z.push(X[Y].id)}X=[];p.onChange.notify({id:Z});p.onChangeStop.notify()}return this}function H(Z){for(var Y=0;Y<X.length;Y++){if(X[Y].id==Z){return X[Y]}}}function T(Y){return X[Y]}function r(Y){return X[Y].id}function R(Z){for(var Y=0;Y<X.length;Y++){if(X[Y].id==Z){return Y}}return -1}function B(aa,Y){var Z=H(aa);if(Z&&Y&&Y in Z){return Z[Y]}}function i(Y,Z){var aa=T(Y);if(aa&&Z&&Z in aa){return aa[Z]}}function x(){return X}function f(Z,Y){C(R(Z),Y);return this}function C(Y,Z){if(Z instanceof b){X.splice(Y+1,0,Z);p.onChange.notify({id:[Z.id]})}return this}function v(Z,Y){O(R(Z),Y);return this}function O(Y,Z){if(Z instanceof b){X.splice(Y,0,Z);p.onChange.notify({id:[Z.id]})}return this}function Q(ab,Z,Y){for(var aa=0;aa<X.length;aa++){if(X[aa].id==ab){if(Z&&Z in X[aa]){X[aa][Z]=Y;p.onChange.notify({id:[ab]})}break}}return this}function K(Y,aa,Z){if(aa&&aa in X[Y]){X[Y][aa]=Z;p.onChange.notify({id:[X[Y].id]})}return this}function z(aa){if(aa.length){p.onChangeStart.notify();var Z=[];for(var Y=0;Y<X.length;Y++){Z.push(X[Y].id)}X=[];for(Y=0;Y<aa.length;Y++){P(aa[Y])}p.onChangeStop.notify()}return this}function e(Z,Y){for(var aa=0;aa<X.length;aa++){X[aa][Z]=Y}return this}function L(Z){if(Z instanceof b){var Y=U.rows.idProperty;if(U.Utils.isProperty(Y,Z)){E(Z[Y],Z)}}return this}function E(aa,Z){for(var Y=0;Y<X.length;Y++){if(X[Y].id==aa){X[Y]=Z;p.onChange.notify({id:[aa]});break}}return this}function k(Y,Z){if(X[Y]){X[Y]=Z;p.onChange.notify({id:[Z.id]})}return this}function h(Z){if(Z.length){p.onChangeStart.notify();for(var Y=0;Y<Z.length;Y++){L(Z[Y])}p.onChangeStop.notify()}return this}function j(Z){if(U.rows.mapProperties===true){var Y=c.extend({},Z);Y.item=Z;return Y}return{item:Z}}function o(Z){var aa=new b(j(Z));var Y=U.rows.idProperty;if(U.Utils.isProperty(Y,Z)){aa.id=Z[Y]}else{aa.id=U.Utils.getNewGuid()}aa.height=Math.max(Math.min(parseInt(aa.height,10),aa.maxHeight),aa.minHeight);return aa}c.extend(this,{onChange:new SmallGrid.Event.Handler(),onChangeStart:new SmallGrid.Event.Handler(),onChangeStop:new SmallGrid.Event.Handler(),filter:J,forEach:g,reduce:t,sort:W,total:D,addItem:V,addItems:F,deleteItem:n,deleteItems:A,deleteItemById:l,getItems:u,setItems:s,updateItem:N,updateItemById:M,updateItems:m,addRow:P,addRows:q,createRow:o,deleteRow:G,deleteRowById:l,deleteRowByIndex:I,deleteRows:A,getRowById:H,getRowByIndex:T,getRowIdByIndex:r,getRowIndexById:R,getRowPropertyById:B,getRowPropertyByIndex:i,getRows:x,insertRowAfterId:f,insertRowAfterIndex:C,insertRowBeforeId:v,insertRowBeforeIndex:O,isEmpty:w,setRowPropertyById:Q,setRowPropertyByIndex:K,setRows:z,setRowsProperty:e,updateRow:L,updateRowById:E,updateRowByIndex:k,updateRows:h});S()}function d(f,e){return new a(f,e)}})(jQuery);"use strict";(function(d){var h=function(){var k={};var j=[];for(var l=0;l<256;l++){j[l]=(l<16?"0":"")+l.toString(16)}k.newGuid=function(){var p=Math.random()*4294967295|0;var q=Math.random()*4294967295|0;var o=Math.random()*4294967295|0;var m=Math.random()*4294967295|0;return j[p&255]+j[p>>8&255]+j[p>>16&255]+j[p>>24&255]+"-"+j[q&255]+j[q>>8&255]+"-"+j[q>>16&15|64]+j[q>>24&255]+"-"+j[o&63|128]+j[o>>8&255]+"-"+j[o>>16&255]+j[o>>24&255]+j[m&255]+j[m>>8&255]+j[m>>16&255]+j[m>>24&255]};return k}();function c(k,j){return(j&&k&&k in j&&typeof(j[k])==="function")}function g(j,k){return(j&&j in k)}function b(j){return(/^true$/i).test(j)}function i(){var l=1000000,k=1000000,j=d('<div style="display:none; " />').appendTo(document.body);while(true){j.css("height",k);if(j.height()===k){k+=l;if(k<16000000){continue}}break}j.remove();return k-l}function f(){var j=d('<div style="position:absolute; top:-100px; left:-100px; width:100px; height:100px; overflow:scroll;"></div>').appendTo("body");var k={width:j.width()-j[0].clientWidth,height:j.height()-j[0].clientHeight};j.remove();return k}function a(k){var j=d("<tr />").appendTo(k),m=d("<td style='width:5px; height:5px;'>-</td>").appendTo(j);var l={width:m.outerWidth()-m.width(),height:m.outerHeight()-m.height()};m.remove();j.remove();return l}function e(j){return -1*(j<0?-1:1)}d.extend(true,window,{SmallGrid:{Utils:{changeSortOrder:e,getNewGuid:h.newGuid,isFunction:c,isProperty:g,measureCellDiff:a,measureMaxSupportedCssHeight:i,measureScrollbar:f,parseBool:b}}})})(jQuery);"use strict";(function(b){b.extend(true,window,{SmallGrid:{View:{Create:c}}});function a(ak,aB){var at=this;var k;var aF=null;var x=null;var l=1;var D=true;var am=0;var n={width:0,height:0};var U={width:0,height:0};var d=[];var az,o,S,aw,F,q,X,Z,ae,W,C;function ad(){ak.empty().addClass(aB.uid);az=b('<div class="small-grid grid-viewport"/>');o=b('<div class="grid-header disable-text-selection"/>');S=b('<div class="grid-canvas"/>');aw=b('<div class="grid-footer"/>');ae=b('<div class="grid-header-wrap"/>');W=b('<table class="grid-header-table" border=1></table>');C=b("<tbody></tbody>");F=b('<div class="grid-table-wrap"/>');q=b('<table class="grid-table" border=1></table>');X=b("<colgroup></colgroup>");Z=b("<tbody></tbody>");o.appendTo(az);S.appendTo(az);aw.appendTo(az);C.appendTo(W);W.appendTo(ae);ae.appendTo(o);X.appendTo(q);Z.appendTo(q);q.appendTo(F);F.appendTo(S);if(aB.HandlerScroll){d.scroll=new aB.HandlerScroll(S,{handleScrollStart:e,handleScrollStop:aG,handleScroll:u,handleMouseWheelStart:f,handleMouseWheelStop:P,handleMouseWheel:Y})}if(aB.HandlerResize){d.resize=new aB.HandlerResize(o,{handleResize:G,handleResizeStart:H,handleResizeStop:ax,handlerIdentifier:"."+aB.cssClass.headerResizeHandle})}if(aB.HandlerClick){d.header=new aB.HandlerClick(o,{handleClick:aE,handleDblClick:ah,handleContextMenu:N})}if(aB.HandlerClick){d.canvas=new aB.HandlerClick(S,{handleClick:ar,handleDblClick:p,handleContextMenu:aa,handleKeyDown:ao})}b(document.body).on("click",E);az.appendTo(ak);U=aB.Utils.measureCellDiff(Z);n={width:ak.width(),height:ak.height()};S.width(n.width);S.height(n.height);o.width(n.width-aB.scrollbarDimensions.width);at.onInitialize.notify({})}function ay(){return ak}function r(){return az}function an(aI,aJ){return L(aI)&&J(aJ)}function L(aJ){var aI=k.getColumnById(aJ);if(aI){if(aI.calcWidth-aI.width-U.width>=S[0].scrollLeft&&aI.calcWidth<n.width+S[0].scrollLeft){return true}}return false}function J(aI){var aJ=k.getRowById(aI);if(aJ){if(aJ.calcHeight-aJ.height-U.height>=S[0].scrollTop&&aJ.calcHeight+aJ.height+U.height<n.height+S[0].scrollTop){return true}}return false}function al(aI){return Z[0].rows[aI]}function i(aI,aJ){return Z[0].rows[aJ].cells[aI]}function aA(aI){if(k){var aJ=k.getRowIndexById(aI);if(aJ!=-1){return al(aJ)}}}function m(aJ,aK){var aL=k.getRowIndexById(aK);var aI=k.getColumnIndexById(aJ);if(aL!=-1&&aI!=-1){return i(aI,aL)}}function v(aK,aJ){var aL=W.find("tr > td:nth-child("+(aK)+")");if(aL){aL.css("width",aJ)}var aI=q.find("colgroup > col:nth-child("+(aK)+")");if(aI){aI.css("width",aJ+U.width)}}function R(aI){C.find("."+aI+"_disabled").toggleClass(aI+"_disabled "+aI)}function A(aI){C.find("."+aI).toggleClass(aI+" "+aI+"_disabled")}function ab(aI){az.addClass(aI)}function t(aI){az.removeClass(aI)}function g(aI){T(true);k=aI;k.onRowsChange.subscribe(aH);k.onColumnsChange.subscribe(aq);k.onDataChange.subscribe(ap);k.onDataChangeStart.subscribe(s);k.onDataChangeStop.subscribe(ag);T(false)}function Q(){am++;if(D===false){ai()}return this}function ai(){if(D===false&&am>0){if(aF==null){am=0;aF=setTimeout(function(){k.requestDataFromRange({top:S[0].scrollTop*l,left:S[0].scrollLeft},n,U,l==1);aF=null;x=null},30)}else{if(x==null){x=setTimeout(Q,300)}}}return this}function w(){return D}function T(aI){D=aI;return this}function h(){T(true);if(k){k.onRowsChange.unsubscribe(aH);k.onColumnsChange.unsubscribe(aq);k.onDataChange.unsubscribe(ap);k.onDataChangeStart.unsubscribe(s);k.onDataChangeStop.unsubscribe(ag)}if(ak.length){for(var aI=0;aI<d.length;aI++){d[aI].destroy()}ak.empty().removeClass(aB.uid)}b(document.body).off("click",E);at.onDestroy.notify({})}function B(aJ,aI,aK){at.onBeforeRowsRendered.notify({});C[0].innerHTML=aJ;X[0].innerHTML=aI;Z[0].innerHTML=aK;at.onAfterRowsRendered.notify({})}function aj(aK){var aJ='<tr class="'+aB.cssClass.headerRow+'">';for(var aI=0;aI<aK.length;aI++){aJ+=j(aK[aI])}return aJ+aC()+"</tr>"}function aC(){return"<td class='"+aB.cssClass.headerCell+"' style='height:"+aB.columns.header.height+"px'></td>"}function j(aK){var aL="",aJ,aI=aB.cssClass.headerCell;if(aK.headerCssClass){aI+=" "+aK.headerCssClass}if(aK.align=="center"){aI+=" "+aB.cssClass.cellAlignCenter}if(aK.align=="right"){aI+=" "+aB.cssClass.cellAlignRight}if(aK.name){aL+=aK.name}if(aK.sortable||aK.filterable){aI+=" "+aB.cssClass.cursorPointer}aJ="<td style='width:"+(aK.width)+"px;height:"+aB.columns.header.height+"px' class='"+aI+"'><div class='"+aB.cssClass.headerRowDiv+"'><span class='"+aB.cssClass.headerColumnName+"'>"+aL+"</span>";if(aK.sortable&&aK.sortOrder!==0){aJ+="<span class='"+((aK.sortOrder==1)?aB.cssClass.headerSortUp:aB.cssClass.headerSortDown)+"'></span>"}if(aK.filterable){aJ+="<span class='"+aB.cssClass.headerFilter+"'></span>"}if(aK.resizeable){aJ+="<span class='"+aB.cssClass.headerResizeHandle+"'></span>"}return aJ+"</div></td>"}function V(aK){var aJ="";for(var aI=0;aI<aK.length;aI++){aJ+=O(aK[aI])}return aJ+au()}function au(){return"<col class='"+aB.cssClass.col+"' style='width:0px;' />"}function O(aJ){var aI=aB.cssClass.col;if(aJ.headerCssClass){aI+=" "+aJ.headerCssClass}return"<col style='width:"+(aJ.width+U.width)+"px;' class='"+aI+"'/>"}function y(aK,aL){var aJ="";for(var aI=0;aI<aL.length;aI++){aJ+=ac(aK,aL[aI],aI)}return aJ}function ac(aL,aN,aI){var aM=aB.cssClass.row+((aN.calcIndex&1==1)?" "+aB.cssClass.rowEven:" "+aB.cssClass.rowOdd);if(aN.rowCssClass){aM+=" "+aN.rowCssClass}if(aB.rows.formatter){aN=aB.rows.formatter(aN,aL)}var aK="<tr class='"+aM+"'>";for(var aJ=0;aJ<aL.length;aJ++){aK+=af(aL[aJ],aN)}return aK+M()+"</tr>"}function M(){return"<td class='"+aB.cssClass.cell+"'></td>"}function af(aJ,aK){var aI=aB.cssClass.cell;if(aJ.cellCssClass){aI+=" "+aJ.cellCssClass}if(aJ.align=="center"){aI+=" "+aB.cssClass.cellAlignCenter}if(aJ.align=="right"){aI+=" "+aB.cssClass.cellAlignRight}if(aK.cellCssClass&&aJ.field in aK.cellCssClass){aI+=" "+aK.cellCssClass[aJ.field]}return"<td height='"+aK.height+"' class='"+aI+"'>"+z(aJ,aK)+"</td>"}function z(aI,aK){var aJ="";if(aI.field in aK.item&&(aK.editMode===false||aI.editMode===false)){aJ=(aI.formatter)?aB.RowFormatter[aI.formatter](aK.item[aI.field],aI,aK,aB):aK.item[aI.field]}return aJ}function I(aK,aJ){var aI="";if(aJ.resizeable&&aK.indexOf(aB.cssClass.headerResizeHandle)!=-1){aI="resize"}else{if(aJ.filterable&&aK.indexOf(aB.cssClass.headerFilter)!=-1){aI="filter"}else{if(aJ.sortable){aI="sort"}}}return aI}function aD(aK,aJ,aL){var aI="";if(aL.editable===true&&aJ.editable===true){aI="edit"}else{if(aL.disabled===true){aI="disabled"}}return aI}function av(aJ){var aI=k.getColumnByIndex(aJ.cellIndex);if(aI){aJ.type=I(b(aJ.event.target).attr("class"),aI);aJ.targetClass=b(aJ.event.target).attr("class");aJ.column=aI;return aJ}}function K(aJ){var aI=k.getColumnByIndex(aJ.cellIndex);var aK=k.getRowByIndex(aJ.rowIndex);if(aI&&aI.field.length>0&&aK&&aI.field in aK.item){aJ.type=aD(b(aJ.event.target).attr("class"),aI,aK);aJ.row=aK;aJ.column=aI;return aJ}}function aH(aJ){if(k){var aI=k.getRowsHeight(U);if(aI>aB.maxSupportedCssHeight){l=(aI-n.height+aB.scrollbarDimensions.height)/(aB.maxSupportedCssHeight-n.height+aB.scrollbarDimensions.height);aI=aB.maxSupportedCssHeight}F.css({height:aI})}}function aq(aJ){if(k){var aI=k.getColumnsWidth(U);ae.css({width:aI});F.css({width:aI})}}function ap(aI){Q()}function s(aI){T(true)}function ag(aI){if(aI.rows.length>0&&aI.columns.length>0){W.css({left:aI.columns[0].calcWidth-aI.columns[0].width-U.width});q.css({top:aI.rows[0].calcHeight-aI.rows[0].height-U.width-(S[0].scrollTop*l)+S[0].scrollTop,left:aI.columns[0].calcWidth-aI.columns[0].width-U.width});B(aj(aI.columns),V(aI.columns),y(aI.columns,aI.rows))}T(false)}function ar(aJ){var aI=K(aJ);if(aI){T(true);at.onCellClick.notify(aI);T(false);ai()}}function p(aJ){var aI=K(aJ);if(aI){T(true);at.onCellDblClick.notify(aI);T(false);ai()}}function aa(aJ){var aI=K(aJ);if(aI){T(true);at.onCellContextMenu.notify(aI);T(false);ai()}}function ao(aJ){var aI=K(aJ);if(aI){T(true);at.onCellKeyDown.notify(aI);T(false);ai()}}function G(aI){T(true);at.onColumnResize.notify(aI);T(false);ai()}function H(aI){T(true);at.onColumnResizeStart.notify(aI);T(false);ai()}function ax(aI){T(true);at.onColumnResizeStop.notify(aI);T(false);ai()}function f(aI){T(true);at.onMouseWheelStart.notify(aI);T(false);ai()}function P(aI){T(true);at.onMouseWheelStop.notify(aI);T(false);ai()}function Y(aI){T(true);at.onMouseWheel.notify(aI);T(false);Q()}function e(aI){T(true);at.onScrollStart.notify(aI);T(false);ai()}function aG(aI){T(true);at.onScrollStop.notify(aI);T(false);ai()}function u(aI){at.suspendRender(true);o[0].scrollLeft=S[0].scrollLeft;at.onScroll.notify(aI);at.suspendRender(false);Q()}function E(aI){T(true);at.onBodyClick.notify({event:aI});T(false);ai()}function aE(aJ){var aI=av(aJ);if(aI){T(true);at.onHeaderClick.notify(aI);T(false);ai()}}function N(aJ){var aI=av(aJ);if(aI){T(true);at.onHeaderContextMenu.notify(aI);T(false);ai()}}function ah(aJ){var aI=av(aJ);if(aI){T(true);at.onHeaderDblClick.notify(aI);T(false);ai()}}b.extend(this,{destroy:h,onScroll:new SmallGrid.Event.Handler(),onScrollStart:new SmallGrid.Event.Handler(),onScrollStop:new SmallGrid.Event.Handler(),onMouseWheel:new SmallGrid.Event.Handler(),onMouseWheelStart:new SmallGrid.Event.Handler(),onMouseWheelStop:new SmallGrid.Event.Handler(),onBodyClick:new SmallGrid.Event.Handler(),onHeaderClick:new SmallGrid.Event.Handler(),onHeaderContextMenu:new SmallGrid.Event.Handler(),onHeaderDblClick:new SmallGrid.Event.Handler(),onHeaderFilter:new SmallGrid.Event.Handler(),onHeaderResize:new SmallGrid.Event.Handler(),onHeaderSort:new SmallGrid.Event.Handler(),onCellClick:new SmallGrid.Event.Handler(),onCellContextMenu:new SmallGrid.Event.Handler(),onCellDblClick:new SmallGrid.Event.Handler(),onCellKeyDown:new SmallGrid.Event.Handler(),onColumnResize:new SmallGrid.Event.Handler(),onColumnResizeStart:new SmallGrid.Event.Handler(),onColumnResizeStop:new SmallGrid.Event.Handler(),onAfterRowsRendered:new SmallGrid.Event.Handler(),onBeforeRowsRendered:new SmallGrid.Event.Handler(),onInitialize:new SmallGrid.Event.Handler(),onDestroy:new SmallGrid.Event.Handler(),getContainerNode:ay,getViewPortNode:r,getRowNodeById:aA,getRowNodeByIndex:al,getCellNodeByIndex:i,getCellNodeById:m,isCellVisible:an,addViewPortClass:ab,disableHeaderClass:A,enableHeaderClass:R,removeViewPortClass:t,setColumnWidthByIndex:v,isRenderSuspended:w,render:Q,setModel:g,suspendRender:T});ad()}function c(d,g,e,f){var h=b(d);if(h.length<1){throw new Error("Small grid requires a valid container, "+d+" does not exist in the DOM.")}return new a(h,g,e,f)}})(jQuery);"use strict";(function(b){b.extend(true,window,{SmallGrid:{View:{Model:a}}});function a(j,k,F){var z=this;var d=k;var v=j;var w=[];var x=[];var u=[];var m=[];var r={minTop:-1,maxTop:-1,minLeft:-1,maxLeft:-1};function B(){j.onChange.subscribe(C);k.onChange.subscribe(i);return this}function G(){j.onChange.unsubscribe(C);k.onChange.unsubscribe(i)}function i(){p();z.onDataChange.notify()}function C(){A();z.onDataChange.notify()}function H(J){return w[J]}function l(J){return x[J]}function t(K){for(var J=0;J<w.length;J++){if(w[J].id==K){return J}}return -1}function I(K){for(var J=0;J<x.length;J++){if(x[J].id==K){return J}}return -1}function s(K){for(var J=0;J<w.length;J++){if(w[J].id==K){return w[J]}}}function o(K){for(var J=0;J<x.length;J++){if(x[J].id==K){return x[J]}}}function e(){return u}function g(J){if(J instanceof F.Filter.FilterQuery){E(J);u.push(J);A();z.onRowsChange.notify();z.onDataChange.notify()}}function c(K){u=[];for(var J=0;J<K.length;J++){u.push(K[J])}A();z.onRowsChange.notify();z.onDataChange.notify()}function E(K){if(K instanceof F.Filter.FilterQuery){for(var J=0;J<u.length;J++){if(u[J].getId()==K.getId()){u.splice(J,1);A();z.onRowsChange.notify();z.onDataChange.notify();break}}}}function h(){u=[];A();z.onRowsChange.notify();z.onDataChange.notify()}function D(J){return new F.Filter.FilterRequest(u,j).getRowsHeight(J.height)}function f(J){return new F.Filter.FilterRequest(m,k).getColumnsWidth(J.width)}function q(J,M,K,N){var L=(r.minTop<=J.top&&J.top<=r.maxTop)&N;var O=(r.minLeft<=J.left&&J.left<=r.maxLeft)&N;if(L===0||O===0){z.onDataChangeStart.notify();if(L===0){w=new F.Filter.FilterRequest(u,j).getRowsInRange(J.top,M.height,K.height);z.onRowsChange.notify()}if(O===0){x=new F.Filter.FilterRequest(m,k).getColumnsInRange(J.left,M.width,K.width);z.onColumnsChange.notify()}y(M,K);z.onDataChangeStop.notify({rows:w,columns:x})}}function y(K,J){if(x.length&&w.length){r={minTop:w[0].calcHeight<K.height?w[0].calcHeight-w[0].height-J.height:w[0].calcHeight+K.height,maxTop:w[(w.length-1)].calcHeight<K.height?K.height:w[(w.length-1)].calcHeight-K.height+F.scrollbarDimensions.height,minLeft:x[0].calcWidth<K.width?x[0].calcWidth-x[0].width-J.width:x[0].calcWidth+K.width,maxLeft:x[(x.length-1)].calcWidth<K.width?K.width:x[(x.length-1)].calcWidth-K.width+F.scrollbarDimensions.width}}else{n()}}function A(){r.minTop=-1;r.maxTop=-1}function p(){r.minLeft=-1;r.maxLeft=-1}function n(){A();p()}B();b.extend(this,{init:B,destroy:G,resetCacheRange:n,requestDataFromRange:q,rows:v,columns:d,getRowsHeight:D,getColumnsWidth:f,getRowByIndex:H,getColumnByIndex:l,getRowById:s,getColumnById:o,getRowIndexById:t,getColumnIndexById:I,setFilter:g,clearFilter:E,clearFilters:h,onRowsChange:new SmallGrid.Event.Handler(),onColumnsChange:new SmallGrid.Event.Handler(),onDataChange:new SmallGrid.Event.Handler(),onDataChangeStart:new SmallGrid.Event.Handler(),onDataChangeStop:new SmallGrid.Event.Handler()})}})(jQuery);"use strict";(function(b){b.extend(true,window,{SmallGrid:{Plugins:{CellEdit:a}}});function a(f,h,q){var o=this;var i=[];var k={enabled:false};function p(){h.onAfterRowsRendered.subscribe(s);h.onBeforeRowsRendered.subscribe(j);h.onCellClick.subscribe(r);h.onCellDblClick.subscribe(g);h.onCellKeyDown.subscribe(c);h.onScrollStop.subscribe(m)}function t(){h.onAfterRowsRendered.unsubscribe(s);h.onBeforeRowsRendered.unsubscribe(j);h.onCellClick.unsubscribe(r);h.onCellDblClick.unsubscribe(g);h.onCellKeyDown.unsubscribe(c);h.onScrollStop.unsubscribe(m)}function m(v){if(u()==true&&q.edit.autoFocus==true){if(h.isCellVisible(k.column.id,k.row.id)){k.editor.focus()}}}function j(v){if(u()==true){k.editor.remove()}}function s(w){if(u()==true){var v=h.getCellNodeById(k.column.id,k.row.id);if(v){k.editor.append(v);if(k.addFocus==true){k.addFocus=false;k.editor.focus()}}}}function g(v){if(q.edit.editOnClick==false){e(v.column.id,v.row.id)}}function r(v){if(q.edit.editOnClick==true){e(v.column.id,v.row.id)}}function c(v){if(v&&v.event){switch(v.event.keyCode){case 13:n();break;case 27:l();break}}}function e(w,x){if(u()==true){if(k.column.id!=w||k.row.id!=x){n()}}if(u()==false){var v=f.getColumnById(w);var y=f.getRowById(x);if(y&&v&&y.editable&&v.editable&&v.editor){k={enabled:true,addFocus:true,row:y,column:v,editor:new q.RowEditor.Create(v.editor,{value:y.item[v.field]},q)};f.columns.setColumnPropertyById(v.id,"editMode",true);f.rows.setRowPropertyById(y.id,"editMode",true)}}}function d(){if(k.enabled==true){return k.editor}}function u(){return(k.enabled==true)}function n(){if(k.enabled==true){f.columns.setColumnPropertyById(k.column.id,"editMode",false);var v=f.rows.getRowById(k.row.id);if(v){v.item[k.column.field]=k.editor.getValue();v.editMode=false;f.rows.updateItem(v)}k.editor.destroy();k={enabled:false}}return this}function l(){if(k.enabled==true){f.columns.setColumnPropertyById(k.column.id,"editMode",false);var v=f.rows.getRowById(k.row.id);if(v){v.editMode=false;f.rows.updateItem(v)}k.editor.destroy();k={enabled:false}}return this}b.extend(this,{init:p,destroy:t,applyEdit:n,cancelEdit:l,editCellById:e,getEditor:d,isEditMode:u});p()}})(jQuery);"use strict";(function(c){c.extend(true,window,{SmallGrid:{Plugins:{Filter:a,FilterMenu:b}}});function b(h,r,i){var t=this;var p=c("<div class='grid-header-menu'></div>").hide();var e=new i.Filter.FilterQuery(h.field,i);function s(){var u=c("<form>").appendTo(p);var v=c('<div class="grid-header-menucontent"></div>').append('<select name="type1"><option value="contains">Contains</option><option value="doesnotcontain">Does not contains</option><option value="eq">Is equal to</option><option value="neq">Is not equal to</option><option value="startswith">Starts with</option><option value="endswith">Ends with</option></select>').append('<input type="text" name="value1" value=""/>').append('<select name="operator"><option value="and">And</option><option value="or">Or</option></select>').append('<select name="type2"><option value="contains">Contains</option><option value="doesnotcontain">Does not contains</option><option value="eq">Is equal to</option><option value="neq">Is not equal to</option><option value="startswith">Starts with</option><option value="endswith">Ends with</option></select>').append('<input type="text" name="value2" value=""/>').append('<input type="submit" name="Filter" value="Filter" class="btn btn-primary"/>').append('<input type="reset" name="Clear" value="Clear" class="btn"/>').appendTo(u);p.on("click",q);u.on("submit",j);u.on("reset",k);p.appendTo(r);return this}function o(){p.remove()}function g(u){var y={width:r.width(),left:r.offset().left};var x={width:p.width(),height:p.height()};var v={left:u.offset().left,top:u.offset().top,width:u.width(),height:u.height()};var w=(x.width+v.left>y.width&&x.width<v.left-y.left)?v.left+v.width-x.width:v.left;p.offset({top:v.top+v.height,left:w});return this}function n(){p.show();return this}function l(){p.hide();return this}function d(){return{value:[p.find("input[name='value1']").val(),p.find("input[name='value2']").val()],type:[p.find("select[name='type1']").val(),p.find("select[name='type2']").val()],operator:p.find("select[name='operator']").val()}}function f(){return h.id}function m(){return e}function j(v){v.preventDefault();var u=d();e.clear();e.add(u.type[0],u.value[0]);if(u.value[1]){e.add(u.operator);e.add(u.type[1],u.value[1])}t.onSubmit.notify();l()}function k(u){t.onClear.notify({});l()}function q(u){u.stopPropagation()}c.extend(this,{onSubmit:new SmallGrid.Event.Handler(),onClear:new SmallGrid.Event.Handler(),init:s,destroy:o,getFilter:m,getId:f,hide:l,setupMenu:g,show:n})}function a(p,n,h){var s=this;var d=[];var g=0;function r(){n.onBeforeRowsRendered.subscribe(l);n.onBodyClick.subscribe(l);n.onColumnResizeStart.subscribe(l);n.onHeaderClick.subscribe(q);n.onScrollStart.subscribe(l)}function o(){n.onBeforeRowsRendered.unsubscribe(l);n.onBodyClick.unsubscribe(l);n.onColumnResizeStart.unsubscribe(l);n.onHeaderClick.unsubscribe(q);n.onScrollStart.unsubscribe(l);for(var t=0;t<d.length;t++){var u=d[t];u.onSubmit.unsubscribe(i);u.onClear.unsubscribe(j);u.destroy()}d=[]}function q(t){if(t&&t.type&&t.type=="filter"){t.event.stopPropagation();if(!m(t.column.id)){var u=new b(t.column,n.getContainerNode(),h).init().show().setupMenu(c(t.event.target));u.onSubmit.subscribe(i);u.onClear.subscribe(j);d.push(u)}if(g!==t.column.id){e();k(t.column.id)}else{if(g){e()}else{k(t.column.id)}}}}function l(t){if(g){e()}}function i(u){if(g){for(var t=0;t<d.length;t++){if(d[t].getId()==g){p.setFilter(d[t].getFilter());break}}e()}}function j(u){if(g){for(var t=0;t<d.length;t++){if(d[t].getId()==g){p.clearFilter(d[t].getFilter());break}}e()}}function m(u){for(var t=0;t<d.length;t++){if(d[t].getId()==u){return true}}return false}function f(u){for(var t=0;t<d.length;t++){if(d[t].getId()==u){return d[t]}}}function k(u){var t=f(u);if(t){t.show();g=u}}function e(){var t=f(g);if(t){t.hide();g=0}}c.extend(this,{init:r,destroy:o});r()}})(jQuery);"use strict";(function(b){b.extend(true,window,{SmallGrid:{Plugins:{ColumnResize:a}}});function a(k,i,f){var m=this;var g;var d;function l(){i.onColumnResize.subscribe(c);i.onColumnResizeStart.subscribe(e);i.onColumnResizeStop.subscribe(h)}function j(){i.onColumnResize.unsubscribe(c);i.onColumnResizeStart.subscribe(e);i.onColumnResizeStop.subscribe(h)}function c(n){if(g){d=Math.max(Math.min(parseInt(n.width,10),g.maxWidth),g.minWidth);i.setColumnWidthByIndex(n.cellIndex+1,d)}}function e(n){g=k.getColumnByIndex(n.cellIndex);if(g){i.disableHeaderClass(f.cssClass.cursorPointer);i.addViewPortClass(f.cssClass.cursorResize)}}function h(n){if(g){if(d){k.columns.setColumnPropertyById(g.id,"width",d)}i.enableHeaderClass(f.cssClass.cursorPointer);i.removeViewPortClass(f.cssClass.cursorResize)}}b.extend(this,{init:l,destroy:j});l()}})(jQuery);"use strict";(function(b){b.extend(true,window,{SmallGrid:{Plugins:{ColumnSort:a}}});function a(f,d,h){var e=this;function j(){d.onHeaderClick.subscribe(i)}function g(){d.onHeaderClick.unsubscribe(i)}function i(m){if(m&&m.type&&m.type=="sort"){f.resetCacheRange();var l=m.column;var k=h.Utils.changeSortOrder(l.sortOrder);f.columns.setColumnsProperty("sortOrder",0);f.columns.setColumnPropertyById(l.id,"sortOrder",k);f.rows.sort(h.RowComparer[l.sortComparer]({sortOrder:k,field:l.field}))}}function c(k,l){}b.extend(this,{init:j,destroy:g});j()}})(jQuery);"use strict";(function(a){a.extend(true,window,{SmallGrid:{Plugins:{RowSelection:b}}});function b(m,k,g){var q=this;var f=[];function p(){k.onCellClick.subscribe(n);k.onCellKeyDown.subscribe(h)}function l(){k.onCellClick.unsubscribe(n);k.onCellKeyDown.unsubscribe(h)}function n(r){c(r.row.id)}function h(r){}function o(s){if(d(s)===false){var r=m.rows.getRowById(s);if(r){m.rows.setRowPropertyById(s,"rowCssClass",r.rowCssClass+" "+g.cssClass.rowSelected);f.push(s)}}}function e(s){if(g.allowMultiRowSelection==true){for(var r=0;r<s.length;r++){var t=m.rows.getRowById(s);if(t){o(t.id)}}}return this}function j(t){if(f.length){for(var r=0;r<f.length;r++){if(f[r]==t){continue}var s=m.rows.getRowById(f[r]);if(s){m.rows.setRowPropertyById(s.id,"rowCssClass",s.rowCssClass.replace(" "+g.cssClass.rowSelected,""))}f.splice(r,1)}}return this}function d(r){return(f.indexOf(r)!==-1)}function c(r){if(g.allowMultiRowSelection==false){j(r)}o(r)}function i(){return f}a.extend(this,{init:p,destroy:l,clearSelectedRows:j,getSelectedRows:i,isRowSelected:d,setSelectedRow:c,setSelectedRows:e});p()}})(jQuery);"use strict";if(typeof jQuery==="undefined"){throw"Small grid requires jquery module to be loaded"}(function(f){function b(j){var k=window;var g=j.split(".");for(var h=0;h<g.length;++h){k=k[g[h]]}return k}function c(i){for(var g in a){var h=b(a[g]);if(h){i[g]=h}}}var a={Event:"SmallGrid.Event",HandlerClick:"SmallGrid.Handler.Click",HandlerResize:"SmallGrid.Handler.Resize",HandlerScroll:"SmallGrid.Handler.Scroll",Plugins:"SmallGrid.Plugins",RowComparer:"SmallGrid.Row.Comparer",Filter:"SmallGrid.Filter",RowEditor:"SmallGrid.Cell.Editor",RowFormatter:"SmallGrid.Cell.Formatter",Utils:"SmallGrid.Utils",View:"SmallGrid.View"};var e={maxSupportedCssHeight:undefined,scrollbarDimensions:undefined,explicitInitialization:false,uid:undefined,uidPrefix:"smallgrid_",allowMultiRowSelection:false,edit:{editOnClick:false,autoFocus:true},cssClass:{cell:"grid-td grid-td-div",col:"grid-col",cursorPointer:"grid-cursor-pointer",cursorResize:"grid-cursor-resize disable-text-selection",headerCell:"grid-header-cell",headerColumnName:"grid-column-name",headerFilter:"grid-header-filter",headerResizeHandle:"grid-resizable-handle",headerRow:"grid-header-row",headerRowDiv:"grid-header-td-div",headerSortable:"grid-sortable",headerSortDown:"grid-sort-icon grid-sort-icon-desc",headerSortUp:"grid-sort-icon grid-sort-icon-asc",row:"grid-tr",rowEven:"grid-tr-even",rowOdd:"grid-tr-odd",rowSelected:"grid-row-selected",cellAlignCenter:"grid-cell-align-center",cellAlignRight:"grid-cell-align-right"},columns:{idProperty:undefined,mapProperties:true,header:{height:20}},rows:{idProperty:undefined,mapProperties:true,formatter:undefined,editable:true,selectable:true},formatter:{floatFormatter:{decimals:2},integerFormatter:{decimals:2}},plugins:["ColumnSort","ColumnResize","RowSelection","CellEdit","Filter"]};function d(g){var g=jQuery.extend(true,e,g);if(g.maxSupportedCssHeight==undefined){e.maxSupportedCssHeight=g.maxSupportedCssHeight=g.Utils.measureMaxSupportedCssHeight()}if(g.scrollbarDimensions==undefined){e.scrollbarDimensions=g.scrollbarDimensions=g.Utils.measureScrollbar()}g.uid=g.uid||g.Utils.getNewGuid();return g}c(e);f.extend(true,window,{SmallGrid:{Settings:{Create:d,Default:e}}})})(jQuery);
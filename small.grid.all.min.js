(function(f){f.extend(true,window,{SmallGrid:{Cell:{Editor:{Create:d,Checkbox:e,Float:b,Integer:c,Text:g,Select:a}}}});function e(i,j){var h=this,k=!i.value;this.destroy=function(){return h};this.getValue=function(){h.onChange.notify({value:k});return k};f.extend(this,{onInitialize:new SmallGrid.Event.Handler(),onChange:new SmallGrid.Event.Handler(),onDestroy:new SmallGrid.Event.Handler()});h.onInitialize.notify({value:i.value})}function b(k,l){var j=this,m=k.value,h=f('<input type="text" class="grid-float-editor" />').val(m).width(k.column.width);this.append=function(n){h.appendTo(n);return j};this.remove=function(){if(h&&h.length){h.detach()}return j};this.destroy=function(){h.remove();j.onDestroy.notify({});return j};this.getValue=function(){return i(h.val())};this.setValue=function(n){h.val(i(n));j.onChange.notify({value:n});return j};this.focus=function(){if(h.is(":focus")===false){h.val(j.getValue()).select()}return j};function i(n){return parseFloat(n,10)||0}f.extend(this,{onInitialize:new SmallGrid.Event.Handler(),onChange:new SmallGrid.Event.Handler(),onDestroy:new SmallGrid.Event.Handler()});j.onInitialize.notify({value:m})}function c(k,l){var j=this,m=k.value,h=f('<input type="text" class="grid-integer-editor" />').val(m).width(k.column.width);this.append=function(n){h.appendTo(n);return j};this.remove=function(){if(h&&h.length){h.detach()}return j};this.destroy=function(){h.remove();j.onDestroy.notify({});return j};this.getValue=function(){return i(h.val())};this.setValue=function(n){h.val(i(n));j.onChange.notify({value:n});return j};this.focus=function(){if(h.is(":focus")===false){h.val(j.getValue()).select()}return j};function i(n){return parseInt(n,10)||0}f.extend(this,{onInitialize:new SmallGrid.Event.Handler(),onChange:new SmallGrid.Event.Handler(),onDestroy:new SmallGrid.Event.Handler()});j.onInitialize.notify({value:m})}function g(j,k){var i=this,l=j.value,h=f('<input type="text" class="grid-text-editor"/>').val(l).width(j.column.width);this.append=function(m){h.appendTo(m);return i};this.remove=function(){if(h&&h.length){h.detach()}return i};this.destroy=function(){h.remove();i.onDestroy.notify({});return i};this.getValue=function(){return h.val()};this.setValue=function(m){h.val(m);i.onChange.notify({value:m});return i};this.focus=function(){if(h.is(":focus")===false){h.val(i.getValue()).select()}return i};f.extend(this,{onInitialize:new SmallGrid.Event.Handler(),onChange:new SmallGrid.Event.Handler(),onDestroy:new SmallGrid.Event.Handler()});i.onInitialize.notify({value:l})}function a(j,k){var i=this,l=j.value,h=f('<select class="grid-select-editor"/>').val(l);this.append=function(m){h.appendTo(m);return i};this.remove=function(){if(h&&h.length){h.detach()}return i};this.destroy=function(){h.remove();i.onDestroy.notify({});return i};this.getValue=function(){return h.val()};this.setValue=function(m){h.val(m);i.onChange.notify({value:m});return i};this.focus=function(){h.focus();return i};i.setSource=function(m){if(m.constructor===Array){f.each(m,function(n,o){h.append(new Option(o.text,o.value))})}h.val(l)};f.extend(this,{onInitialize:new SmallGrid.Event.Handler(),onChange:new SmallGrid.Event.Handler(),onDestroy:new SmallGrid.Event.Handler()});i.onInitialize.notify({value:l})}function d(i,h,j){if(!i.length){throw new TypeError("Editor name is not defined")}if(j instanceof Object===false){throw new TypeError("Settings is not defined")}if(SmallGrid.Utils.isFunction(i,SmallGrid.Cell.Editor)===false){throw new TypeError("name is not defined")}return new SmallGrid.Cell.Editor[i](h,j)}})(jQuery);(function(d){d.extend(true,window,{SmallGrid:{Cell:{Formatter:{Checkbox:j,Date:a,Default:c,Float:g,Integer:e,Money:b,Select:h,None:c,Radio:f,Text:i}}}});function c(m,l,n,k){return(m!=null)?m.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;"):""}function j(m,l,n,k){return m?"<i class='fa fa-check-square-o'></i>":"<i class='fa fa-square-o'></i>"}function f(m,l,n,k){return m?"<i class='fa fa-dot-circle-o'></i>":"<i class='fa fa-circle-o'></i>"}function g(m,l,n,k){return(parseFloat(m)||0).toFixed(k.formatter.floatFormatter.decimals).replace(/\d(?=(\d{3})+\.)/g,"$&,")}function e(m,l,n,k){return(parseInt(m,10)||0).toFixed(k.formatter.integerFormatter.decimals).replace(/\d(?=(\d{3})+\.)/g,"$&,")}function b(m,l,n,k){m=+m;if(!isNaN(m)){m=new Intl.NumberFormat(k.formatter.moneyFormatter.locales,k.formatter.moneyFormatter.options).format(m);return m+"<i class='fa fa fa-pencil grid-text-icon-formatter'></i>"}return c(m,l,n,k)}function a(m,l,n,k){if(!(m instanceof Date)){m=Date.parse(m)}if(!isNaN(m)){m=new Intl.DateTimeFormat(k.formatter.dateFormatter.locales,k.formatter.moneyFormatter.options).format(m);return m+"<i class='fa fa-calendar grid-date-icon-formatter'></i>"}return c(m,l,n,k)}function h(n,m,o,l){var k=c(n,m,o,l);return n+"<i class='fa fa-caret-square-o-down grid-select-icon-formatter'></i>"}function i(n,m,o,l){var k=c(n,m,o,l);return k+"<i class='fa fa fa-pencil grid-text-icon-formatter'></i>"}})(jQuery);(function(e){e.extend(true,window,{SmallGrid:{Column:{Comparer:{Default:b,Date:d,Number:c,String:f}}}});function b(g){return function(j,i){var h=(g.field in j.item)?j.item[g.field]:null,k=(g.field in i.item)?i.item[g.field]:null;if(h instanceof Date&&k instanceof Date){h=h.getTime();k=k.getTime()}else{if(!isNaN(parseFloat(h))&&isFinite(h)){h++;k++}else{if(h&&typeof h.toString==="function"&&k&&typeof k.toString==="function"){h=h.toString().toLowerCase();k=k.toString().toLowerCase()}}}return(h==k?0:(h>k?g.sortOrder:-g.sortOrder))}}function c(h){var g=h.sortOrder;return function(k,j){var i=(h.field in k.item)?k.item[h.field]:null,l=(h.field in j.item)?j.item[h.field]:null;return(i-l)*g}}function a(h){var g=h.sortOrder;return function(k,j){var i=(h.field in k.item)?k.item[h.field].toLowerCase():null,l=(h.field in j.item)?j.item[h.field].toLowerCase():null;return i.localeCompare(l)*g}}function f(h){var g=h.sortOrder;return function(k,j){var i=(h.field in k.item)?k.item[h.field].toLowerCase():null,l=(h.field in j.item)?j.item[h.field].toLowerCase():null;return(i==l?0:(i>l?1*g:-1*g))}}function d(h){var g=h.sortOrder;return function(k,j){var i=(h.field in k.item)?k.item[h.field]:null,l=(h.field in j.item)?j.item[h.field]:null;return(new Date(i)-new Date(l))*g}}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{Column:{Create:c,Model:d,ColumnData:a}}});function a(e){if("align" in e){this.align=e.align}if("cellCssClass" in e){this.cellCssClass=e.cellCssClass}if("editable" in e){this.editable=e.editable}if("editor" in e){this.editor=e.editor}if("editMode" in e){this.editMode=e.editMode}if("field" in e){this.field=e.field}if("filterable" in e){this.filterable=e.filterable}if("formatter" in e){this.formatter=e.formatter}if("headerCssClass" in e){this.headerCssClass=e.headerCssClass}if("hidden" in e){this.hidden=e.hidden}if("id" in e){this.id=e.id}if("item" in e){this.item=e.item}if("maxWidth" in e){this.maxWidth=e.maxWidth}if("minWidth" in e){this.minWidth=e.minWidth}if("name" in e){this.name=e.name}if("resizeable" in e){this.resizeable=e.resizeable}if("sortable" in e){this.sortable=e.sortable}if("sortOrder" in e){this.sortOrder=e.sortOrder}if("sortComparer" in e){this.sortComparer=e.sortComparer}if("width" in e){this.width=e.width}}a.prototype.align="";a.prototype.cellCssClass="";a.prototype.editable=true;a.prototype.editor=undefined;a.prototype.editMode=false;a.prototype.field="";a.prototype.filterable=false;a.prototype.formatter="Default";a.prototype.headerCssClass="";a.prototype.hidden=false;a.prototype.id=undefined;a.prototype.item=null;a.prototype.maxWidth=9999;a.prototype.minWidth=25;a.prototype.name="";a.prototype.resizeable=true;a.prototype.sortable=true;a.prototype.sortComparer="Default";a.prototype.sortOrder=0;a.prototype.width=50;function d(K){var k=this;var M=[];var p={addItem:function(P){var O=e(P);z(O);k.onChange.notify({id:O.id});return O},addItems:function(O){if(O.length){k.onChange.blockEvents();for(var P=0;P<O.length;P++){k.items.addItem(O[P])}k.onChange.notifyBlocked()}return k},deleteItem:function(O){if(SmallGrid.Utils.isProperty(K.columns.idProperty,O)){n(O[K.columns.idProperty])}return k},deleteItems:function(){return j()},deleteItemById:function(O){return n(O)},getItems:function(){var O=[];for(var P=0;P<M.length;P++){O.push(M[P].item)}return O},setItems:function(O){if(O.length){k.onChange.blockEvents();M=[];for(var P=0;P<O.length;P++){k.items.addItem(O[P])}k.onChange.notifyBlocked()}return k},updateItem:function(O){if(SmallGrid.Utils.isProperty(K.columns.idProperty,O)){k.items.updateItemById(O[K.columns.idProperty],O)}},updateItemById:function(Q,P){for(var O=0;O<M.length;O++){if(M[O].id==Q){M[O].item=P;k.onChange.notify({id:Q});break}}return k},updateItemByIndex:function(O,P){if(M[O]){M[O].item=P;k.onChange.notify({id:M[O].id})}return k},updateItems:function(O){if(O.length){k.onChange.blockEvents();for(var P=0;P<O.length;P++){k.items.updateItem(O[P])}k.onChange.notifyBlocked()}return k}};function B(O){if(M.length){return M.filter(O)}return[]}function m(P,O){if(M.length){return M.reduce(P,O)}}function L(O){if(M.length){k.onChange.blockEvents();M.sort(O);k.onChange.notifyBlocked()}return k}function o(){return M.length===0}function u(){return M.length}function z(O){if(O instanceof a){M.push(O);k.onChange.notify({id:O.id})}return k}function H(P){if(P.length){k.onChange.blockEvents();for(var O=0;O<P.length;O++){z(P[O])}k.onChange.notifyBlocked()}return k}function g(O){if(O instanceof a){n(O.id)}return k}function n(P){for(var O=0;O<M.length;O++){if(M[O].id==P){M.splice(O,1);k.onChange.notify({id:P});break}}return k}function f(O){if(M[O]){var P=M[O].id;M.splice(O,1);k.onChange.notify({id:P})}return k}function j(){if(M.length){k.onChange.blockEvents();M=[];k.onChange.notifyBlocked()}return k}function t(P){for(var O=0;O<M.length;O++){if(M[O].id==P){return M[O]}}}function y(O){return M[O]}function l(O){return M[O].id}function F(P){for(var O=0;O<M.length;O++){if(M[O].id==P){return O}}return -1}function N(Q,O){var P=t(Q);if(P&&O&&O in P){return P[O]}}function E(O,P){var Q=y(O);if(Q&&P&&P in Q){return Q[P]}}function D(){return M}function s(P,O){r(F(P),O);return k}function r(O,P){if(P instanceof a){M.splice(O+1,0,P);k.onChange.notify({id:P.id})}return k}function A(P,O){I(F(P),O);return k}function I(O,P){if(P instanceof a){M.splice(O,0,P);k.onChange.notify({id:P.id})}return k}function v(R,P,O){for(var Q=0;Q<M.length;Q++){if(M[Q].id==R){if(P&&P in M[Q]){M[Q][P]=O;k.onChange.notify({id:R})}break}}return k}function x(O,Q,P){if(Q&&Q in M[O]){M[O][Q]=P;k.onChange.notify({id:M[O].id})}return k}function i(P){if(P.length){k.onChange.blockEvents();M=[];for(var O=0;O<P.length;O++){z(P[O])}k.onChange.notifyBlocked()}return k}function J(P,O){k.onChange.blockEvents();for(var Q=0;Q<M.length;Q++){M[Q][P]=O;k.onChange.notify({id:M[Q].id})}k.onChange.notifyBlocked();return k}function w(O){if(O instanceof a){G(O.id,O)}return k}function G(Q,P){if(P instanceof a){for(var O=0;O<M.length;O++){if(M[O].id==Q){M[O]=P;k.onChange.notify({id:Q});break}}}return k}function q(O,P){if(P instanceof a){if(M[O]){M[O]=P;k.onChange.notify({id:P.id})}}return k}function C(P){if(P.length){k.onChange.blockEvents();for(var O=0;O<P.length;O++){w(P[O])}k.onChange.notifyBlocked()}return k}function h(O){if(O instanceof Object){if(K.columns.mapProperties===true){return b.extend({item:O},O)}return{name:O.name,field:O.field,item:O}}}function e(Q){var O=h(Q);if(O!=undefined){var P=new a(O);P.id=(SmallGrid.Utils.isProperty(K.columns.idProperty,P))?P[K.columns.idProperty]:SmallGrid.Utils.createGuid();P.width=Math.max(Math.min(parseInt(P.width,10),P.maxWidth),P.minWidth);if(P.sortComparer&&SmallGrid.Utils.isFunction(P.sortComparer,SmallGrid.Column.Comparer)===false){delete P.sortComparer}if(P.formatter&&SmallGrid.Utils.isFunction(P.formatter,SmallGrid.Cell.Formatter)===false){delete P.formatter}if(P.editor&&SmallGrid.Utils.isFunction(P.editor,SmallGrid.Cell.Editor)===false){delete P.editor}return P}}b.extend(this,{items:p,onChange:new SmallGrid.Event.Handler(),filter:B,reduce:m,sort:L,total:u,addColumn:z,addColumns:H,createColumn:e,deleteColumn:g,deleteColumnById:n,deleteColumnByIndex:f,deleteColumns:j,getColumnById:t,getColumnByIndex:y,getColumnIdByIndex:l,getColumnIndexById:F,getColumnPropertyById:N,getColumnPropertyByIndex:E,getColumns:D,insertColumnAfterId:s,insertColumnAfterIndex:r,insertColumnBeforeId:A,insertColumnBeforeIndex:I,isEmpty:o,setColumnPropertyById:v,setColumnPropertyByIndex:x,setColumns:i,setColumnsProperty:J,updateColumn:w,updateColumnById:G,updateColumnByIndex:q,updateColumns:C})}function c(f,e){if(Array.isArray(f)==false){throw new TypeError("Data is not defined")}if(e instanceof Object===false){throw new TypeError("Settings is not defined")}return new d(e).items.addItems(f)}})(jQuery);(function(c){c.extend(true,window,{SmallGrid:{Event:{Data:b,Handler:a}}});function b(h){for(var d in h){if(h.hasOwnProperty(d)){this[d]=h[d]}}var e=false;var g=false;var f=false;this.preventDefault=function(){if(h&&"event" in h&&typeof(h.event.preventDefault)==="function"){h.event.preventDefault()}f=true};this.isDefaultPrevented=function(){return f};this.stopPropagation=function(){if(h&&"event" in h&&typeof(h.event.stopPropagation)==="function"){h.event.stopPropagation()}e=true};this.isPropagationStopped=function(){return e};this.stopImmediatePropagation=function(){if(h&&"event" in h&&typeof(h.event.stopImmediatePropagation)==="function"){h.event.stopImmediatePropagation()}g=true};this.isImmediatePropagationStopped=function(){return g}}function a(){var f=this,e=[],d=false,g=[];f.subscribe=function(h){if(c.isFunction(h)){e.push(h)}return f};f.unsubscribe=function(j){for(var h=e.length-1;h>=0;h--){if(e[h]===j){e.splice(h,1)}}return f};f.unsubscribeLast=function(){if(e.length){e.pop()}return f};f.unsubscribeAll=function(){e=[];return f};f.blockEvents=function(){d=true};f.notifyBlocked=function(h){d=false;f.notify(new b({opts:h||{},data:g}));g=[]};f.notify=function(j){if(d==true){return g.push(j)}if(typeof(j)!=b){j=new b(j)}for(var h=0;h<e.length&&!j.isImmediatePropagationStopped();h++){if(e[h].call(f,j)===false){f.stopImmediatePropagation();break}}}}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{Grid:{Create:c,Model:a}}});function a(x,q,j,t,B){var s=this,v={},h="0.4",u=SmallGrid.Utils.createGuid();function y(){A(B.plugins);return s}function C(){for(var D=0;D<v.length;D++){k(v[D])}t.destroy();q.destroy()}function e(){return t}function d(){return q}function o(){return j}function m(){return j.getRowsModel()}function w(){return j.getColumnsModel()}function z(){return B}function f(D){if(v[D]){return v[D]}}function l(){return v}function g(D){return v[D]!==undefined}function r(D,F){if(g(D)){k(D)}var E=SmallGrid.Plugins.Create(D,{view:q,viewModel:j,windowManager:t},B,F);if(E){v[D]=E}}function A(D){var F=Object.keys(D);for(var E=0;E<F.length;E++){r(F[E],D[F[E]])}}function k(D){if(v[D]){v[D].destroy()}if(D in v){delete v[D]}}function i(){var E=Object.keys(v);for(var D=0;D<E.length;D++){k(E[D])}}function n(){return h}function p(){return u}b.extend(this,{init:y,destroy:C,getId:p,getPlugin:f,getPlugins:l,getSettings:z,getVersion:n,getView:d,getViewModel:o,getRowsModel:m,getColumnsModel:w,getWindowManager:e,isRegisteredPlugin:g,registerPlugin:r,registerPlugins:A,unregisterPlugin:k,unregisterPlugins:i})}function c(j,k,f,l){var e=SmallGrid.Settings.Create(l||{});var i=SmallGrid.View.Model.Create(new SmallGrid.Row.Create(k||[],e),new SmallGrid.Column.Create(f||[],e),e);var h=SmallGrid.View.Create(j,i,e);var g=SmallGrid.View.Window.Create(h,e);var d=new a(j,h,i,g,e);return d.init()}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{Handler:{Click:{Create:a,Handler:c}}}});function c(l,g){l.on("click",h).on("mousedown",d).on("contextmenu",j).on("dblclick",e).on("keydown",f);function i(m){if(m&&m.target){var o=b(m.target).closest(g.cellIdentifier);if(o.length){var n=o.closest(g.rowIdentifier);if(n.length){return{cellIndex:o.index(),rowIndex:n.index(),event:m}}}}}function d(m){if(m.ctrlKey||m.shiftKey){document.getSelection().removeAllRanges();m.preventDefault()}}function h(m){m=i(m);if(m&&g.handleClick){g.handleClick(m)}}function j(m){m=i(m);if(m&&g.handleContextMenu){g.handleContextMenu(m)}}function e(m){m=i(m);if(m&&g.handleDblClick){g.handleDblClick(m)}}function f(m){m=i(m);if(m&&g.handleKeyDown){g.handleKeyDown(m)}}function k(){l.off("click",h).off("contextmenu",j).off("dblclick",e).off("keydown",f)}b.extend(this,{destroy:k})}function a(f,e){var d={rowIdentifier:"TR",cellIdentifier:"TD",handleClick:undefined,handleDblClick:undefined,handleContextMenu:undefined,handleKeyDown:undefined};e=b.extend({},d,e);return new c(f,e)}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{Handler:{Resize:{Create:a,Handler:c}}}});function c(g,e){g.on("mousedown",e.handlerIdentifier,f);function f(h){var j=b(this).closest(e.cellIdentifier);if(j.length){var i=j.index();e.handleResizeStart({cellElement:j,cellIndex:i,event:h});b(document).bind("mousemove",function(k){var l=k.pageX-j.offset().left;if(l>0){e.handleResize({cellElement:j,cellIndex:i,width:l,event:k})}}).bind("mouseup",function(k){b(this).unbind("mousemove mouseup");e.handleResizeStop({cellElement:j,cellIndex:i,event:k})})}}function d(){g.off("mousedown",f)}b.extend(this,{destroy:d})}function a(f,e){var d={cellIdentifier:"TD",handleResize:undefined,handleResizeStart:undefined,handleResizeStop:undefined,handlerIdentifier:undefined};e=b.extend({},d,e);return new c(f,e)}})(jQuery);(function(c){c.extend(true,window,{SmallGrid:{Handler:{Scroll:{Create:a,Handler:b}}}});function b(l,e){if(e.resetTop){l[0].scrollTop=0}if(e.resetLeft){l[0].scrollLeft=0}var h,k,m=false,j=false,f={scrollTop:l[0].scrollTop,scrollLeft:l[0].scrollLeft};l.on("scroll",g);l.on("wheel",d);function d(n){clearTimeout(k);if(j===false){j=true;e.handleMouseWheelStart({event:n})}e.handleMouseWheel({event:n});k=setTimeout(function(){e.handleMouseWheelStop({event:n});j=false},e.latency)}function g(o){var n={scrollTop:l[0].scrollTop,scrollLeft:l[0].scrollLeft,topDelta:l[0].scrollTop-f.scrollTop,leftDelta:l[0].scrollLeft-f.scrollLeft,event:o};clearTimeout(h);if(m===false){m=true;e.handleScrollStart(n)}e.handleScroll(n);h=setTimeout(function(){e.handleScrollStop(n);m=false},e.latency);f={scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}}function i(){clearTimeout(h);clearTimeout(k);l.off("scroll",g);l.off("wheel",d)}c.extend(this,{destroy:i})}function a(f,e){var d={handleMouseWheel:undefined,handleMouseWheelStart:undefined,handleMouseWheelStop:undefined,handlescroll:undefined,handlescrollStart:undefined,handlescrollStop:undefined,latency:300,resetLeft:true,resetTop:true};e=c.extend({},d,e);return new b(f,e)}})(jQuery);(function(c){c.extend(true,window,{SmallGrid:{Handler:{Shared:{GetInstance:d,Handler:a}}}});function a(){var h=this,f;c(window).on("click",g).on("contextmenu",e).on("resize",j);function g(k){h.onClick.notify({event:k})}function e(k){h.onContextMenu.notify({event:k})}function j(k){if(f){clearTimeout(f)}f=setTimeout(function(){h.onResize.notify({event:k})},400)}function i(){c(window).off("click",g).off("contextmenu",e).off("resize",j)}c.extend(this,{onClick:new SmallGrid.Event.Handler(),onContextMenu:new SmallGrid.Event.Handler(),onResize:new SmallGrid.Event.Handler(),destroy:i})}var b;function d(){if(!b){b=new a()}return b}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{Plugins:{Create:a}}});function a(c,d,e,g){if(!c.length){throw new Error("Plugin name is not defined.")}if(d.view instanceof SmallGrid.View.View===false){throw new TypeError("View is not defined")}if(d.windowManager instanceof SmallGrid.View.Window.Manager===false){throw new TypeError("WindowManager is not defined")}if(e instanceof Object===false){throw new TypeError("Settings is not defined")}if(SmallGrid.Utils.isFunction(c,SmallGrid.Plugins)!==true){throw new TypeError("name is not defined")}e.plugins[c]=jQuery.extend(true,e.plugins[c]||{},g||{});var f=new SmallGrid.Plugins[c](d,e);return f.init()}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{Query:{FilterQuery:a}}});function a(d,q){var k=this;var e=[];var l=SmallGrid.Utils.createGuid();function h(){return l}function i(){return d}function n(){e=[];return k}function r(){return e}function j(u,v){if(u in k){return k[u](v||"")}throw new TypeError("Type "+u+" not found.")}function t(){e.push({action:"and"});return k}function f(){e.push({action:"or"});return k}function s(u){e.push({action:"eq",value:u});return k}function p(u){e.push({action:"neq",value:u});return k}function o(u){e.push({action:"startsWith",value:u});return k}function m(u){e.push({action:"endsWith",value:u});return k}function g(u){e.push({action:"contains",value:u});return k}function c(u){e.push({action:"doesNotContain",value:u});return k}b.extend(this,{getId:h,getField:i,clear:n,get:r,add:j,and:t,or:f,contains:g,doesnotcontain:c,endswith:m,eq:s,neq:p,startswith:o})}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{Query:{Request:a}}});function a(f,k,l){function m(){for(var p=0;p<k.length;p++){var q=k[p];l.sort(SmallGrid.Column.Comparer[q.getSortComparer()]({sortOrder:q.getSortOrder(),field:q.getField()}))}}function c(){for(var p=0;p<k.length;p++){var q=k[p];l.sort(SmallGrid.Column.Comparer[q.getSortComparer()]({sortOrder:q.getSortOrder(),field:q.getField()}))}}function d(r,p,q){m();return l.filter(new e(r,p,q,n()))}function i(r,p,q){return l.filter(new h(r,p,q,j()))}function o(s){var t={width:0,count:0};var q=l.getColumns();var r=j();for(var p=0;p<q.length;p++){if((r&&(r(q[p])===false))||(q[p].hidden===true)){continue}t.width+=q[p].width+s;t.count++}return t}function g(p){var s={height:0,count:0};var t=l.getRows();var r=n();for(var q=0;q<t.length;q++){if((r&&(r(t[q])===false))||(t[q].hidden===true)){continue}s.height+=t[q].height+p;s.count++}return s}function j(){return""}function n(){var s="";for(var r=0;r<f.length;r++){var q=f[r].get(),v=f[r].getField(),p="";for(var t=0;t<q.length;t++){var u=q[t];switch(u.action){case"and":p+=" && ";break;case"or":p+=" || ";break;case"eq":p+=" (item.item['"+v+"'] == '"+u.value+"') === true ";break;case"neq":p+=" (item.item['"+v+"'] == '"+u.value+"') === false ";break;case"startsWith":p+=" (('' + item.item['"+v+"']).indexOf('"+u.value+"') === 0) === true ";break;case"endsWith":p+=" (('' + item.item['"+v+"']).indexOf('"+u.value+"', item.item['"+v+"'].length - '"+u.value+"'.length) !== -1) === true ";break;case"contains":p+=" (('' + item.item['"+v+"']).indexOf('"+u.value+"') !== -1) === true ";break;case"doesNotContain":p+=" (('' + item.item['"+v+"']).indexOf('"+u.value+"') !== -1) === false ";break}}if(p.length){if(r!==0){s+=" && "}s+="("+p+")"}}if(s.length){return new Function("item","return "+s)}}function h(q,u,w,t){var s=0,r=q-u-w,p=q+2*u+w,v=0;return function(y,x,A){if((t&&(t(y)===false))||(y.hidden===true)){return false}v++;var z=r<=s&&s<=p;s+=w+y.width;if(z||(r<=s&&s<=p)){y.calcWidth=s;y.calcIndex=v;return true}return false}}function e(r,q,v,t){var w=0,s=r-q-v,p=r+2*q+v,u=0;return function(y,x,A){if(t&&(t(y)===false)||(y.hidden===true)){return false}u++;var z=s<=w&&w<=p;w+=v+y.height;if(z||(s<=w&&w<=p)){y.calcHeight=w;y.calcIndex=u;return true}return false}}b.extend(this,{getColumnsInRange:i,getColumnsTotal:o,getRowsTotal:g,getRowsInRange:d})}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{Query:{SorterQuery:a}}});function a(j,i,h,g){var d=this;function e(){return j}function c(){return i}function f(){return h}b.extend(this,{getField:e,getSortOrder:c,getSortComparer:f})}})(jQuery);(function(c){c.extend(true,window,{SmallGrid:{Row:{Create:d,Model:a,RowData:b}}});function b(e){if("cellCssClass" in e){this.cellCssClass=e.cellCssClass}if("disabled" in e){this.disabled=e.disabled}if("editable" in e){this.editable=e.editable}if("editMode" in e){this.editMode=e.editMode}if("height" in e){this.height=e.height}if("hidden" in e){this.hidden=e.hidden}if("id" in e){this.id=e.id}if("item" in e){this.item=e.item}if("maxHeight" in e){this.maxHeight=e.maxHeight}if("minHeight" in e){this.minHeight=e.minHeight}if("rowCssClass" in e){this.rowCssClass=e.rowCssClass}}b.prototype.cellCssClass="";b.prototype.disabled=false;b.prototype.editable=true;b.prototype.editMode=false;b.prototype.height=20;b.prototype.hidden=false;b.prototype.id=undefined;b.prototype.item=null;b.prototype.maxHeight=200;b.prototype.minHeight=20;b.prototype.rowCssClass="";function a(L){var m=this;var N=[];var t={addItem:function(O){var P=l(O);H(P);m.onChange.notify({id:P.id});return P},addItems:function(O){if(O.length){m.onChange.blockEvents();for(var P=0;P<O.length;P++){m.items.addItem(O[P])}m.onChange.notifyBlocked()}return m},deleteItems:function(){return v()},deleteItemById:function(O){return j(O)},deleteItem:function(O){if(SmallGrid.Utils.isProperty(L.rows.idProperty,O)){j(O[L.rows.idProperty])}return m},getItems:function(){var O=[];for(var P=0;P<N.length;P++){O.push(N[P].item)}return O},setItems:function(O){if(O.length){m.onChange.blockEvents();N=[];for(var P=0;P<O.length;P++){m.items.addItem(O[P])}m.onChange.notifyBlocked()}return m},updateItems:function(O){if(O.length){m.onChange.blockEvents();for(var P=0;P<O.length;P++){m.items.updateItem(O[P])}m.onChange.notifyBlocked()}return m},updateItem:function(O){if(SmallGrid.Utils.isProperty(L.rows.idProperty,O)){m.items.updateItemById(O[L.rows.idProperty],O)}},updateItemById:function(Q,P){for(var O=0;O<N.length;O++){if(N[O].id==Q){N[O].item=P;m.onChange.notify({id:Q});break}}return m},updateItemByIndex:function(O,P){if(N[O]){N[O].item=P;m.onChange.notify({id:N[O].id})}return m}};function D(O){if(N.length){return N.filter(O)}return[]}function p(P,O){if(N.length){return N.reduce(P,O)}}function M(O){if(N.length){m.onChange.blockEvents();N.sort(O);m.onChange.notifyBlocked()}return m}function r(){return N.length===0}function y(){return N.length}function n(P){if(P.length){m.onChange.blockEvents();for(var O=0;O<P.length;O++){H(P[O])}m.onChange.notifyBlocked()}return m}function g(P){if(P.length){m.onChange.blockEvents();for(var O=0;O<P.length;O++){F(P[O])}m.onChange.notifyBlocked()}return m}function u(P){if(P.length){m.onChange.blockEvents();N=[];for(var O=0;O<P.length;O++){H(P[O])}m.onChange.notifyBlocked()}return m}function e(P,O){m.onChange.blockEvents();for(var Q=0;Q<N.length;Q++){N[Q][P]=O;m.onChange.notify({id:N[Q].id})}m.onChange.notifyBlocked();return m}function v(){if(N.length){m.onChange.blockEvents();N=[];m.onChange.notifyBlocked()}return m}function H(O){if(O instanceof b){N.push(O);m.onChange.notify({id:O.id})}return m}function A(O){if(O instanceof b){j(O.id)}return m}function j(P){for(var O=0;O<N.length;O++){if(N[O].id==P){N.splice(O,1);m.onChange.notify({id:P});break}}return m}function C(O){if(N[O]){var P=N[O].id;N.splice(O,1);m.onChange.notify({id:P})}return m}function B(P){for(var O=0;O<N.length;O++){if(N[O].id==P){return N[O]}}}function K(O){return N[O]}function o(O){return N[O].id}function J(P){for(var O=0;O<N.length;O++){if(N[O].id==P){return O}}return -1}function w(Q,O){var P=B(Q);if(P&&O&&O in P){return P[O]}}function h(O,P){var Q=K(O);if(Q&&P&&P in Q){return Q[P]}}function s(){return N}function f(P,O){x(J(P),O);return m}function x(O,P){if(P instanceof b){N.splice(O+1,0,P);m.onChange.notify({id:P.id})}return m}function q(P,O){G(J(P),O);return m}function G(O,P){if(P instanceof b){N.splice(O,0,P);m.onChange.notify({id:P.id})}return m}function I(R,P,O){for(var Q=0;Q<N.length;Q++){if(N[Q].id==R){if(P&&P in N[Q]){N[Q][P]=O;m.onChange.notify({id:R})}break}}return m}function E(O,Q,P){if(Q&&Q in N[O]){N[O][Q]=P;m.onChange.notify({id:N[O].id})}return m}function F(O){if(O instanceof b){z(O.id,O)}return m}function z(Q,P){if(P instanceof b){for(var O=0;O<N.length;O++){if(N[O].id==Q){N[O]=P;m.onChange.notify({id:Q});break}}}return m}function k(O,P){if(P instanceof b){if(N[O]){N[O]=P;m.onChange.notify({id:P.id})}}return m}function i(O){if(O instanceof Object){if(L.rows.mapProperties===true){return c.extend({item:O},O)}return{item:O}}}function l(P){var O=i(P);if(O!=undefined){var Q=new b(O);Q.id=(SmallGrid.Utils.isProperty(L.rows.idProperty,P))?P[L.rows.idProperty]:SmallGrid.Utils.createGuid();Q.height=Math.max(Math.min(parseInt(Q.height,10),Q.maxHeight),Q.minHeight);return Q}}c.extend(this,{items:t,onChange:new SmallGrid.Event.Handler(),filter:D,reduce:p,sort:M,total:y,addRow:H,addRows:n,createRow:l,deleteRow:A,deleteRowById:j,deleteRowByIndex:C,deleteRows:v,getRowById:B,getRowByIndex:K,getRowIdByIndex:o,getRowIndexById:J,getRowPropertyById:w,getRowPropertyByIndex:h,getRows:s,insertRowAfterId:f,insertRowAfterIndex:x,insertRowBeforeId:q,insertRowBeforeIndex:G,isEmpty:r,setRowPropertyById:I,setRowPropertyByIndex:E,setRows:u,setRowsProperty:e,updateRow:F,updateRowById:z,updateRowByIndex:k,updateRows:g})}function d(f,e){if(Array.isArray(f)==false){throw new TypeError("Data is not defined")}if(e instanceof Object===false){throw new TypeError("Settings is not defined")}return new a(e).items.addItems(f)}})(jQuery);(function(d){var h=function(){var l={};var k=[];for(var m=0;m<256;m++){k[m]=(m<16?"0":"")+m.toString(16)}l.newGuid=function(){var q=Math.random()*4294967295|0;var s=Math.random()*4294967295|0;var p=Math.random()*4294967295|0;var o=Math.random()*4294967295|0;return k[q&255]+k[q>>8&255]+k[q>>16&255]+k[q>>24&255]+"-"+k[s&255]+k[s>>8&255]+"-"+k[s>>16&15|64]+k[s>>24&255]+"-"+k[p&63|128]+k[p>>8&255]+"-"+k[p>>16&255]+k[p>>24&255]+k[o&255]+k[o>>8&255]+k[o>>16&255]+k[o>>24&255]};return l}();function b(l,k){return(k&&l&&l in k&&typeof(k[l])==="function")}function g(k,l){return(k&&k in l)}function a(k){return(/^true$/i).test(k)}function j(){var k=d('<div style="display:none;width:1vw;height:1vh;" />').appendTo(document.body);var l={width:k.width()-k[0].clientWidth,height:k.height()-k[0].clientHeight};k.remove();return l}function i(){var m=1000000,l=1000000,k=d('<div style="display:none; " />').appendTo(document.body);do{k.css("height",l);if(k.height()===l){l+=m}else{break}}while(l<16000000);k.remove();return l-m}function f(){var k=d('<div style="position:absolute; top:-100px; left:-100px; width:100px; height:100px; overflow:scroll;"></div>').appendTo(document.body);var l={width:k.width()-k[0].clientWidth,height:k.height()-k[0].clientHeight};k.remove();return l}function c(m){var o=d("<table class='grid-content-table' style='position:absolute; top:-100px; left:-100px;'></table>").appendTo(document.body),l=d("<tbody></tbody>").appendTo(o),k=d("<tr/>").appendTo(l),p=d("<td class='"+m+"' style='width:5px; height:5px;'>-</td>").appendTo(k);var n={width:p.outerWidth()-p.width(),height:p.outerHeight()-p.height()};p.remove();k.remove();l.remove();o.remove();return n}function e(k){return -1*(k<0?-1:1)}d.extend(true,window,{SmallGrid:{Utils:{changeSortOrder:e,createGuid:h.newGuid,isFunction:b,isProperty:g,measureCellDiff:c,measureMaxSupportedCssHeight:i,measureScrollbar:f,measureViewport:j,parseBool:a}}})})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{View:{Create:c,View:a}}});function a(p,aq,S,am){var t=this,M={width:0,height:0},aj={},e=[],ab=1,U=null,C=null,n={horisontal:false,vertical:false},v=[],g=false,y=0;function ai(){var ar=k();aj=S.buildViewPortElements(p);aj.container.empty().addClass(am.uid);aj.viewport.appendTo(aj.container);e.push(SmallGrid.Handler.Resize.Create(aj.header,{handleResize:o,handleResizeStart:d,handleResizeStop:E,handlerIdentifier:"."+am.cssClass.headerResizeHandle}),SmallGrid.Handler.Click.Create(aj.header,{handleClick:O,handleDblClick:I,handleContextMenu:ae}),SmallGrid.Handler.Click.Create(aj.content,{handleClick:A,handleDblClick:Y,handleContextMenu:an,handleKeyDown:K}),SmallGrid.Handler.Scroll.Create(aj.content,{handleScrollStart:ag,handleScrollStop:al,handleScroll:af,handleMouseWheelStart:P,handleMouseWheelStop:F,handleMouseWheel:ac}));var at=SmallGrid.Handler.Shared.GetInstance();at.onClick.subscribe(ak);at.onResize.subscribe(u);at.onContextMenu.subscribe(f);aq.onRowsChange.subscribe(x);aq.onColumnsChange.subscribe(l);B();if(am.resizeColumnsOnLoad===true){H()}G();m(ar);t.onInitialize.notify({});return t}function aa(){k();S=null;aq.onRowsChange.unsubscribe(x);aq.onColumnsChange.unsubscribe(l);var at=SmallGrid.Handler.Shared.GetInstance();at.onClick.unsubscribe(ak);at.onResize.unsubscribe(u);at.onContextMenu.unsubscribe(f);if(aj.container.length){for(var ar=0;ar<e.length;ar++){e[ar].destroy()}aj.container.empty().removeClass(am.uid)}t.onDestroy.notify({})}function ad(){return n.horisontal}function r(){return n.vertical}function i(ar){if(aj[ar]){return aj[ar]}}function X(ar){var at=aq.getRowById(ar);if(at){return(at.calcHeight-at.height-am.cellOuterSize.height>=aj.content[0].scrollTop&&at.calcHeight+at.height+am.cellOuterSize.height<M.height+aj.content[0].scrollTop)}return false}function N(ar){return aj.contentTbody[0].rows[ar]}function L(ar){var at=aq.getRowIndexById(ar);if(at!=-1){return N(at)}}function R(ar,at){return V(ar)&&X(at)}function z(ar,at){if(aj.contentTbody[0].rows[at]&&aj.contentTbody[0].rows[at].cells[ar]){return aj.contentTbody[0].rows[at].cells[ar]}}function q(at,au){var av=aq.getRowIndexById(au);var ar=aq.getColumnIndexById(at);if(av!=-1&&ar!=-1){return z(ar,av)}}function V(at){var ar=aq.getColumnById(at);if(ar){return(ar.calcWidth-ar.width-am.cellOuterSize.width>=aj.content[0].scrollLeft&&ar.calcWidth<M.width+aj.content[0].scrollLeft)}return false}function ap(){return aq}function Q(){y++;J();return t}function J(){if(y>0){if(U!=null||w()===true){clearTimeout(C);C=setTimeout(Q,187)}else{U++;clearTimeout(C);G();if(am.renderDelay){setTimeout(function(){U=null},am.renderDelay)}else{U=null}}}return t}function G(){var av=k();y=0;var ar=aq.requestDataFromRange({top:aj.content[0].scrollTop*ab,left:aj.content[0].scrollLeft},M,am.cellOuterSize,{width:n.vertical?am.scrollbarDimensions.width:0,height:n.horisontal?am.scrollbarDimensions.height:0},ab==1);if(ar.isCached===0){if(ar.columns.length>0){aj.headerTable.css({left:ar.columns[0].calcWidth-ar.columns[0].width-am.cellOuterSize.width});if(ar.rows.length>0){aj.contentTable.css({top:ar.rows[0].calcHeight-ar.rows[0].height-am.cellOuterSize.height-(aj.content[0].scrollTop*ab)+aj.content[0].scrollTop,left:ar.columns[0].calcWidth-ar.columns[0].width-am.cellOuterSize.width})}var at=ar.columns[ar.columns.length-1];var au={hideRowBorder:(n.horisontal===false&&n.vertical==true),hideColumnBorder:(n.vertical===false&&M.width<=at.calcWidth),virtualColumnWidth:(am.showLastColumn===true&&M.width>=at.calcWidth)?M.width-at.calcWidth:0};D(S.buildHeaderColumnsHtml(ar.columns,au),S.buildColsHtml(ar.columns,au),S.buildRowsHtml(ar.columns,ar.rows,au))}else{D("","","")}}m(av)}function D(at,ar,au){t.onBeforeRowsRendered.notify({});aj.headerCol[0].innerHTML=aj.contentCol[0].innerHTML=ar;aj.headerTbody[0].innerHTML=at;aj.contentTbody[0].innerHTML=au;t.onAfterRowsRendered.notify({})}function w(){return v.length>0}function k(){var ar=SmallGrid.Utils.createGuid();v.push(ar);return ar}function m(at){for(var ar=0;ar<v.length;ar++){if(v[ar]==at){v.splice(ar,1);return true}}return false}function j(au,at){var ar="";if(at.resizeable&&au.indexOf(am.cssClass.headerResizeHandle)!=-1){ar="resize"}else{if(at.filterable&&au.indexOf(am.cssClass.headerFilter)!=-1){ar="filter"}else{if(at.sortable){ar="sort"}}}return ar}function h(au,at,av){var ar="";if(av.editable===true&&at.editable===true){ar="edit"}else{if(av.disabled===true){ar="disabled"}}return ar}function T(ar){var at=aq.getColumnByIndex(ar.cellIndex);if(at){ar.type=j(b(ar.event.target).attr("class"),at);ar.targetClass=b(ar.event.target).attr("class");ar.column=at;return ar}}function ah(ar){var at=aq.getColumnByIndex(ar.cellIndex);var au=aq.getRowByIndex(ar.rowIndex);if(at&&at.field.length>0&&au&&at.field in au.item){ar.type=h(b(ar.event.target).attr("class"),at,au);ar.row=au;ar.column=at;return ar}}function Z(at,aw,ax){var az=at.slice();var aB={minWidth:0,maxWidth:0,width:0},ar=M.width-az.length*ax-aw;for(var ay=az.length-1;ay>=0;ay--){var aC=az[ay];if(aC.resizeable===false){ar-=aC.width;az.splice(ay,1);continue}aB.minWidth+=aC.minWidth;aB.maxWidth+=aC.maxWidth;aB.width+=aC.width}if(aB.minWidth<=ar&&ar<=aB.maxWidth){var av=az.slice();while(av.length>0){var aA=ar/aB.width;aB.width=0;for(ay=av.length-1;ay>=0;ay--){var au=av[ay];var aD=Math.max(Math.min(Math.floor(au.width*aA),au.maxWidth),au.minWidth);aB.width+=aD;if(au.width==aD){if(av.length==1&&ar!=au.width){au.width+=ar-au.width}ar-=au.width;av.splice(ay,1);continue}au.width=aD}}}return az}function H(){var ar=Z(aq.getColumnsModel().getColumns(),(n.vertical===true)?am.scrollbarDimensions.width:0,am.cellOuterSize.width);var at=k();aq.getColumnsModel().updateColumns(ar);m(at);return t}function B(){M.width=aj.container.width();M.height=Math.max(aj.container.height()-am.header.height-am.cellOuterSize.height,0);if(M.height){aj.content.height(M.height)}ao();W();return t}function ao(){var ar=aq.getRowsHeight(am.cellOuterSize);n.vertical=n.horisontal?(ar>(M.height-am.scrollbarDimensions.height)):(ar>M.height);if(am.showLastColumn==true){aj.headerWrap.css({width:Math.max(aj.headerWrap.width(),M.width)});aj.contentWrap.css({width:Math.max(aj.contentWrap.width(),M.width)})}if(ar>am.maxSupportedCssHeight){ab=(ar-M.height+am.scrollbarDimensions.height)/(am.maxSupportedCssHeight-M.height+am.scrollbarDimensions.height);ar=am.maxSupportedCssHeight}aj.header.css({width:n.vertical?M.width-am.scrollbarDimensions.width:M.width});aj.contentWrap.css({height:ar})}function x(){ao();Q()}function W(){var at=aq.getColumnsWidth(am.cellOuterSize);n.horisontal=n.vertical?(at>(M.width-am.scrollbarDimensions.width)):(at>M.width);var ar=Math.max(at,n.vertical?M.width-am.scrollbarDimensions.width:M.width);aj.headerWrap.css({width:ar});aj.contentWrap.css({width:ar})}function l(){W();Q()}function A(ar){var at=ah(ar);if(at){s(at,"onCellClick")}}function Y(ar){var at=ah(ar);if(at){s(at,"onCellDblClick")}}function an(ar){var at=ah(ar);if(at){s(at,"onCellContextMenu")}}function K(ar){var at=ah(ar);if(at){s(at,"onCellKeyDown")}}function o(ar){s(ar,"onColumnResize")}function d(ar){g=true;s(ar,"onColumnResizeStart")}function E(ar){g=false;s(ar,"onColumnResizeStop")}function P(ar){s(ar,"onMouseWheelStart")}function F(ar){s(ar,"onMouseWheelStop")}function ac(ar){s(ar,"onMouseWheel")}function ag(ar){if(g===false){s(ar,"onScrollStart")}}function al(ar){if(g===false){s(ar,"onScrollStop")}}function af(ar){if(g===false){aj.header[0].scrollLeft=aj.content[0].scrollLeft;Q();s(ar,"onScroll")}}function u(ar){var at=k();B();s(ar,"onDocumentResize");G();m(at)}function f(ar){s(ar,"onDocumentContextMenu")}function ak(ar){s(ar,"onDocumentClick")}function O(ar){var at=T(ar);if(at){s(at,"onHeaderClick")}}function ae(ar){var at=T(ar);if(at){s(at,"onHeaderContextMenu")}}function I(ar){var at=T(ar);if(at){s(at,"onHeaderDblClick")}}function s(ar,at){t[at].notify(ar)}b.extend(this,{init:ai,destroy:aa,getCellNodeById:q,getCellNodeByIndex:z,getModel:ap,getNode:i,getRowNodeById:L,getRowNodeByIndex:N,isCellVisible:R,isColumnVisible:V,isHorisontalScrollVisible:ad,isRowVisible:X,isSuspended:w,isVerticalScrollVisible:r,render:Q,resize:B,resizeColumns:H,resumeRender:m,suspendRender:k,onScroll:new SmallGrid.Event.Handler(),onScrollStart:new SmallGrid.Event.Handler(),onScrollStop:new SmallGrid.Event.Handler(),onMouseWheel:new SmallGrid.Event.Handler(),onMouseWheelStart:new SmallGrid.Event.Handler(),onMouseWheelStop:new SmallGrid.Event.Handler(),onDocumentClick:new SmallGrid.Event.Handler(),onDocumentResize:new SmallGrid.Event.Handler(),onDocumentContextMenu:new SmallGrid.Event.Handler(),onHeaderClick:new SmallGrid.Event.Handler(),onHeaderContextMenu:new SmallGrid.Event.Handler(),onHeaderDblClick:new SmallGrid.Event.Handler(),onCellClick:new SmallGrid.Event.Handler(),onCellContextMenu:new SmallGrid.Event.Handler(),onCellDblClick:new SmallGrid.Event.Handler(),onCellKeyDown:new SmallGrid.Event.Handler(),onColumnResize:new SmallGrid.Event.Handler(),onColumnResizeStart:new SmallGrid.Event.Handler(),onColumnResizeStop:new SmallGrid.Event.Handler(),onAfterRowsRendered:new SmallGrid.Event.Handler(),onBeforeRowsRendered:new SmallGrid.Event.Handler(),onInitialize:new SmallGrid.Event.Handler(),onDestroy:new SmallGrid.Event.Handler()})}function c(d,e,f){var h=b(d);if(!h.length){throw new TypeError("Container is not defined or does not exist in the DOM.")}if(e instanceof SmallGrid.View.Model.Model===false){throw new TypeError("View model is not defined.")}if(f instanceof Object===false){throw new TypeError("Settings is not defined")}var g=SmallGrid.View.Renderer.Create(f);return new a(h,e,g,f).init()}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{View:{Model:{Model:a,Create:c}}}});function a(D,e,Q){var h=this;var j={count:0,height:0};var y={count:0,width:0};var R=[];var k=[];var M=[];var f=[];var r=[];var w=[];var t={minTop:undefined,maxTop:undefined,minLeft:undefined,maxLeft:undefined};function O(){D.onChange.subscribe(o);e.onChange.subscribe(g);return h}function K(){D.onChange.unsubscribe(o);e.onChange.unsubscribe(g)}function H(){return D}function I(){return e}function g(T){x();if(T.data){var V=[];for(var U=0;U<T.data.length;U++){if(T.data[U].id){V.push(T.data[U].id)}}h.onColumnsChange.notify({ids:V})}else{if(T.id){h.onColumnsChange.notify({ids:[T.id]})}}}function o(T){S();if(T.data){var V=[];for(var U=0;U<T.data.length;U++){if(T.data[U].id){V.push(T.data[U].id)}}h.onRowsChange.notify({ids:V})}else{if(T.id){h.onRowsChange.notify({ids:[T.id]})}}}function s(){return R}function B(){return k}function P(T){return R[T]}function A(T){return k[T]}function J(U){for(var T=0;T<R.length;T++){if(R[T].id==U){return T}}return -1}function G(U){for(var T=0;T<k.length;T++){if(k[T].id==U){return T}}return -1}function z(U){for(var T=0;T<R.length;T++){if(R[T].id==U){return R[T]}}}function v(U){for(var T=0;T<k.length;T++){if(k[T].id==U){return k[T]}}}function n(){return j}function p(){return y}function L(){return M}function q(U){if(U instanceof SmallGrid.Query.FilterQuery){for(var T=0;T<M.length;T++){if(M[T].getId()==U.getId()){break}}M[T]=U;S();h.onRowsChange.notify()}}function C(U){if(U instanceof SmallGrid.Query.FilterQuery){for(var T=0;T<M.length;T++){if(M[T].getId()==U.getId()){M.splice(T,1);S();h.onRowsChange.notify();break}}}}function d(){M=[];S();h.onRowsChange.notify()}function m(){return r}function N(T){if(T instanceof SmallGrid.Query.SorterQuery){r=[];S();r.push(T);h.onRowsChange.notify()}}function i(T){if(T instanceof SmallGrid.Query.SorterQuery){for(var U=0;U<r.length;U++){if(r[U].getField()==T.getField()){r.splice(U,1);S();h.onRowsChange.notify();break}}}}function u(){r=[];S();h.onRowsChange.notify()}function F(T){j=new SmallGrid.Query.Request(M,r,D).getRowsTotal(T.height);return j.height}function E(T){y=new SmallGrid.Query.Request(f,w,e).getColumnsTotal(T.width);return y.width}function l(T,W,U,Y,X){var V=(t.minTop<=T.top&&T.top<=t.maxTop+Y.height)&X;var Z=(t.minLeft<=T.left&&T.left<=t.maxLeft+Y.width)&X;if(V===0){R=new SmallGrid.Query.Request(M,r,D).getRowsInRange(T.top,W.height,U.height);S(R,W,U)}if(Z===0){k=new SmallGrid.Query.Request(f,w,e).getColumnsInRange(T.left,W.width,U.width);x(k,W,U)}return{isCached:(V&&Z),rows:R,columns:k}}function x(V,U,T){if(V&&V.length){t.minLeft=V[0].calcWidth-V[0].width-T.width;t.maxLeft=V[(V.length-1)].calcWidth>U.width?V[(V.length-1)].calcWidth-U.width:U.width}else{t.minLeft=undefined;t.maxLeft=undefined}}function S(V,U,T){if(V&&V.length){t.minTop=V[0].calcHeight-V[0].height-T.height;t.maxTop=V[(V.length-1)].calcHeight>U.height?V[(V.length-1)].calcHeight-U.height:U.height}else{t.minTop=undefined;t.maxTop=undefined}}b.extend(this,{init:O,destroy:K,getRowsTotal:n,getColumnsTotal:p,getColumnsModel:I,getRowsModel:H,requestDataFromRange:l,clearSorter:i,clearSorters:u,clearFilter:C,clearFilters:d,getColumnById:v,getColumnByIndex:A,getColumnIndexById:G,getColumns:B,getColumnsWidth:E,getFilters:L,getSorters:m,getRowById:z,getRowByIndex:P,getRowIndexById:J,getRows:s,getRowsHeight:F,setFilter:q,setSorter:N,onColumnsChange:new SmallGrid.Event.Handler(),onRowsChange:new SmallGrid.Event.Handler()})}function c(d,f,e){if(e instanceof Object===false){throw new TypeError("Settings is not defined")}if(d instanceof SmallGrid.Row.Model===false){throw new TypeError("Rows model is not defined.")}if(f instanceof SmallGrid.Column.Model===false){throw new TypeError("Column model is not defined.")}return new a(d,f,e).init()}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{View:{Renderer:{Create:a,Renderer:c}}}});function c(j){var r=this;function k(u){var t={container:u,content:null,contentCol:null,contentTable:null,contentTbody:null,contentWrap:null,footer:null,header:null,headerCol:null,headerTable:null,headerTbody:null,headerWrap:null,viewport:null};t.viewport=b("<div class='small-grid grid-viewport'/>");t.header=b("<div class='grid-header'/>");t.content=b("<div class='grid-content'/>");t.footer=b("<div class='grid-footer'/>");t.preload=b("<div class='grid-preload-font'/>");t.headerCol=b("<colgroup></colgroup>");t.headerTable=b("<table class='grid-header-table'></table>");t.headerTbody=b("<tbody></tbody>");t.headerWrap=b("<div class='grid-header-wrap'/>");t.contentCol=b("<colgroup></colgroup>");t.contentTable=b("<table class='grid-content-table'></table>");t.contentTbody=b("<tbody></tbody>");t.contentWrap=b("<div class='grid-content-wrap'/>");t.headerCol.appendTo(t.headerTable);t.headerTbody.appendTo(t.headerTable);t.headerTable.appendTo(t.headerWrap);t.headerWrap.appendTo(t.header);t.contentCol.appendTo(t.contentTable);t.contentTbody.appendTo(t.contentTable);t.contentTable.appendTo(t.contentWrap);t.contentWrap.appendTo(t.content);t.header.appendTo(t.viewport);t.content.appendTo(t.viewport);t.footer.appendTo(t.viewport);t.preload.appendTo(t.viewport);if(j.header.disableTextSelection){t.header.addClass(j.cssClass.disableTextSelection)}if(j.rows.disableTextSelection){t.content.addClass(j.cssClass.disableTextSelection)}return t}function g(v,x){var u="<tr class='"+j.cssClass.headerRow+"'>";for(var t=0,w=v.length-1;t<=w;t++){u+=o(v[t],x,w==t)}if(x.virtualColumnWidth>0){u+=f(v[t-1],x)}return u+"</tr>"}function o(v,w,y){var x="",u,t=j.cssClass.headerCell;if(v.headerCssClass){t+=" "+v.headerCssClass}if(y&&w.hideColumnBorder){t+=" "+j.cssClass.cellColumnLast}switch(v.align){case"center":t+=" "+j.cssClass.cellAlignCenter;break;case"right":t+=" "+j.cssClass.cellAlignRight;break}if(v.name){x+=v.name}if(v.sortable||v.filterable){t+=" "+j.cssClass.cursorPointer}u="<td style='height:"+j.header.height+"px' class='"+t+"'><div class='"+j.cssClass.headerCellDiv+"'><span class='"+j.cssClass.headerColumnName+"'>"+x+"</span>";if(v.sortable&&v.sortOrder!==0){u+="<span class='"+((v.sortOrder==1)?j.cssClass.headerSortUp:j.cssClass.headerSortDown)+"'></span>"}if(v.filterable){u+="<span class='"+j.cssClass.headerFilter+"'></span>"}u+="</div>";if(v.resizeable){u+="<span class='"+j.cssClass.headerResizeHandle+"'></span>"}return u+"</td>"}function f(t,u){return"<td class='"+j.cssClass.headerCell+" "+j.cssClass.cellColumnLast+"' style='height:"+j.header.height+"px'></td>"}function i(v,x){var u="";for(var t=0,w=v.length;t<w;t++){u+=p(v[t])}if(x.virtualColumnWidth>0){u+=h(v[t-1],x)}return u}function p(u){var t=j.cssClass.col;if(u.headerCssClass){t+=" "+u.headerCssClass}return"<col style='width:"+(u.width+j.cellOuterSize.width)+"px;' class='"+t+"'/>"}function h(t,u){return"<col style='width:"+u.virtualColumnWidth+"px;' class='"+j.cssClass.col+" "+j.cssClass.collLast+"'/>"}function q(v,y,x){var u="";for(var t=0,w=y.length-1;t<=w;t++){u+=e(v,y[t],x,w==t)}return u}function e(v,z,y,A){var w=j.cssClass.row+((z.calcIndex&1==1)?" "+j.cssClass.rowEven:" "+j.cssClass.rowOdd);if(z.rowCssClass){w+=" "+z.rowCssClass}switch(j.rows.valign){case"middle":w+=" "+j.cssClass.rowValignMiddle;break;case"top":w+=" "+j.cssClass.rowValignTop;break;case"bottom":w+=" "+j.cssClass.rowValignBottom;break;case"baseline":w+=" "+j.cssClass.rowValignBaseline;break}var u="<tr class='"+w+"'>";for(var t=0,x=v.length-1;t<=x;t++){u+=m(v[t],z,y,x==t,A)}if(y.virtualColumnWidth>0){u+=d(v[t-1],y,A)}return u+"</tr>"}function m(u,x,v,w,y){var t=j.cssClass.cell;if(u.cellCssClass){t+=" "+u.cellCssClass}if(w&&v.hideColumnBorder){t+=" "+j.cssClass.cellColumnLast}if(y&&v.hideRowBorder){t+=" "+j.cssClass.cellRowLast}if(u.align=="center"){t+=" "+j.cssClass.cellAlignCenter}if(u.align=="right"){t+=" "+j.cssClass.cellAlignRight}if(x.cellCssClass&&(u.field in x.cellCssClass)){t+=" "+x.cellCssClass[u.field]}return"<td height='"+x.height+"' class='"+t+"'>"+l(u,x)+"</td>"}function d(u,v,w){var t=j.cssClass.cell+" "+j.cssClass.cellColumnLast;if(w){t+=" "+j.cssClass.cellRowLast}return"<td class='"+t+"'></td>"}function l(t,v){var u="";if(t.field in v.item&&(v.editMode===false||t.editMode===false)){u=s(t,v)}return u}function s(t,u){return(t.formatter)?SmallGrid.Cell.Formatter[t.formatter](n(t,u),t,u,j):n(t,u)}function n(t,u){return u.item[t.field]}b.extend(this,{buildViewPortElements:k,buildHeaderColumnsHtml:g,buildColsHtml:i,buildRowsHtml:q})}function a(d){if(d instanceof Object===false){throw new TypeError("Settings is not defined")}return new c(d)}})(jQuery);(function(c){c.extend(true,window,{SmallGrid:{View:{Window:{Create:a,Manager:b}}}});function b(m,g){var s=this;var d=[];function r(w,v,t){if(f(w)===false){d.push({id:w,opts:t||{}});var u=c('<div class="grid-window grid-window-'+w+'"/>');if(v&&v.length){v.appendTo(u)}u.appendTo(m.getNode("container")).hide()}return s}function f(u){for(var t=0;t<d.length;t++){if(d[t].id==u){return true}}return false}function e(u){for(var t=0;t<d.length;t++){if(d[t].id==u){return{id:d[t].id,opts:d[t].opts,container:m.getNode("container").children(".grid-window-"+u)}}}return s}function j(v){for(var t=0;t<d.length;t++){if(d[t].id==v){d.splice(t,1);var u=m.getNode("container").children(".grid-window-"+v);if(u.length){u.remove()}break}}return s}function l(A,t,x){var v=x||0;var w=e(A);if(w!=null){w.container.show();var z=m.getNode("container");var u={width:w.container.width(),height:w.container.height()};var y=(u.width+t.x>z.width()&&u.width<t.x-z.offset().left)?t.x-u.width+v:t.x-v;w.container.offset({top:t.y-v,left:y})}return s}function q(z,t){var w=e(z);if(w!=null){w.container.show();var y=m.getNode("container");var u={width:w.container.width(),height:w.container.height()};var v={left:t.offset().left,top:t.offset().top,width:t.width(),height:t.height()};var x=(u.width+v.left>y.width()&&u.width<v.left-y.offset().left)?v.left+v.width-u.width:v.left;w.container.offset({top:v.top+v.height,left:x})}return s}function h(t){return(m.getNode("container").children(".grid-window-"+t+":visible").length>0)}function k(t){m.getNode("container").children(".grid-window-"+t).show();return s}function o(t){m.getNode("container").children(".grid-window-"+t).hide();return s}function i(){m.getNode("container").children(".grid-window").hide();return s}function p(){m.onDocumentClick.subscribe(i);m.onColumnResizeStart.subscribe(i);return s}function n(){m.onDocumentClick.unsubscribe(i);m.onColumnResizeStart.unsubscribe(i);d=[]}c.extend(this,{init:p,destroy:n,createWindow:r,showWindowNearPosition:l,showWindowNearTarget:q,getWindow:e,hideWindow:o,hideWindows:i,isWindow:f,isVisible:h,removeWindow:j,showWindow:k})}function a(d,e){if(d instanceof SmallGrid.View.View===false){throw new TypeError("View is not defined")}if(e instanceof Object===false){throw new TypeError("Settings is not defined")}return new SmallGrid.View.Window.Manager(d,e).init()}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{Plugins:{CellEdit:a}}});function a(c,r){var n=this;var h=c.view;var o=c.windowManager;var i={enabled:false};function q(){h.onAfterRowsRendered.subscribe(j);h.onBeforeRowsRendered.subscribe(g);h.onCellClick.subscribe(s);h.onCellDblClick.subscribe(f);h.onCellKeyDown.subscribe(p);h.onScrollStop.subscribe(l);return n}function t(){h.onAfterRowsRendered.unsubscribe(j);h.onBeforeRowsRendered.unsubscribe(g);h.onCellClick.unsubscribe(s);h.onCellDblClick.unsubscribe(f);h.onCellKeyDown.unsubscribe(p);h.onScrollStop.unsubscribe(l)}function l(v){if(u()===true&&r.plugins.CellEdit.autoFocus===true){if(h.isCellVisible(i.column.id,i.row.id)){i.editor.focus()}}}function g(v){if(u()===true){i.editor.remove()}}function j(w){if(u()===true){var v=h.getCellNodeById(i.column.id,i.row.id);if(v){v.className+=" "+r.cssClass.cellEdit;i.editor.append(v);if(i.addFocusOnce===true){i.addFocusOnce=false;i.editor.focus()}}}}function f(v){if(u()===true&&v.column.id==i.column.id&&v.row.id==i.row.id){i.editor.focus()}if(r.plugins.CellEdit.editOnClick===false){e(v.column.id,v.row.id)}}function s(v){if(u()===true&&v.column.id==i.column.id&&v.row.id==i.row.id){i.editor.focus()}if(r.plugins.CellEdit.editOnClick===true){e(v.column.id,v.row.id)}}function p(v){if(v&&v.event){switch(v.event.keyCode){case 13:if(v.event.target&&v.event.target.tagName!="TEXTAREA"){m()}break;case 27:k();break}}}function e(x,y){if(u()===true){if(i.column.id!=x||i.row.id!=y){m()}}if(u()===false){var v=h.getModel().getColumnById(x);var z=h.getModel().getRowById(y);if(z&&v&&z.editable&&v.editable&&v.editor){var w=h.suspendRender();i={enabled:true,addFocusOnce:true,row:z,column:v,editor:new SmallGrid.Cell.Editor.Create(v.editor,{row:z,column:v,value:z.item[v.field],windowManager:o,settings:r},r)};n.onCellEdited.notify({row:i.row,column:i.column,editor:i.editor});h.getModel().getColumnsModel().setColumnPropertyById(v.id,"editMode",true);h.getModel().getRowsModel().setRowPropertyById(z.id,"editMode",true);h.resumeRender(w);if(SmallGrid.Utils.isFunction("append",i.editor)){}else{m()}}}}function d(){if(u()===true){return i.editor}}function u(){return(i.enabled===true)}function m(){if(u()===true){var v=h.suspendRender();h.getModel().getColumnsModel().setColumnPropertyById(i.column.id,"editMode",false);var w=h.getModel().getRowsModel().getRowById(i.row.id);if(w){w.item[i.column.field]=i.editor.getValue();w.editMode=false;h.getModel().getRowsModel().updateRow(w)}i.editor.destroy();i={enabled:false};h.resumeRender(v)}return n}function k(){if(u()===true){var v=h.suspendRender();h.getModel().getColumnsModel().setColumnPropertyById(i.column.id,"editMode",false);var w=h.getModel().getRowsModel().getRowById(i.row.id);if(w){w.editMode=false;h.getModel().getRowsModel().updateRow(w)}i.editor.destroy();i={enabled:false};h.resumeRender(v)}return n}b.extend(this,{init:q,destroy:t,applyEdit:m,cancelEdit:k,editCellById:e,getEditor:d,isEditMode:u,onCellEdited:new SmallGrid.Event.Handler()})}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{Plugins:{ColumnFilterMenu:a}}});function a(d,e){var p=this;var l=null;var i=d.view;var h=d.windowManager;function m(s){if(s&&s.type&&s.type=="filter"){s.stopPropagation();l=s.column.id;var r=h.isVisible(s.column.id);h.hideWindows();if(h.isWindow(s.column.id)===false){h.createWindow(s.column.id,q(s.column.id),{filter:new SmallGrid.Query.FilterQuery(s.column.field,e)});h.showWindowNearTarget(s.column.id,b(s.event.target))}else{if(r===false){h.showWindow(s.column.id)}}}}function q(u){var r=b("<div class='grid-header-menu'></div>");var s=b("<form>");var t=b('<div class="grid-header-menucontent"></div>').append('<select name="type1"><option value="contains">Contains</option><option value="doesnotcontain">Does not contains</option><option value="eq">Is equal to</option><option value="neq">Is not equal to</option><option value="startswith">Starts with</option><option value="endswith">Ends with</option></select>').append('<input type="text" name="value1" value=""/>').append('<select name="operator"><option value="and">And</option><option value="or">Or</option></select>').append('<select name="type2"><option value="contains">Contains</option><option value="doesnotcontain">Does not contains</option><option value="eq">Is equal to</option><option value="neq">Is not equal to</option><option value="startswith">Starts with</option><option value="endswith">Ends with</option></select>').append('<input type="text" name="value2" value=""/>').append('<input type="submit" name="Filter" value="Filter" class="btn-submit"/>').append('<input type="reset" name="Clear" value="Clear" class="btn-clear"/>').appendTo(s);s.on("submit",{id:u},f);s.on("reset",{id:u},g);s.on("click",{id:u},o);s.appendTo(r);return r}function c(r){return{value:[r.find("input[name='value1']").val(),r.find("input[name='value2']").val()],type:[r.find("select[name='type1']").val(),r.find("select[name='type2']").val()],operator:r.find("select[name='operator']").val()}}function f(r){r.preventDefault();var u=h.getWindow(r.data.id);if(u&&u.opts){var t=i.getModel().getColumnsModel().getColumnById(r.data.id);if(t){var s=u.opts.filter;var v=c(u.container);u.opts.filter.clear();u.opts.filter.add(v.type[0],v.value[0]);if(v.value[1]){u.opts.filter.add(v.operator);u.opts.filter.add(v.type[1],v.value[1])}t.headerCssClass+=" "+e.cssClass.headerFilterActive;i.getModel().getColumnsModel().updateColumn(t);i.getModel().setFilter(s);h.hideWindow(r.data.id)}}}function g(r){var t=h.getWindow(r.data.id);if(t){var s=i.getModel().getColumnsModel().getColumnById(r.data.id);if(s){s.headerCssClass=s.headerCssClass.replace(" "+e.cssClass.headerFilterActive,"");i.getModel().getColumnsModel().updateColumn(s);i.getModel().clearFilter(t.opts.filter);h.hideWindow(r.data.id)}}}function o(r){r.stopPropagation()}function k(){if(l!=null){h.hideWindow(l);l=null}}function n(){i.onHeaderClick.subscribe(m);i.onScrollStart.subscribe(k);return p}function j(){i.onHeaderClick.unsubscribe(m);i.onScrollStart.unsubscribe(k)}b.extend(this,{init:n,destroy:j})}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{Plugins:{ColumnPickerMenu:a}}});function a(d,f){var o=this;var j="column-picker";var k=d.view;var i=d.windowManager;function c(q){if(q){q.preventDefault();i.hideWindows();if(i.isWindow(j)===false){i.createWindow(j,p(j))}else{var r=i.getWindow(j);if(r){r.container.empty().append(p(j))}}i.showWindowNearPosition(j,{x:q.event.pageX,y:q.event.pageY},5)}}function p(s){var q=b("<div class='grid-columnpicker-menu'></div>");var r=b('<div class="grid-columnpicker-menucontent"></div>').appendTo(q);q.on("click",{id:s},n);q.on("mouseenter",{id:s},g);b(e()).appendTo(r);return q}function e(){var s="";var r=k.getModel().getColumnsModel().getColumns();for(var q=0;q<r.length;q++){s+='<div><label><input type="checkbox" name="" '+((r[q].hidden)?"":" checked ")+' value="'+r[q].id+'"/> '+r[q].name+"</label></div>"}return s}function h(s){var q=0;for(var r=0;r<s.length;r++){if(s[r].hidden===false){q++}if(q>1){return true}}return false}function g(q){b(this).off("mouseleave").on("mouseleave",function(){i.hideWindow(q.data.id)})}function n(q){q.stopPropagation();if(q.target){var r=b(q.target).closest("input");if(r.length){if(h(k.getModel().getColumns())===false&&r[0].checked==false){return false}k.getModel().getColumnsModel().setColumnPropertyById(r.val(),"hidden",!r[0].checked)}}}function m(){k.onHeaderContextMenu.subscribe(c);return o}function l(){k.onHeaderContextMenu.unsubscribe(c)}b.extend(this,{init:m,destroy:l})}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{Plugins:{ColumnResize:a}}});function a(d,u){var n=this;var l=d.view;var o=d.windowManager;var e,m,s,k,g,p,y,r,h,i,q;function t(){l.onColumnResize.subscribe(v);l.onColumnResizeStart.subscribe(f);l.onColumnResizeStop.subscribe(c);return n}function w(){l.onColumnResize.unsubscribe(v);l.onColumnResizeStart.subscribe(f);l.onColumnResizeStop.subscribe(c)}function v(z){if(e&&h.length){q=Math.max(Math.min(parseInt(z.width,10),e.maxWidth),e.minWidth);if(y.length){y.css("width",q+u.cellOuterSize.width)}if(k.length){k.css("width",q+u.cellOuterSize.width)}var A=Math.max(l.getNode("headerTable").width(),i);l.getNode("headerWrap").width(A);l.getNode("contentWrap").width(A)}}function f(z){i=l.getNode("header").width();e=l.getModel().getColumnByIndex(z.cellIndex);p=l.getNode("headerTbody").find("."+u.cssClass.cursorPointer);y=l.getNode("headerTable").find("colgroup > col:nth-child("+(z.cellIndex+1)+")");k=l.getNode("contentTable").find("colgroup > col:nth-child("+(z.cellIndex+1)+")");h=l.getNode("headerTable").find("colgroup > col:last");r=l.getNode("contentTable").find("colgroup > col:last");if(e&&h.length){if(u.showLastColumn==true&&h.hasClass(u.cssClass.collLast)){h.width(0);if(r.length){r.width(0)}}g=l.getNode("headerTable").find("td."+u.cssClass.cellColumnLast);if(g.length){x(g,u.cssClass.cellColumnLast)}s=l.getNode("contentTable").find("td."+u.cssClass.cellColumnLast);if(s.length){x(s,u.cssClass.cellColumnLast)}x(p,u.cssClass.cursorPointer);l.getNode("viewport").addClass(u.cssClass.cursorResize)}}function c(){if(e){if(g.length){j(g,u.cssClass.cellColumnLast)}if(s.length){j(s,u.cssClass.cellColumnLast)}j(p,u.cssClass.cursorPointer);l.getNode("viewport").removeClass(u.cssClass.cursorResize);if(q){l.getModel().getColumnsModel().setColumnPropertyById(e.id,"width",q)}}}function j(A,z){A.toggleClass(z+" "+z+"-disabled")}function x(A,z){A.toggleClass(z+"-disabled "+z)}b.extend(this,{init:t,destroy:w})}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{Plugins:{ColumnSort:a}}});function a(g,h){var e=this;var d=g.view;var c=g.windowManager;function j(){d.onHeaderClick.subscribe(i);return e}function f(){d.onHeaderClick.unsubscribe(i)}function i(k){if(k&&k.type&&k.type=="sort"){var n=d.suspendRender();var m=k.column;var l=SmallGrid.Utils.changeSortOrder(m.sortOrder);d.getModel().getColumnsModel().setColumnsProperty("sortOrder",0);d.getModel().getColumnsModel().setColumnPropertyById(m.id,"sortOrder",l);d.getModel().setSorter(new SmallGrid.Query.SorterQuery(m.field,l,m.sortComparer));d.resumeRender(n)}}b.extend(this,{init:j,destroy:f})}})(jQuery);(function(a){a.extend(true,window,{SmallGrid:{Plugins:{RowSelection:b}}});function b(h,s){var m=this;var k=h.view;var j=h.viewModel.getRowsModel();var o=h.windowManager;var c=[];var f=null;function r(){k.onCellClick.subscribe(t);return m}function u(){k.onCellClick.unsubscribe(t)}function t(x){var z=k.suspendRender();if(x.event.shiftKey===true&&s.plugins.RowSelection.multipleRowSelection===true&&f&&f!=x.row.id){n(c);var A=j.getRowById(f);var y=j.getRowById(x.row.id);if(A&&y){g(f,x.row.id)}}else{if(x.event.ctrlKey===true&&s.plugins.RowSelection.multipleRowSelection){if(p(x.row.id)===false){i(x.row.id)}else{d(x.row.id)}}else{var w=c.slice();var v=w.indexOf(x.row.id);if(v===-1){i(x.row.id)}else{w.splice(v,1)}n(w)}}k.resumeRender(z);if(x.event.shiftKey===false){f=x.row.id}}function g(x,w){var z=j.getRowIndexById(x);var y=j.getRowIndexById(w);if(z!==-1&&y!==-1){var B=Math.min(y,z);var A=Math.max(y,z);for(var v=B;v<=A;v++){l(v)}}return m}function e(v){if(v){c.push(v.id);j.setRowPropertyById(v.id,"rowCssClass",v.rowCssClass+" "+s.cssClass.rowSelected)}}function l(v){e(j.getRowByIndex(v));return m}function i(v){e(j.getRowById(v));return m}function n(w){for(var v=w.length-1;v>=0;v--){d(w[v])}return m}function d(x){var w=j.getRowById(x);if(w){j.setRowPropertyById(w.id,"rowCssClass",w.rowCssClass.replace(" "+s.cssClass.rowSelected,""))}var v=c.indexOf(x);if(v!==-1){c.splice(v,1)}return m}function p(v){return(c.indexOf(v)!==-1)}function q(){return c}a.extend(this,{init:r,destroy:u,clearSelectedRow:d,clearSelectedRows:n,getSelectedRowsIds:q,isRowSelected:p,selectRowByIndex:l,selectRowById:i,selectRowsRange:g})}})(jQuery);if(typeof jQuery==="undefined"){throw new Error("Small grid requires jquery module to be loaded.")}if(typeof SmallGrid==="undefined"){throw new Error("Small grid required to be loaded.")}(function(b){var a={renderDelay:0,showLastColumn:false,uidPrefix:"smallgrid_",resizeColumnsOnLoad:false,maxSupportedCssHeight:undefined,scrollbarDimensions:undefined,cellOuterSize:undefined,viewportDimensions:undefined,uid:undefined,cssClass:{disableTextSelection:"disable-text-selection",cell:"grid-cell",cellEdit:"grid-cell-edit",cellColumnLast:"grid-cell-column-last",cellRowLast:"grid-cell-row-last",col:"grid-col",collLast:"grid-coll-last",cursorPointer:"grid-cursor-pointer",cursorResize:"grid-cursor-resize disable-text-selection",headerCell:"grid-header-cell",headerCellDiv:"grid-header-cell-div",headerColumnName:"grid-column-name",headerFilter:"grid-header-filter",headerFilterActive:"grid-header-filter-active",headerResizeHandle:"grid-resizable-handle",headerRow:"grid-header-row",headerSortable:"grid-sortable",headerSortDown:"grid-sort-icon grid-sort-icon-desc",headerSortUp:"grid-sort-icon grid-sort-icon-asc",row:"grid-row",rowEven:"grid-row-even",rowOdd:"grid-row-odd",rowSelected:"grid-row-selected",rowValignMiddle:"grid-row-valign-middle",rowValignTop:"grid-row-valign-top",rowValignBottom:"grid-row-valign-bottom",rowValignBaseline:"grid-row-valign-baseline",cellAlignCenter:"grid-cell-align-center",cellAlignRight:"grid-cell-align-right"},header:{height:20,disableTextSelection:true},columns:{idProperty:undefined,mapProperties:true},rows:{disableTextSelection:false,idProperty:undefined,mapProperties:true,valign:""},formatter:{floatFormatter:{decimals:2},integerFormatter:{decimals:0},moneyFormatter:{locales:"en-US",options:{currency:"EUR",style:"currency"}},dateFormatter:{locales:"en-US",options:{}}},plugins:{ColumnSort:{},ColumnResize:{},RowSelection:{multipleRowSelection:false},CellEdit:{editOnClick:false,autoFocus:true},ColumnFilterMenu:{},ColumnPickerMenu:{}}};function c(d){var d=b.extend(true,{},a,d||{});if(d.viewportDimensions==undefined){a.viewportDimensions=d.viewportDimensions=SmallGrid.Utils.measureViewport()}if(d.maxSupportedCssHeight==undefined){a.maxSupportedCssHeight=d.maxSupportedCssHeight=SmallGrid.Utils.measureMaxSupportedCssHeight()}if(d.scrollbarDimensions==undefined){a.scrollbarDimensions=d.scrollbarDimensions=SmallGrid.Utils.measureScrollbar()}if(d.cellOuterSize==undefined){d.cellOuterSize=SmallGrid.Utils.measureCellDiff(d.cssClass.cell)}if(d.uid==undefined){d.uid=SmallGrid.Utils.createGuid()}return d}b.extend(true,window,{SmallGrid:{Settings:{Create:c,Default:a}}})})(jQuery);
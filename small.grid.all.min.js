(function(f){f.extend(true,window,{SmallGrid:{Cell:{Editor:{Create:c,Checkbox:e,Float:a,Integer:b,None:d,Text:g}}}});function e(l,m){var k=this,n=l.value,h=f("<label/>"),i=f('<input type="checkbox" class="grid-checkbox-editor" '+(j(n)?"checked":"")+"/>").val(n);this.append=function(o){i.appendTo(h);h.appendTo(o);return k};this.remove=function(){if(i&&i.length){i.detach()}return k};this.destroy=function(){h.remove();k.onDestroy.notify({});return k};this.getValue=function(){return j(i.prop("checked"))};this.setValue=function(o){i.prop("checked",j(o));k.onChange.notify({value:o});return k};this.focus=function(){i.val(k.getValue()).focus();return k};function j(o){return(/^true$/i).test(o)}f.extend(this,{onInitialize:new SmallGrid.Event.Handler(),onChange:new SmallGrid.Event.Handler(),onDestroy:new SmallGrid.Event.Handler()});k.onInitialize.notify({value:n})}function a(k,l){var j=this,m=k.value,h=f('<input type="text" class="grid-float-editor" />').val(m);this.append=function(n){h.appendTo(n);return j};this.remove=function(){if(h&&h.length){h.detach()}return j};this.destroy=function(){h.remove();j.onDestroy.notify({});return j};this.getValue=function(){return i(h.val())};this.setValue=function(n){h.val(i(n));j.onChange.notify({value:n});return j};this.focus=function(){h.val(j.getValue()).select();return j};function i(n){return parseFloat(n,10)||0}f.extend(this,{onInitialize:new SmallGrid.Event.Handler(),onChange:new SmallGrid.Event.Handler(),onDestroy:new SmallGrid.Event.Handler()});j.onInitialize.notify({value:m})}function b(k,l){var j=this,m=k.value,h=f('<input type="text" class="grid-integer-editor" />').val(m);this.append=function(n){h.appendTo(n);return j};this.remove=function(){if(h&&h.length){h.detach()}return j};this.destroy=function(){h.remove();j.onDestroy.notify({});return j};this.getValue=function(){return i(h.val())};this.setValue=function(n){h.val(i(n));j.onChange.notify({value:n});return j};this.focus=function(){h.val(j.getValue()).select();return j};function i(n){return parseInt(n,10)||0}f.extend(this,{onInitialize:new SmallGrid.Event.Handler(),onChange:new SmallGrid.Event.Handler(),onDestroy:new SmallGrid.Event.Handler()});j.onInitialize.notify({value:m})}function d(k,l){var j=this,m=k.value,h=f("<span class='grid-none-editor' />").text(m);this.append=function(n){h.appendTo(n);return j};this.remove=function(){if(h&&h.length){h.detach()}return j};this.destroy=function(){h.remove();j.onDestroy.notify({});return j};this.getValue=function(){return i(h.text())};this.setValue=function(n){h.text(i(n));j.onChange.notify({value:n});return j};this.focus=function(){h.select();return j};function i(n){return n}f.extend(this,{onInitialize:new SmallGrid.Event.Handler(),onChange:new SmallGrid.Event.Handler(),onDestroy:new SmallGrid.Event.Handler()});j.onInitialize.notify({value:m})}function g(k,l){var j=this,m=k.value,h=f('<input type="text" class="grid-text-editor"/>').val(m);this.append=function(n){h.appendTo(n);return j};this.remove=function(){if(h&&h.length){h.detach()}return j};this.destroy=function(){h.remove();j.onDestroy.notify({});return j};this.getValue=function(){return i(h.val())};this.setValue=function(n){h.val(i(n));j.onChange.notify({value:n});return j};this.focus=function(){h.val(j.getValue()).select();return j};function i(n){return n}f.extend(this,{onInitialize:new SmallGrid.Event.Handler(),onChange:new SmallGrid.Event.Handler(),onDestroy:new SmallGrid.Event.Handler()});j.onInitialize.notify({value:m})}function c(i,h,j){if(SmallGrid.Utils.isFunction(i,SmallGrid.Cell.Editor)===true){return new SmallGrid.Cell.Editor[i](h,j)}}})(jQuery);(function(g){g.extend(true,window,{SmallGrid:{Cell:{Formatter:{Checkbox:b,Date:e,Default:a,Float:f,Integer:h,Money:c,None:a,Radio:d,Text:a}}}});function a(k,j,l,i){return(k!=undefined)?k.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;"):""}function b(k,j,l,i){return k?"<i class='fa fa-check-square-o'></i>":"<i class='fa fa-square-o'></i>"}function d(k,j,l,i){return k?"<i class='fa fa-dot-circle-o'></i>":"<i class='fa fa-circle-o'></i>"}function f(k,j,l,i){return(parseFloat(k)||0).toFixed(i.formatter.floatFormatter.decimals).replace(/\d(?=(\d{3})+\.)/g,"$&,")}function h(k,j,l,i){return(parseInt(k,10)||0).toFixed(i.formatter.integerFormatter.decimals).replace(/\d(?=(\d{3})+\.)/g,"$&,")}function c(k,j,l,i){k=+k;if(!isNaN(k)){return new Intl.NumberFormat(i.formatter.moneyFormatter.locales,i.formatter.moneyFormatter.options).format(k)}return a(k,j,l,i)}function e(k,j,l,i){if(!(k instanceof Date)){k=Date.parse(k)}if(!isNaN(k)){return new Intl.DateTimeFormat(i.formatter.dateFormatter.locales,i.formatter.moneyFormatter.options).format(k)}return a(k,j,l,i)}})(jQuery);(function(e){e.extend(true,window,{SmallGrid:{Column:{Comparer:{Default:b,Date:d,Number:c,String:f}}}});function b(g){return function(j,i){var h=(g.field in j.item)?j.item[g.field]:null,k=(g.field in i.item)?i.item[g.field]:null;if(h instanceof Date&&k instanceof Date){h=h.getTime();k=k.getTime()}else{if(!isNaN(parseFloat(h))&&isFinite(h)){h++;k++}else{if(h&&typeof h.toString==="function"&&k&&typeof k.toString==="function"){h=h.toString().toLowerCase();k=k.toString().toLowerCase()}}}return(h==k?0:(h>k?g.sortOrder:-g.sortOrder))}}function c(h){var g=h.sortOrder;return function(k,j){var i=(h.field in k.item)?k.item[h.field]:null,l=(h.field in j.item)?j.item[h.field]:null;return(i-l)*g}}function a(h){var g=h.sortOrder;return function(k,j){var i=(h.field in k.item)?k.item[h.field].toLowerCase():null,l=(h.field in j.item)?j.item[h.field].toLowerCase():null;return i.localeCompare(l)*g}}function f(h){var g=h.sortOrder;return function(k,j){var i=(h.field in k.item)?k.item[h.field].toLowerCase():null,l=(h.field in j.item)?j.item[h.field].toLowerCase():null;return(i==l?0:(i>l?1*g:-1*g))}}function d(h){var g=h.sortOrder;return function(k,j){var i=(h.field in k.item)?k.item[h.field]:null,l=(h.field in j.item)?j.item[h.field]:null;return(new Date(i)-new Date(l))*g}}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{Column:{Create:c,Model:d,ColumnData:a}}});function a(e){if("align" in e){this.align=e.align}if("cellCssClass" in e){this.cellCssClass=e.cellCssClass}if("editable" in e){this.editable=e.editable}if("editor" in e){this.editor=e.editor}if("editMode" in e){this.editMode=e.editMode}if("field" in e){this.field=e.field}if("filterable" in e){this.filterable=e.filterable}if("formatter" in e){this.formatter=e.formatter}if("headerCssClass" in e){this.headerCssClass=e.headerCssClass}if("hidden" in e){this.hidden=e.hidden}if("id" in e){this.id=e.id}if("item" in e){this.item=e.item}if("maxWidth" in e){this.maxWidth=e.maxWidth}if("minWidth" in e){this.minWidth=e.minWidth}if("name" in e){this.name=e.name}if("resizeable" in e){this.resizeable=e.resizeable}if("sortable" in e){this.sortable=e.sortable}if("sortOrder" in e){this.sortOrder=e.sortOrder}if("sortComparer" in e){this.sortComparer=e.sortComparer}if("width" in e){this.width=e.width}}a.prototype.align="";a.prototype.cellCssClass="";a.prototype.editable=true;a.prototype.editor=undefined;a.prototype.editMode=false;a.prototype.field="";a.prototype.filterable=false;a.prototype.formatter="Default";a.prototype.headerCssClass="";a.prototype.hidden=false;a.prototype.id=undefined;a.prototype.item=null;a.prototype.maxWidth=9999;a.prototype.minWidth=25;a.prototype.name="";a.prototype.resizeable=true;a.prototype.sortable=true;a.prototype.sortComparer="Default";a.prototype.sortOrder=0;a.prototype.width=50;function d(K){var k=this;var M=[];var p={addItem:function(P){var O=z(e(P));k.onChange.notify({id:O.id});return O},addItems:function(O){if(O.length){k.onChangeStart.notify();for(var P=0;P<O.length;P++){k.items.addItem(O[P])}k.onChangeStop.notify()}return k},deleteItem:function(O){if(SmallGrid.Utils.isProperty(K.columns.idProperty,O)){n(O[K.columns.idProperty])}return k},deleteItems:function(){return j()},deleteItemById:function(O){return n(O)},getItems:function(){var O=[];for(var P=0;P<M.length;P++){O.push(M[P].item)}return O},setItems:function(O){if(O.length){k.onChangeStart.notify();M=[];for(var P=0;P<O.length;P++){k.items.addItem(O[P])}k.onChangeStop.notify({mode:"all"})}return k},updateItem:function(O){if(SmallGrid.Utils.isProperty(K.columns.idProperty,O)){k.items.updateItemById(O[K.columns.idProperty],O)}},updateItemById:function(Q,P){for(var O=0;O<M.length;O++){if(M[O].id==Q){M[O].item=P;k.onChange.notify({id:Q});break}}return k},updateItemByIndex:function(O,P){if(M[O]){M[O].item=P;k.onChange.notify({id:M[O].id})}return k},updateItems:function(O){if(O.length){k.onChangeStart.notify();for(var P=0;P<O.length;P++){k.items.updateItem(O[P])}k.onChangeStop.notify()}return k}};function B(O){if(M.length){return M.filter(O)}return[]}function m(P,O){if(M.length){return M.reduce(P,O)}}function L(O){if(M.length){k.onChangeStart.notify();M.sort(O);k.onChangeStop.notify({mode:"all"})}return k}function o(){return M.length===0}function u(){return M.length}function z(O){if(O instanceof a){M.push(O);k.onChange.notify({id:O.id})}return k}function H(P){if(P.length){k.onChangeStart.notify();for(var O=0;O<P.length;O++){z(P[O])}k.onChangeStop.notify()}return k}function g(O){if(O instanceof a){n(O.id)}return k}function n(P){for(var O=0;O<M.length;O++){if(M[O].id==P){M.splice(O,1);k.onChange.notify({id:P});break}}return k}function f(O){if(M[O]){var P=M[O].id;M.splice(O,1);k.onChange.notify({id:P})}return k}function j(){if(M.length){k.onChangeStart.notify();M=[];k.onChangeStop.notify({mode:"all"})}return k}function t(P){for(var O=0;O<M.length;O++){if(M[O].id==P){return M[O]}}}function y(O){return M[O]}function l(O){return M[O].id}function F(P){for(var O=0;O<M.length;O++){if(M[O].id==P){return O}}return -1}function N(Q,O){var P=t(Q);if(P&&O&&O in P){return P[O]}}function E(O,P){var Q=y(O);if(Q&&P&&P in Q){return Q[P]}}function D(){return M}function s(P,O){r(F(P),O);return k}function r(O,P){if(P instanceof a){M.splice(O+1,0,P);k.onChange.notify({id:P.id})}return k}function A(P,O){I(F(P),O);return k}function I(O,P){if(P instanceof a){M.splice(O,0,P);k.onChange.notify({id:P.id})}return k}function v(R,P,O){for(var Q=0;Q<M.length;Q++){if(M[Q].id==R){if(P&&P in M[Q]){M[Q][P]=O;k.onChange.notify({id:R})}break}}return k}function x(O,Q,P){if(Q&&Q in M[O]){M[O][Q]=P;k.onChange.notify({id:M[O].id})}return k}function i(P){if(P.length){k.onChangeStart.notify();M=[];for(var O=0;O<P.length;O++){z(P[O])}k.onChangeStop.notify({mode:"all"})}return k}function J(P,O){k.onChangeStart.notify();for(var Q=0;Q<M.length;Q++){M[Q][P]=O;k.onChange.notify({id:M[Q].id})}k.onChangeStop.notify();return k}function w(O){if(O instanceof a){G(O.id,O)}return k}function G(Q,P){if(P instanceof a){for(var O=0;O<M.length;O++){if(M[O].id==Q){M[O]=P;k.onChange.notify({id:Q});break}}}return k}function q(O,P){if(P instanceof a){if(M[O]){M[O]=P;k.onChange.notify({id:P.id})}}return k}function C(P){if(P.length){k.onChangeStart.notify();for(var O=0;O<P.length;O++){w(P[O])}k.onChangeStop.notify()}return k}function h(O){if(O instanceof Object){if(K.columns.mapProperties===true){return b.extend({item:O},O)}return{name:O.name,field:O.field,item:O}}}function e(Q){var O=h(Q);if(O!=undefined){var P=new a(O);P.id=(SmallGrid.Utils.isProperty(K.columns.idProperty,P))?P[K.columns.idProperty]:SmallGrid.Utils.createGuid();P.width=Math.max(Math.min(parseInt(P.width,10),P.maxWidth),P.minWidth);if(P.sortComparer&&SmallGrid.Utils.isFunction(P.sortComparer,SmallGrid.Column.Comparer)===false){delete P.sortComparer}if(P.formatter&&SmallGrid.Utils.isFunction(P.formatter,SmallGrid.Cell.Formatter)===false){delete P.formatter}if(P.editor&&SmallGrid.Utils.isFunction(P.editor,SmallGrid.Cell.Editor)===false){delete P.editor}return P}}b.extend(this,{items:p,onChange:new SmallGrid.Event.Handler(),onChangeStart:new SmallGrid.Event.Handler(),onChangeStop:new SmallGrid.Event.Handler(),filter:B,reduce:m,sort:L,total:u,addColumn:z,addColumns:H,createColumn:e,deleteColumn:g,deleteColumnById:n,deleteColumnByIndex:f,deleteColumns:j,getColumnById:t,getColumnByIndex:y,getColumnIdByIndex:l,getColumnIndexById:F,getColumnPropertyById:N,getColumnPropertyByIndex:E,getColumns:D,insertColumnAfterId:s,insertColumnAfterIndex:r,insertColumnBeforeId:A,insertColumnBeforeIndex:I,isEmpty:o,setColumnPropertyById:v,setColumnPropertyByIndex:x,setColumns:i,setColumnsProperty:J,updateColumn:w,updateColumnById:G,updateColumnByIndex:q,updateColumns:C})}function c(f,e){if(!Array.isArray(f)){throw new TypeError("Array expected.")}return new d(e).items.addItems(f)}})(jQuery);(function(c){c.extend(true,window,{SmallGrid:{Event:{Data:b,Handler:a}}});function b(h){for(var d in h){if(h.hasOwnProperty(d)){this[d]=h[d]}}var e=false;var g=false;var f=false;this.preventDefault=function(){if(h&&"event" in h&&typeof(h.event.preventDefault)==="function"){h.event.preventDefault()}f=true};this.isDefaultPrevented=function(){return f};this.stopPropagation=function(){if(h&&"event" in h&&typeof(h.event.stopPropagation)==="function"){h.event.stopPropagation()}e=true};this.isPropagationStopped=function(){return e};this.stopImmediatePropagation=function(){if(h&&"event" in h&&typeof(h.event.stopImmediatePropagation)==="function"){h.event.stopImmediatePropagation()}g=true};this.isImmediatePropagationStopped=function(){return g}}function a(){var e=[];var d=this;this.subscribe=function(f){e.push(f);return d};this.unsubscribe=function(g){for(var f=e.length-1;f>=0;f--){if(e[f]===g){e.splice(f,1)}}return d};this.unsubscribeLast=function(){if(e.length){e.pop()}return d};this.unsubscribeAll=function(){e=[];return d};this.notify=function(g){if(typeof(g)!=b){g=new b(g)}for(var f=0;f<e.length&&!g.isImmediatePropagationStopped();f++){if(e[f].call(this,g)===false){this.stopImmediatePropagation();break}}}}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{Grid:{Create:c,Model:a}}});function a(v,j,z){var r=this;var p={};var s={};var u={};var h="0.4";var t=SmallGrid.Utils.createGuid();function w(){p=SmallGrid.View.Create(v,j,z);s=SmallGrid.View.Window.Create(p,z);y(z.plugins)}function A(){for(var B=0;B<u.length;B++){k(u[B])}s.destroy();p.destroy()}function e(){return s}function d(){return p}function n(){return j}function x(){return z}function f(B){if(u[B]){return u[B]}}function l(){return u}function g(B){return u[B]!==undefined}function q(B,D){if(g(B)){k(B)}var C=SmallGrid.Plugins.Create(B,p,s,z,D);if(C){u[B]=C}}function y(B){var D=Object.keys(B);for(var C=0;C<D.length;C++){q(D[C],B[D[C]])}}function k(B){if(u[B]){u[B].destroy()}if(B in u){delete u[B]}}function i(){var C=Object.keys(u);for(var B=0;B<C.length;B++){k(C[B])}}function m(){return h}function o(){return t}b.extend(this,{init:w,destroy:A,getId:o,getPlugin:f,getPlugins:l,getSettings:x,getVersion:m,getView:d,getViewModel:n,getWindowManager:e,isRegisteredPlugin:g,registerPlugin:q,registerPlugins:y,unregisterPlugin:k,unregisterPlugins:i})}function c(i,h,f,g){g=SmallGrid.Settings.Create(g);var d=SmallGrid.View.Model.Create(new SmallGrid.Row.Create(h,g),new SmallGrid.Column.Create(f,g),g);var e=new a(i,d,g);if(g.explicitInitialization===false){e.init()}return e}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{Handler:{Click:{Create:a,Handler:c}}}});function c(l,g){l.on("click",h).on("mousedown",d).on("contextmenu",j).on("dblclick",e).on("keydown",f);function i(m){if(m&&m.target){var o=b(m.target).closest(g.cellIdentifier);if(o.length){var n=o.closest(g.rowIdentifier);if(n.length){return{cellIndex:o.index(),rowIndex:n.index(),event:m}}}}}function d(m){if(m.ctrlKey||m.shiftKey){document.getSelection().removeAllRanges();m.preventDefault()}}function h(m){m=i(m);if(m&&g.handleClick){g.handleClick(m)}}function j(m){m=i(m);if(m&&g.handleContextMenu){g.handleContextMenu(m)}}function e(m){m=i(m);if(m&&g.handleDblClick){g.handleDblClick(m)}}function f(m){m=i(m);if(m&&g.handleKeyDown){g.handleKeyDown(m)}}function k(){l.off("click",h).off("contextmenu",j).off("dblclick",e).off("keydown",f)}b.extend(this,{destroy:k})}function a(f,e){var d={rowIdentifier:"TR",cellIdentifier:"TD",handleClick:undefined,handleDblClick:undefined,handleContextMenu:undefined,handleKeyDown:undefined};e=b.extend({},d,e);return new c(f,e)}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{Handler:{Resize:{Create:a,Handler:c}}}});function c(g,e){g.on("mousedown",e.handlerIdentifier,f);function f(h){var j=b(this).closest(e.cellIdentifier);if(j.length){var i=j.index();e.handleResizeStart({cellElement:j,cellIndex:i,event:h});b(document).bind("mousemove",function(k){var l=k.pageX-j.offset().left;if(l>0){e.handleResize({cellElement:j,cellIndex:i,width:l,event:k})}}).bind("mouseup",function(k){b(this).unbind("mousemove mouseup");e.handleResizeStop({cellElement:j,cellIndex:i,event:k})})}}function d(){g.off("mousedown",f)}b.extend(this,{destroy:d})}function a(f,e){var d={cellIdentifier:"TD",handleResize:undefined,handleResizeStart:undefined,handleResizeStop:undefined,handlerIdentifier:undefined};e=b.extend({},d,e);return new c(f,e)}})(jQuery);(function(c){c.extend(true,window,{SmallGrid:{Handler:{Scroll:{Create:a,Handler:b}}}});function b(l,e){if(e.resetTop){l[0].scrollTop=0}if(e.resetLeft){l[0].scrollLeft=0}var h,k,m=false,j=false,f={scrollTop:l[0].scrollTop,scrollLeft:l[0].scrollLeft};l.on("scroll",g);l.on("wheel",d);function d(n){clearTimeout(k);if(j===false){j=true;e.handleMouseWheelStart({event:n})}e.handleMouseWheel({event:n});k=setTimeout(function(){e.handleMouseWheelStop({event:n});j=false},e.latency)}function g(o){var n={scrollTop:l[0].scrollTop,scrollLeft:l[0].scrollLeft,topDelta:l[0].scrollTop-f.scrollTop,leftDelta:l[0].scrollLeft-f.scrollLeft,event:o};clearTimeout(h);if(m===false){m=true;e.handleScrollStart(n)}e.handleScroll(n);h=setTimeout(function(){e.handleScrollStop(n);m=false},e.latency);f={scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}}function i(){clearTimeout(h);clearTimeout(k);l.off("scroll",g);l.off("wheel",d)}c.extend(this,{destroy:i})}function a(f,e){var d={handleMouseWheel:undefined,handleMouseWheelStart:undefined,handleMouseWheelStop:undefined,handlescroll:undefined,handlescrollStart:undefined,handlescrollStop:undefined,latency:300,resetLeft:true,resetTop:true};e=c.extend({},d,e);return new b(f,e)}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{Plugins:{Create:a}}});function a(e,d,c,f,h){if(!e.length){throw new Error("Plugin name is not defined.")}if(d instanceof SmallGrid.View.View===false){throw new TypeError("View expected.")}if(c instanceof SmallGrid.View.Window.Manager===false){throw new TypeError("Window manager expected.")}if(SmallGrid.Utils.isFunction(e,SmallGrid.Plugins)===true){f.plugins[e]=jQuery.extend(true,f.plugins[e]||{},h||{});var g=new SmallGrid.Plugins[e](d,c,f);g.init();return g}}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{Query:{FilterQuery:a}}});function a(d,q){var k=this;var e=[];var l=SmallGrid.Utils.createGuid();function h(){return l}function i(){return d}function n(){e=[];return k}function r(){return e}function j(u,v){if(u in k){return k[u](v||"")}throw new TypeError("Type "+u+" not found.")}function t(){e.push({action:"and"});return k}function f(){e.push({action:"or"});return k}function s(u){e.push({action:"eq",value:u});return k}function p(u){e.push({action:"neq",value:u});return k}function o(u){e.push({action:"startsWith",value:u});return k}function m(u){e.push({action:"endsWith",value:u});return k}function g(u){e.push({action:"contains",value:u});return k}function c(u){e.push({action:"doesNotContain",value:u});return k}b.extend(this,{getId:h,getField:i,clear:n,get:r,add:j,and:t,or:f,contains:g,doesnotcontain:c,endswith:m,eq:s,neq:p,startswith:o})}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{Query:{Request:a}}});function a(f,k,l){function m(){for(var p=0;p<k.length;p++){var q=k[p];l.sort(SmallGrid.Column.Comparer[q.getSortComparer()]({sortOrder:q.getSortOrder(),field:q.getField()}))}}function c(){for(var p=0;p<k.length;p++){var q=k[p];l.sort(SmallGrid.Column.Comparer[q.getSortComparer()]({sortOrder:q.getSortOrder(),field:q.getField()}))}}function d(r,p,q){m();return l.filter(new e(r,p,q,n()))}function i(r,p,q){return l.filter(new h(r,p,q,j()))}function o(s){var t={width:0,count:0};var q=l.getColumns();var r=j();for(var p=0;p<q.length;p++){if((r&&(r(q[p])===false))||(q[p].hidden===true)){continue}t.width+=q[p].width+s;t.count++}return t}function g(p){var s={height:0,count:0};var t=l.getRows();var r=n();for(var q=0;q<t.length;q++){if((r&&(r(t[q])===false))||(t[q].hidden===true)){continue}s.height+=t[q].height+p;s.count++}return s}function j(){return""}function n(){var s="";for(var r=0;r<f.length;r++){var q=f[r].get(),v=f[r].getField(),p="";for(var t=0;t<q.length;t++){var u=q[t];switch(u.action){case"and":p+=" && ";break;case"or":p+=" || ";break;case"eq":p+=" (item.item['"+v+"'] == '"+u.value+"') === true ";break;case"neq":p+=" (item.item['"+v+"'] == '"+u.value+"') === false ";break;case"startsWith":p+=" (('' + item.item['"+v+"']).indexOf('"+u.value+"') === 0) === true ";break;case"endsWith":p+=" (('' + item.item['"+v+"']).indexOf('"+u.value+"', item.item['"+v+"'].length - '"+u.value+"'.length) !== -1) === true ";break;case"contains":p+=" (('' + item.item['"+v+"']).indexOf('"+u.value+"') !== -1) === true ";break;case"doesNotContain":p+=" (('' + item.item['"+v+"']).indexOf('"+u.value+"') !== -1) === false ";break}}if(p.length){if(r!==0){s+=" && "}s+="("+p+")"}}if(s.length){return new Function("item","return "+s)}}function h(q,u,w,t){var s=0,r=q-2*u-w,p=q+2*u+w,v=0;return function(y,x,A){if((t&&(t(y)===false))||(y.hidden===true)){return false}v++;var z=r<=s&&s<=p;s+=w+y.width;if(z||(r<=s&&s<=p)){y.calcWidth=s;y.calcIndex=v;return true}return false}}function e(r,q,v,t){var w=0,s=r-2*q-v,p=r+2*q+v,u=0;return function(y,x,A){if(t&&(t(y)===false)||(y.hidden===true)){return false}u++;var z=s<=w&&w<=p;w+=v+y.height;if(z||(s<=w&&w<=p)){y.calcHeight=w;y.calcIndex=u;return true}return false}}b.extend(this,{getColumnsInRange:i,getColumnsTotal:o,getRowsTotal:g,getRowsInRange:d})}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{Query:{SorterQuery:a}}});function a(j,i,h,g){var d=this;function e(){return j}function c(){return i}function f(){return h}b.extend(this,{getField:e,getSortOrder:c,getSortComparer:f})}})(jQuery);(function(c){c.extend(true,window,{SmallGrid:{Row:{Create:d,Model:a,RowData:b}}});function b(e){if("cellCssClass" in e){this.cellCssClass=e.cellCssClass}if("disabled" in e){this.disabled=e.disabled}if("editable" in e){this.editable=e.editable}if("editMode" in e){this.editMode=e.editMode}if("height" in e){this.height=e.height}if("hidden" in e){this.hidden=e.hidden}if("id" in e){this.id=e.id}if("item" in e){this.item=e.item}if("maxHeight" in e){this.maxHeight=e.maxHeight}if("minHeight" in e){this.minHeight=e.minHeight}if("rowCssClass" in e){this.rowCssClass=e.rowCssClass}}b.prototype.cellCssClass="";b.prototype.disabled=false;b.prototype.editable=true;b.prototype.editMode=false;b.prototype.height=20;b.prototype.hidden=false;b.prototype.id=undefined;b.prototype.item=null;b.prototype.maxHeight=200;b.prototype.minHeight=20;b.prototype.rowCssClass="";function a(L){var m=this;var N=[];var t={addItem:function(O){var P=H(l(O));m.onChange.notify({id:P.id});return P},addItems:function(O){if(O.length){m.onChangeStart.notify();for(var P=0;P<O.length;P++){m.items.addItem(O[P])}m.onChangeStop.notify()}return m},deleteItems:function(){return v()},deleteItemById:function(O){return j(O)},deleteItem:function(O){if(SmallGrid.Utils.isProperty(L.rows.idProperty,O)){j(O[L.rows.idProperty])}return m},getItems:function(){var O=[];for(var P=0;P<N.length;P++){O.push(N[P].item)}return O},setItems:function(O){if(O.length){m.onChangeStart.notify();N=[];for(var P=0;P<O.length;P++){m.items.addItem(O[P])}m.onChangeStop.notify({mode:"all"})}return m},updateItems:function(O){if(O.length){m.onChangeStart.notify();for(var P=0;P<O.length;P++){m.items.updateItem(O[P])}m.onChangeStop.notify()}return m},updateItem:function(O){if(SmallGrid.Utils.isProperty(L.rows.idProperty,O)){m.items.updateItemById(O[L.rows.idProperty],O)}},updateItemById:function(Q,P){for(var O=0;O<N.length;O++){if(N[O].id==Q){N[O].item=P;m.onChange.notify({id:Q});break}}return m},updateItemByIndex:function(O,P){if(N[O]){N[O].item=P;m.onChange.notify({id:N[O].id})}return m}};function D(O){if(N.length){return N.filter(O)}return[]}function p(P,O){if(N.length){return N.reduce(P,O)}}function M(O){if(N.length){m.onChangeStart.notify();N.sort(O);m.onChangeStop.notify({mode:"all"})}return m}function r(){return N.length===0}function y(){return N.length}function n(P){if(P.length){m.onChangeStart.notify();for(var O=0;O<P.length;O++){H(P[O])}m.onChangeStop.notify()}return m}function g(P){if(P.length){m.onChangeStart.notify();for(var O=0;O<P.length;O++){F(P[O])}m.onChangeStop.notify()}return m}function u(P){if(P.length){m.onChangeStart.notify();N=[];for(var O=0;O<P.length;O++){H(P[O])}m.onChangeStop.notify({mode:"all"})}return m}function e(P,O){m.onChangeStart.notify();for(var Q=0;Q<N.length;Q++){N[Q][P]=O;m.onChange.notify({id:N[Q].id})}m.onChangeStop.notify();return m}function v(){if(N.length){m.onChangeStart.notify();N=[];m.onChangeStop.notify({mode:"all"})}return m}function H(O){if(O instanceof b){N.push(O);m.onChange.notify({id:O.id})}return m}function A(O){if(O instanceof b){j(O.id)}return m}function j(P){for(var O=0;O<N.length;O++){if(N[O].id==P){N.splice(O,1);m.onChange.notify({id:P});break}}return m}function C(O){if(N[O]){var P=N[O].id;N.splice(O,1);m.onChange.notify({id:P})}return m}function B(P){for(var O=0;O<N.length;O++){if(N[O].id==P){return N[O]}}}function K(O){return N[O]}function o(O){return N[O].id}function J(P){for(var O=0;O<N.length;O++){if(N[O].id==P){return O}}return -1}function w(Q,O){var P=B(Q);if(P&&O&&O in P){return P[O]}}function h(O,P){var Q=K(O);if(Q&&P&&P in Q){return Q[P]}}function s(){return N}function f(P,O){x(J(P),O);return m}function x(O,P){if(P instanceof b){N.splice(O+1,0,P);m.onChange.notify({id:P.id})}return m}function q(P,O){G(J(P),O);return m}function G(O,P){if(P instanceof b){N.splice(O,0,P);m.onChange.notify({id:P.id})}return m}function I(R,P,O){for(var Q=0;Q<N.length;Q++){if(N[Q].id==R){if(P&&P in N[Q]){N[Q][P]=O;m.onChange.notify({id:R})}break}}return m}function E(O,Q,P){if(Q&&Q in N[O]){N[O][Q]=P;m.onChange.notify({id:N[O].id})}return m}function F(O){if(O instanceof b){z(O.id,O)}return m}function z(Q,P){if(P instanceof b){for(var O=0;O<N.length;O++){if(N[O].id==Q){N[O]=P;m.onChange.notify({id:Q});break}}}return m}function k(O,P){if(P instanceof b){if(N[O]){N[O]=P;m.onChange.notify({id:P.id})}}return m}function i(O){if(O instanceof Object){if(L.rows.mapProperties===true){return c.extend({item:O},O)}return{item:O}}}function l(P){var O=i(P);if(O!=undefined){var Q=new b(O);Q.id=(SmallGrid.Utils.isProperty(L.rows.idProperty,P))?P[L.rows.idProperty]:SmallGrid.Utils.createGuid();Q.height=Math.max(Math.min(parseInt(Q.height,10),Q.maxHeight),Q.minHeight);return Q}}c.extend(this,{items:t,onChange:new SmallGrid.Event.Handler(),onChangeStart:new SmallGrid.Event.Handler(),onChangeStop:new SmallGrid.Event.Handler(),filter:D,reduce:p,sort:M,total:y,addRow:H,addRows:n,createRow:l,deleteRow:A,deleteRowById:j,deleteRowByIndex:C,deleteRows:v,getRowById:B,getRowByIndex:K,getRowIdByIndex:o,getRowIndexById:J,getRowPropertyById:w,getRowPropertyByIndex:h,getRows:s,insertRowAfterId:f,insertRowAfterIndex:x,insertRowBeforeId:q,insertRowBeforeIndex:G,isEmpty:r,setRowPropertyById:I,setRowPropertyByIndex:E,setRows:u,setRowsProperty:e,updateRow:F,updateRowById:z,updateRowByIndex:k,updateRows:g})}function d(f,e){if(!Array.isArray(f)){throw new TypeError("Array expected.")}return new a(e).items.addItems(f)}})(jQuery);(function(d){var h=function(){var k={};var j=[];for(var l=0;l<256;l++){j[l]=(l<16?"0":"")+l.toString(16)}k.newGuid=function(){var p=Math.random()*4294967295|0;var q=Math.random()*4294967295|0;var o=Math.random()*4294967295|0;var m=Math.random()*4294967295|0;return j[p&255]+j[p>>8&255]+j[p>>16&255]+j[p>>24&255]+"-"+j[q&255]+j[q>>8&255]+"-"+j[q>>16&15|64]+j[q>>24&255]+"-"+j[o&63|128]+j[o>>8&255]+"-"+j[o>>16&255]+j[o>>24&255]+j[m&255]+j[m>>8&255]+j[m>>16&255]+j[m>>24&255]};return k}();function b(k,j){return(j&&k&&k in j&&typeof(j[k])==="function")}function g(j,k){return(j&&j in k)}function a(j){return(/^true$/i).test(j)}function i(){var l=1000000,k=1000000,j=d('<div style="display:none; " />').appendTo(document.body);while(true){j.css("height",k);if(j.height()===k){k+=l;if(k<16000000){continue}}break}j.remove();return k-l}function f(){var j=d('<div style="position:absolute; top:-100px; left:-100px; width:100px; height:100px; overflow:scroll;"></div>').appendTo("body");var k={width:j.width()-j[0].clientWidth,height:j.height()-j[0].clientHeight};j.remove();return k}function c(l){var n=d("<table class='grid-content-table' style='position:absolute; top:-100px; left:-100px;'></table>").appendTo("body"),k=d("<tbody></tbody>").appendTo(n),j=d("<tr/>").appendTo(k),o=d("<td class='"+l+"' style='width:5px; height:5px;'>-</td>").appendTo(j);var m={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()};o.remove();j.remove();k.remove();n.remove();return m}function e(j){return -1*(j<0?-1:1)}d.extend(true,window,{SmallGrid:{Utils:{changeSortOrder:e,createGuid:h.newGuid,isFunction:b,isProperty:g,measureCellDiff:c,measureMaxSupportedCssHeight:i,measureScrollbar:f,parseBool:a}}})})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{View:{Create:c,View:a}}});function a(o,am,R,aj){var s=this,L={width:0,height:0},ah={},e=[],Z=1,T=null,A=null,m={horisontal:false,vertical:false},t=[],f=false,w=0;function ag(){var an=j();ah=R.buildViewPortElements(o);ah.container.empty().addClass(aj.uid);ah.viewport.appendTo(ah.container);e.push(SmallGrid.Handler.Resize.Create(ah.header,{handleResize:n,handleResizeStart:d,handleResizeStop:C,handlerIdentifier:"."+aj.cssClass.headerResizeHandle}),SmallGrid.Handler.Click.Create(ah.header,{handleClick:N,handleDblClick:H,handleContextMenu:ac}),SmallGrid.Handler.Click.Create(ah.content,{handleClick:y,handleDblClick:W,handleContextMenu:ak,handleKeyDown:J}),SmallGrid.Handler.Scroll.Create(ah.content,{handleScrollStart:ae,handleScrollStop:ai,handleScroll:ad,handleMouseWheelStart:O,handleMouseWheelStop:E,handleMouseWheel:aa}));b(document).on("click",D);am.onRowsChange.subscribe(v);am.onColumnsChange.subscribe(k);z();v();if(aj.resizeColumnsOnLoad===true){G()}k();F();l(an);s.onInitialize.notify({});return s}function Y(){j();R=null;am.onRowsChange.unsubscribe(v);am.onColumnsChange.unsubscribe(k);if(ah.container.length){for(var an=0;an<e.length;an++){e[an].destroy()}ah.container.empty().removeClass(aj.uid)}b(document.body).off("click",D);s.onDestroy.notify({})}function ab(){return m.horisontal}function q(){return m.vertical}function h(an){if(ah[an]){return ah[an]}}function V(an){var ao=am.getRowById(an);if(ao){return(ao.calcHeight-ao.height-aj.cellOuterSize.height>=ah.content[0].scrollTop&&ao.calcHeight+ao.height+aj.cellOuterSize.height<L.height+ah.content[0].scrollTop)}return false}function M(an){return ah.contentTbody[0].rows[an]}function K(an){var ao=am.getRowIndexById(an);if(ao!=-1){return M(ao)}}function Q(an,ao){return U(an)&&V(ao)}function x(an,ao){return ah.contentTbody[0].rows[ao].cells[an]}function p(ao,ap){var aq=am.getRowIndexById(ap);var an=am.getColumnIndexById(ao);if(aq!=-1&&an!=-1){return x(an,aq)}}function U(ao){var an=am.getColumnById(ao);if(an){return(an.calcWidth-an.width-aj.cellOuterSize.width>=ah.content[0].scrollLeft&&an.calcWidth<L.width+ah.content[0].scrollLeft)}return false}function al(){return am}function P(){w++;I();return s}function I(){if(u()===false&&w>0){if(T==null){T=setTimeout(function(){F();T=A=null},17)}else{if(A==null){A=setTimeout(P,187)}}}return s}function F(){var aq=j();w=0;var an=am.requestDataFromRange({top:ah.content[0].scrollTop*Z,left:ah.content[0].scrollLeft},L,aj.cellOuterSize,{width:m.vertical?aj.scrollbarDimensions.width:0,height:m.horisontal?aj.scrollbarDimensions.height:0},Z==1);if(an.isCached===0){if(an.columns.length>0){ah.headerTable.css({left:an.columns[0].calcWidth-an.columns[0].width-aj.cellOuterSize.width});if(an.rows.length>0){ah.contentTable.css({top:an.rows[0].calcHeight-an.rows[0].height-aj.cellOuterSize.height-(ah.content[0].scrollTop*Z)+ah.content[0].scrollTop,left:an.columns[0].calcWidth-an.columns[0].width-aj.cellOuterSize.width})}var ao=an.columns[an.columns.length-1];var ap={hideColumnBorder:(m.vertical===false&&L.width<=ao.calcWidth),virtualColumnWidth:(aj.showLastColumn===true&&L.width>=ao.calcWidth)?L.width-ao.calcWidth:0};B(R.buildHeaderColumnsHtml(an.columns,ap),R.buildColsHtml(an.columns,ap),R.buildRowsHtml(an.columns,an.rows,ap))}else{B("","","")}}l(aq)}function B(ao,an,ap){s.onBeforeRowsRendered.notify({});ah.headerCol[0].innerHTML=ah.contentCol[0].innerHTML=an;ah.headerTbody[0].innerHTML=ao;ah.contentTbody[0].innerHTML=ap;s.onAfterRowsRendered.notify({})}function u(){return t.length>0}function j(){var an=SmallGrid.Utils.createGuid();t.push(an);return an}function l(ao){for(var an=0;an<t.length;an++){if(t[an]==ao){t.splice(an,1);break}}}function i(ap,ao){var an="";if(ao.resizeable&&ap.indexOf(aj.cssClass.headerResizeHandle)!=-1){an="resize"}else{if(ao.filterable&&ap.indexOf(aj.cssClass.headerFilter)!=-1){an="filter"}else{if(ao.sortable){an="sort"}}}return an}function g(ap,ao,aq){var an="";if(aq.editable===true&&ao.editable===true){an="edit"}else{if(aq.disabled===true){an="disabled"}}return an}function S(an){var ao=am.getColumnByIndex(an.cellIndex);if(ao){an.type=i(b(an.event.target).attr("class"),ao);an.targetClass=b(an.event.target).attr("class");an.column=ao;return an}}function af(an){var ao=am.getColumnByIndex(an.cellIndex);var ap=am.getRowByIndex(an.rowIndex);if(ao&&ao.field.length>0&&ap&&ao.field in ap.item){an.type=g(b(an.event.target).attr("class"),ao,ap);an.row=ap;an.column=ao;return an}}function X(ao,ar,at){var av=ao.slice();var ax={minWidth:0,maxWidth:0,width:0},an=L.width-av.length*at-ar;for(var au=av.length-1;au>=0;au--){var ay=av[au];if(ay.resizeable===false){an-=ay.width;av.splice(au,1);continue}ax.minWidth+=ay.minWidth;ax.maxWidth+=ay.maxWidth;ax.width+=ay.width}if(ax.minWidth<=an&&an<=ax.maxWidth){var aq=av.slice();while(aq.length>0){var aw=an/ax.width;ax.width=0;for(au=aq.length-1;au>=0;au--){var ap=aq[au];var az=Math.max(Math.min(Math.floor(ap.width*aw),ap.maxWidth),ap.minWidth);ax.width+=az;if(ap.width==az){if(aq.length==1&&an!=ap.width){ap.width+=an-ap.width}an-=ap.width;aq.splice(au,1);continue}ap.width=az}}}return av}function G(){var ao=X(am.columns.getColumns(),(m.vertical===true)?aj.scrollbarDimensions.width:0,aj.cellOuterSize.width);var ap=j();for(var an=0;an<ao.length;an++){am.columns.setColumnPropertyById(ao[an].id,"width",ao[an].width)}l(ap);return s}function z(){L.width=ah.container.width();L.height=ah.container.height()-aj.header.height-aj.cellOuterSize.height;ah.content.width(L.width);ah.content.height(L.height);return s}function v(){var an=am.getRowsHeight(aj.cellOuterSize);m.vertical=m.horisontal?(an>(L.height-aj.scrollbarDimensions.height)):(an>L.height);if(an>aj.maxSupportedCssHeight){Z=(an-L.height+aj.scrollbarDimensions.height)/(aj.maxSupportedCssHeight-L.height+aj.scrollbarDimensions.height);an=aj.maxSupportedCssHeight}ah.header.css({width:m.vertical?L.width-aj.scrollbarDimensions.width:L.width});ah.contentWrap.css({height:an});P()}function k(){var ao=am.getColumnsWidth(aj.cellOuterSize);m.horisontal=m.vertical?(ao>(L.width-aj.scrollbarDimensions.width)):(ao>L.width);var an=Math.max(ao,m.vertical?L.width-aj.scrollbarDimensions.width:L.width);ah.headerWrap.css({width:an});ah.contentWrap.css({width:an});P()}function y(an){var ao=af(an);if(ao){r(ao,"onCellClick")}}function W(an){var ao=af(an);if(ao){r(ao,"onCellDblClick")}}function ak(an){var ao=af(an);if(ao){r(ao,"onCellContextMenu")}}function J(an){var ao=af(an);if(ao){r(ao,"onCellKeyDown")}}function n(an){r(an,"onColumnResize")}function d(an){f=true;r(an,"onColumnResizeStart")}function C(an){f=false;r(an,"onColumnResizeStop")}function O(an){r(an,"onMouseWheelStart")}function E(an){r(an,"onMouseWheelStop")}function aa(an){r(an,"onMouseWheel")}function ae(an){if(f===false){r(an,"onScrollStart")}}function ai(an){if(f===false){r(an,"onScrollStop")}}function ad(an){if(f===false){ah.header[0].scrollLeft=ah.content[0].scrollLeft;P();r(an,"onScroll")}}function D(an){r(an,"onBodyClick")}function N(an){var ao=S(an);if(ao){r(ao,"onHeaderClick")}}function ac(an){var ao=S(an);if(ao){r(ao,"onHeaderContextMenu")}}function H(an){var ao=S(an);if(ao){r(ao,"onHeaderDblClick")}}function r(an,ao){s[ao].notify(an)}b.extend(this,{init:ag,destroy:Y,getCellNodeById:p,getCellNodeByIndex:x,getModel:al,getNode:h,getRowNodeById:K,getRowNodeByIndex:M,isCellVisible:Q,isColumnVisible:U,isHorisontalScrollVisible:ab,isRowVisible:V,isSuspended:u,isVerticalScrollVisible:q,render:P,resize:z,resizeColumns:G,resumeRender:l,suspendRender:j,onScroll:new SmallGrid.Event.Handler(),onScrollStart:new SmallGrid.Event.Handler(),onScrollStop:new SmallGrid.Event.Handler(),onMouseWheel:new SmallGrid.Event.Handler(),onMouseWheelStart:new SmallGrid.Event.Handler(),onMouseWheelStop:new SmallGrid.Event.Handler(),onBodyClick:new SmallGrid.Event.Handler(),onHeaderClick:new SmallGrid.Event.Handler(),onHeaderContextMenu:new SmallGrid.Event.Handler(),onHeaderDblClick:new SmallGrid.Event.Handler(),onCellClick:new SmallGrid.Event.Handler(),onCellContextMenu:new SmallGrid.Event.Handler(),onCellDblClick:new SmallGrid.Event.Handler(),onCellKeyDown:new SmallGrid.Event.Handler(),onColumnResize:new SmallGrid.Event.Handler(),onColumnResizeStart:new SmallGrid.Event.Handler(),onColumnResizeStop:new SmallGrid.Event.Handler(),onAfterRowsRendered:new SmallGrid.Event.Handler(),onBeforeRowsRendered:new SmallGrid.Event.Handler(),onInitialize:new SmallGrid.Event.Handler(),onDestroy:new SmallGrid.Event.Handler()})}function c(d,e,f){var h=b(d);if(!h.length){throw new Error("Small grid requires a valid container, "+d+" does not exist in the DOM.")}if(e instanceof SmallGrid.View.Model.Model===false){throw new TypeError("View model is not defined.")}var g=SmallGrid.View.Renderer.Create(f);return new a(h,e,g,f).init()}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{View:{Model:{Model:a,Create:c}}}});function a(I,e,W){var i=this;var n=e;var V=I;var k={count:0,height:0};var B={count:0,width:0};var X=[];var l=[];var Q=[];var f=[];var t=[];var z=[];var E=[];var h=[];var w={minTop:undefined,maxTop:undefined,minLeft:undefined,maxLeft:undefined};function T(){I.onChange.subscribe(q);I.onChangeStart.subscribe(R);I.onChangeStop.subscribe(L);e.onChange.subscribe(g);e.onChangeStart.subscribe(v);e.onChangeStop.subscribe(G);return i}function O(){I.onChange.unsubscribe(q);I.onChangeStart.unsubscribe(R);I.onChangeStop.unsubscribe(L);e.onChange.unsubscribe(g);e.onChangeStart.unsubscribe(v);e.onChangeStop.unsubscribe(G)}function g(Z){if(E.length===0&&Z.id){A();i.onColumnsChange.notify({ids:[Z.id]})}else{if(Z.id){E.push(Z.id)}}}function q(Z){if(h.length===0&&Z.id){Y();i.onRowsChange.notify({ids:[Z.id]})}else{if(Z.id){h.push(Z.id)}}}function v(){E=[]}function R(){h=[]}function G(Z){if((Z.mode&&Z.mode=="all")||E.length>0){A();i.onColumnsChange.notify({ids:E});E=[]}}function L(Z){if((Z.mode&&Z.mode=="all")||h.length>0){Y();i.onRowsChange.notify({ids:h});h=[]}}function u(){return X}function F(){return l}function U(Z){return X[Z]}function D(Z){return l[Z]}function N(aa){for(var Z=0;Z<X.length;Z++){if(X[Z].id==aa){return Z}}return -1}function M(aa){for(var Z=0;Z<l.length;Z++){if(l[Z].id==aa){return Z}}return -1}function C(aa){for(var Z=0;Z<X.length;Z++){if(X[Z].id==aa){return X[Z]}}}function y(aa){for(var Z=0;Z<l.length;Z++){if(l[Z].id==aa){return l[Z]}}}function p(){return k}function r(){return B}function P(){return Q}function s(aa){if(aa instanceof SmallGrid.Query.FilterQuery){for(var Z=0;Z<Q.length;Z++){if(Q[Z].getId()==aa.getId()){break}}Q[Z]=aa;Y();i.onRowsChange.notify()}}function H(aa){if(aa instanceof SmallGrid.Query.FilterQuery){for(var Z=0;Z<Q.length;Z++){if(Q[Z].getId()==aa.getId()){Q.splice(Z,1);Y();i.onRowsChange.notify();break}}}}function d(){Q=[];Y();i.onRowsChange.notify()}function o(){return t}function S(Z){if(Z instanceof SmallGrid.Query.SorterQuery){t=[];Y();t.push(Z);i.onRowsChange.notify()}}function j(Z){if(Z instanceof SmallGrid.Query.SorterQuery){for(var aa=0;aa<t.length;aa++){if(t[aa].getField()==Z.getField()){t.splice(aa,1);Y();i.onRowsChange.notify();break}}}}function x(){t=[];Y();i.onRowsChange.notify()}function K(Z){k=new SmallGrid.Query.Request(Q,t,I).getRowsTotal(Z.height);return k.height}function J(Z){B=new SmallGrid.Query.Request(f,z,e).getColumnsTotal(Z.width);return B.width}function m(Z,ac,aa,ae,ad){var ab=(w.minTop<=Z.top&&Z.top<=w.maxTop+ae.width)&ad;var af=(w.minLeft<=Z.left&&Z.left<=w.maxLeft+ae.height)&ad;if(ab===0){X=new SmallGrid.Query.Request(Q,t,I).getRowsInRange(Z.top,ac.height,aa.height);Y(X,ac,aa)}if(af===0){l=new SmallGrid.Query.Request(f,z,e).getColumnsInRange(Z.left,ac.width,aa.width);A(l,ac,aa)}return{isCached:(ab&&af),rows:X,columns:l}}function A(ab,aa,Z){if(ab&&ab.length){w.minLeft=ab[0].calcWidth<aa.width?ab[0].calcWidth-ab[0].width-Z.width:ab[0].calcWidth+aa.width;w.maxLeft=ab[(ab.length-1)].calcWidth<aa.width?aa.width:ab[(ab.length-1)].calcWidth-aa.width}else{w.minLeft=undefined;w.maxLeft=undefined}}function Y(ab,aa,Z){if(ab&&ab.length){w.minTop=ab[0].calcHeight<aa.height?ab[0].calcHeight-ab[0].height-Z.height:ab[0].calcHeight+aa.height;w.maxTop=ab[(ab.length-1)].calcHeight<aa.height?aa.height:ab[(ab.length-1)].calcHeight-aa.height}else{w.minTop=undefined;w.maxTop=undefined}}b.extend(this,{init:T,destroy:O,getRowsTotal:p,getColumnsTotal:r,columns:n,rows:V,requestDataFromRange:m,clearSorter:j,clearSorters:x,clearFilter:H,clearFilters:d,getColumnById:y,getColumnByIndex:D,getColumnIndexById:M,getColumns:F,getColumnsWidth:J,getFilters:P,getSorters:o,getRowById:C,getRowByIndex:U,getRowIndexById:N,getRows:u,getRowsHeight:K,setFilter:s,setSorter:S,onColumnsChange:new SmallGrid.Event.Handler(),onRowsChange:new SmallGrid.Event.Handler()})}function c(d,f,e){if(d instanceof SmallGrid.Row.Model===false){throw new TypeError("Rows model is not defined.")}if(f instanceof SmallGrid.Column.Model===false){throw new TypeError("Column model is not defined.")}return new a(d,f,e).init()}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{View:{Renderer:{Create:a,Renderer:c}}}});function c(j){var r=this;function k(u){var t={container:u,content:null,contentCol:null,contentTable:null,contentTbody:null,contentWrap:null,footer:null,header:null,headerCol:null,headerTable:null,headerTbody:null,headerWrap:null,viewport:null};t.viewport=b("<div class='small-grid grid-viewport'/>");t.header=b("<div class='grid-header'/>");t.content=b("<div class='grid-content'/>");t.footer=b("<div class='grid-footer'/>");t.preload=b("<div class='grid-preload-font'/>");t.headerCol=b("<colgroup></colgroup>");t.headerTable=b("<table class='grid-header-table'></table>");t.headerTbody=b("<tbody></tbody>");t.headerWrap=b("<div class='grid-header-wrap'/>");t.contentCol=b("<colgroup></colgroup>");t.contentTable=b("<table class='grid-content-table'></table>");t.contentTbody=b("<tbody></tbody>");t.contentWrap=b("<div class='grid-content-wrap'/>");t.headerCol.appendTo(t.headerTable);t.headerTbody.appendTo(t.headerTable);t.headerTable.appendTo(t.headerWrap);t.headerWrap.appendTo(t.header);t.contentCol.appendTo(t.contentTable);t.contentTbody.appendTo(t.contentTable);t.contentTable.appendTo(t.contentWrap);t.contentWrap.appendTo(t.content);t.header.appendTo(t.viewport);t.content.appendTo(t.viewport);t.footer.appendTo(t.viewport);t.preload.appendTo(t.viewport);if(j.header.disableTextSelection){t.header.addClass(j.cssClass.disableTextSelection)}if(j.rows.disableTextSelection){t.content.addClass(j.cssClass.disableTextSelection)}return t}function g(v,x){var u="<tr class='"+j.cssClass.headerRow+"'>";for(var t=0,w=v.length-1;t<=w;t++){u+=o(v[t],x,w==t)}if(x.virtualColumnWidth>0){u+=f(v[t-1],x)}return u+"</tr>"}function o(v,w,y){var x="",u,t=j.cssClass.headerCell;if(v.headerCssClass){t+=" "+v.headerCssClass}if(y&&w.hideColumnBorder){t+=" "+j.cssClass.cellLast}switch(v.align){case"center":t+=" "+j.cssClass.cellAlignCenter;break;case"right":t+=" "+j.cssClass.cellAlignRight;break}if(v.name){x+=v.name}if(v.sortable||v.filterable){t+=" "+j.cssClass.cursorPointer}u="<td style='height:"+j.header.height+"px' class='"+t+"'><div class='"+j.cssClass.headerCellDiv+"'><span class='"+j.cssClass.headerColumnName+"'>"+x+"</span>";if(v.sortable&&v.sortOrder!==0){u+="<span class='"+((v.sortOrder==1)?j.cssClass.headerSortUp:j.cssClass.headerSortDown)+"'></span>"}if(v.filterable){u+="<span class='"+j.cssClass.headerFilter+"'></span>"}u+="</div>";if(v.resizeable){u+="<span class='"+j.cssClass.headerResizeHandle+"'></span>"}return u+"</td>"}function f(t,u){return"<td class='"+j.cssClass.headerCell+" "+j.cssClass.cellLast+"' style='height:"+j.header.height+"px'></td>"}function i(v,x){var u="";for(var t=0,w=v.length;t<w;t++){u+=p(v[t])}if(x.virtualColumnWidth>0){u+=h(v[t-1],x)}return u}function p(u){var t=j.cssClass.col;if(u.headerCssClass){t+=" "+u.headerCssClass}return"<col style='width:"+(u.width+j.cellOuterSize.width)+"px;' class='"+t+"'/>"}function h(t,u){return"<col style='width:"+u.virtualColumnWidth+"px;' class='"+j.cssClass.col+" "+j.cssClass.collLast+"'/>"}function q(v,y,x){var u="";for(var t=0,w=y.length;t<w;t++){u+=e(v,y[t],x)}return u}function e(v,z,y){var w=j.cssClass.row+((z.calcIndex&1==1)?" "+j.cssClass.rowEven:" "+j.cssClass.rowOdd);if(z.rowCssClass){w+=" "+z.rowCssClass}switch(j.rows.valign){case"middle":w+=" "+j.cssClass.rowValignMiddle;break;case"top":w+=" "+j.cssClass.rowValignTop;break;case"bottom":w+=" "+j.cssClass.rowValignBottom;break;case"baseline":w+=" "+j.cssClass.rowValignBaseline;break}var u="<tr class='"+w+"'>";for(var t=0,x=v.length-1;t<=x;t++){u+=m(v[t],z,y,x==t)}if(y.virtualColumnWidth>0){u+=d(v[t-1],y)}return u+"</tr>"}function m(u,x,v,w){var t=j.cssClass.cell;if(u.cellCssClass){t+=" "+u.cellCssClass}if(w&&v.hideColumnBorder){t+=" "+j.cssClass.cellLast}if(u.align=="center"){t+=" "+j.cssClass.cellAlignCenter}if(u.align=="right"){t+=" "+j.cssClass.cellAlignRight}if(x.cellCssClass&&u.field in x.cellCssClass){t+=" "+x.cellCssClass[u.field]}return"<td height='"+x.height+"' class='"+t+"'>"+l(u,x)+"</td>"}function d(t,u){return"<td class='"+j.cssClass.cell+" "+j.cssClass.cellLast+"'></td>"}function l(t,v){var u="";if(t.field in v.item&&(v.editMode===false||t.editMode===false)){u=s(t,v)}return u}function s(t,u){return(t.formatter)?SmallGrid.Cell.Formatter[t.formatter](n(t,u),t,u,j):n(t,u)}function n(t,u){return u.item[t.field]}b.extend(this,{buildViewPortElements:k,buildHeaderColumnsHtml:g,buildColsHtml:i,buildRowsHtml:q})}function a(d){return new c(d)}})(jQuery);(function(c){c.extend(true,window,{SmallGrid:{View:{Window:{Create:a,Manager:b}}}});function b(m,g){var s=this;var d=[];function r(w,t,v){if(f(w)===false){d.push({id:w,opts:t});var u=c('<div class="grid-window grid-window-'+w+'"/>');if(v&&v.length){v.appendTo(u)}u.appendTo(m.getNode("container")).hide()}return s}function f(u){for(var t=0;t<d.length;t++){if(d[t].id==u){return true}}return false}function e(u){for(var t=0;t<d.length;t++){if(d[t].id==u){return{id:d[t].id,opts:d[t].opts,container:m.getNode("container").children(".grid-window-"+u)}}}return s}function j(v){for(var t=0;t<d.length;t++){if(d[t].id==v){d.splice(t,1);var u=m.getNode("container").children(".grid-window-"+v);if(u.length){u.remove()}break}}return s}function l(y,t){var u=e(y);if(u!=null){u.container.show();var x=m.getNode("container");var w={width:u.container.width(),height:u.container.height()};var v=(w.width+t.x>x.width()&&w.width<t.x-x.offset().left)?t.x-w.width:t.x;u.container.offset({top:t.y,left:v})}return s}function q(z,t){var v=e(z);if(v!=null){v.container.show();var y=m.getNode("container");var x={width:v.container.width(),height:v.container.height()};var u={left:t.offset().left,top:t.offset().top,width:t.width(),height:t.height()};var w=(x.width+u.left>y.width()&&x.width<u.left-y.offset().left)?u.left+u.width-x.width:u.left;v.container.offset({top:u.top+u.height,left:w})}return s}function h(t){return(m.getNode("container").children(".grid-window-"+t+":visible").length>0)}function k(t){m.getNode("container").children(".grid-window-"+t).show();return s}function o(t){m.getNode("container").children(".grid-window-"+t).hide();return s}function i(){m.getNode("container").children(".grid-window").hide();return s}function p(){m.onBodyClick.subscribe(i);m.onColumnResizeStart.subscribe(i);m.onScrollStart.subscribe(i);return s}function n(){m.onBodyClick.unsubscribe(i);m.onColumnResizeStart.unsubscribe(i);m.onScrollStart.unsubscribe(i);d=[]}c.extend(this,{init:p,destroy:n,createWindow:r,showWindowNearPosition:l,showWindowNearTarget:q,getWindow:e,hideWindow:o,hideWindows:i,isWindow:f,isVisible:h,removeWindow:j,showWindow:k})}function a(d,e){if(d instanceof SmallGrid.View.View===false){throw new TypeError("View expected.")}return new SmallGrid.View.Window.Manager(d,e).init()}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{Plugins:{CellEdit:a}}});function a(g,o,r){var n=this;var h=null;var i={enabled:false};function q(){g.onAfterRowsRendered.subscribe(j);g.onBeforeRowsRendered.subscribe(f);g.onCellClick.subscribe(s);g.onCellDblClick.subscribe(e);g.onCellKeyDown.subscribe(p);g.onScrollStop.subscribe(l)}function t(){g.onAfterRowsRendered.unsubscribe(j);g.onBeforeRowsRendered.unsubscribe(f);g.onCellClick.unsubscribe(s);g.onCellDblClick.unsubscribe(e);g.onCellKeyDown.unsubscribe(p);g.onScrollStop.unsubscribe(l)}function l(v){if(u()===true&&r.plugins.CellEdit.autoFocus===true){if(g.isCellVisible(i.column.id,i.row.id)){i.editor.focus()}}}function f(v){if(u()===true){i.editor.remove()}}function j(w){if(u()===true){var v=g.getCellNodeById(i.column.id,i.row.id);if(v){v.className+=" "+r.cssClass.cellEdit;i.editor.append(v);if(i.addFocusOnce===true){i.addFocusOnce=false;i.editor.focus()}else{if(h!=null&&h.columnId==i.column.id&&h.rowId==i.row.id){i.editor.focus()}}}}}function e(v){if(r.plugins.CellEdit.editOnClick===false){d(v.column.id,v.row.id)}h={columnId:v.column.id,rowId:v.row.id}}function s(v){if(r.plugins.CellEdit.editOnClick===true){d(v.column.id,v.row.id)}h={columnId:v.column.id,rowId:v.row.id}}function p(v){if(v&&v.event){switch(v.event.keyCode){case 13:m();break;case 27:k();break}}}function d(x,y){if(u()===true){if(i.column.id!=x||i.row.id!=y){m()}}if(u()===false){var v=g.getModel().getColumnById(x);var z=g.getModel().getRowById(y);if(z&&v&&z.editable&&v.editable&&v.editor){i={enabled:true,addFocusOnce:true,row:z,column:v,editor:new SmallGrid.Cell.Editor.Create(v.editor,{value:z.item[v.field]},r)};var w=g.suspendRender();g.getModel().columns.setColumnPropertyById(v.id,"editMode",true);g.getModel().rows.setRowPropertyById(z.id,"editMode",true);g.resumeRender(w);g.render()}}}function c(){if(u()===true){return i.editor}}function u(){return(i.enabled===true)}function m(){if(u()===true){var v=g.suspendRender();g.getModel().columns.setColumnPropertyById(i.column.id,"editMode",false);var w=g.getModel().rows.getRowById(i.row.id);if(w){w.item[i.column.field]=i.editor.getValue();w.editMode=false;g.getModel().rows.updateRow(w)}i.editor.destroy();i={enabled:false};g.resumeRender(v);g.render()}return n}function k(){if(u()===true){var v=g.suspendRender();g.getModel().columns.setColumnPropertyById(i.column.id,"editMode",false);var w=g.getModel().rows.getRowById(i.row.id);if(w){w.editMode=false;g.getModel().rows.updateRow(w)}i.editor.destroy();i={enabled:false};g.resumeRender(v);g.render()}return n}b.extend(this,{init:q,destroy:t,applyEdit:m,cancelEdit:k,editCellById:d,getEditor:c,isEditMode:u})}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{Plugins:{ColumnFilterMenu:a}}});function a(h,g,d){var m=this;function j(p){if(p&&p.type&&p.type=="filter"){p.stopPropagation();var o=g.isVisible(p.column.id);g.hideWindows();if(g.isWindow(p.column.id)===false){g.createWindow(p.column.id,{filter:new SmallGrid.Query.FilterQuery(p.column.field,d)},n(p.column.id));g.showWindowNearTarget(p.column.id,b(p.event.target))}else{if(o===false){g.showWindow(p.column.id)}}}}function n(r){var o=b("<div class='grid-header-menu'></div>");var p=b("<form>");var q=b('<div class="grid-header-menucontent"></div>').append('<select name="type1"><option value="contains">Contains</option><option value="doesnotcontain">Does not contains</option><option value="eq">Is equal to</option><option value="neq">Is not equal to</option><option value="startswith">Starts with</option><option value="endswith">Ends with</option></select>').append('<input type="text" name="value1" value=""/>').append('<select name="operator"><option value="and">And</option><option value="or">Or</option></select>').append('<select name="type2"><option value="contains">Contains</option><option value="doesnotcontain">Does not contains</option><option value="eq">Is equal to</option><option value="neq">Is not equal to</option><option value="startswith">Starts with</option><option value="endswith">Ends with</option></select>').append('<input type="text" name="value2" value=""/>').append('<input type="submit" name="Filter" value="Filter" class="btn-submit"/>').append('<input type="reset" name="Clear" value="Clear" class="btn-clear"/>').appendTo(p);p.on("submit",{id:r},e);p.on("reset",{id:r},f);p.on("click",{id:r},l);p.appendTo(o);return o}function c(o){return{value:[o.find("input[name='value1']").val(),o.find("input[name='value2']").val()],type:[o.find("select[name='type1']").val(),o.find("select[name='type2']").val()],operator:o.find("select[name='operator']").val()}}function e(o){o.preventDefault();var q=g.getWindow(o.data.id);if(q&&q.opts){var p=q.opts.filter;var r=c(q.container);q.opts.filter.clear();q.opts.filter.add(r.type[0],r.value[0]);if(r.value[1]){q.opts.filter.add(r.operator);q.opts.filter.add(r.type[1],r.value[1])}h.getModel().setFilter(p);g.hideWindow(o.data.id)}}function f(o){var p=g.getWindow(o.data.id);if(p){h.getModel().clearFilter(p.opts.filter);g.hideWindow(o.data.id)}}function l(o){o.stopPropagation()}function k(){h.onHeaderClick.subscribe(j);return m}function i(){h.onHeaderClick.unsubscribe(j)}b.extend(this,{init:k,destroy:i})}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{Plugins:{ColumnPickerMenu:a}}});function a(i,g,e){var m=this;var h="column-picker";function c(o){if(o){o.preventDefault();g.hideWindows();if(g.isWindow(h)===false){g.createWindow(h,{},n(h))}g.showWindowNearPosition(h,{x:o.event.pageX,y:o.event.pageY})}}function n(r){var o=b("<div class='grid-columnpicker-menu'></div>");var p=b("<form>");var q=b('<div class="grid-columnpicker-menucontent"></div>').appendTo(p);p.on("click",{id:r},l);p.appendTo(o);b(d()).appendTo(q);return o}function d(){var q="";var p=i.getModel().columns.getColumns();for(var o=0;o<p.length;o++){q+='<div><label><input type="checkbox" name="" '+((p[o].hidden)?"":" checked ")+' value="'+p[o].id+'"/> '+p[o].name+"</label></div>"}return q}function f(q){var o=0;for(var p=0;p<q.length;p++){if(q[p].hidden===false){o++}if(o>1){return true}}return false}function l(o){o.stopPropagation();if(o.target){var p=b(o.target).closest("input");if(p.length){if(f(i.getModel().getColumns())===false&&p[0].checked==false){return false}i.getModel().columns.setColumnPropertyById(p.val(),"hidden",!p[0].checked)}}}function k(){i.onHeaderContextMenu.subscribe(c);return m}function j(){i.onHeaderContextMenu.unsubscribe(c)}b.extend(this,{init:k,destroy:j})}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{Plugins:{ColumnResize:a}}});function a(k,n,t){var m=this;var d,l,r,j,f,o,x,q,g,h,p;function s(){k.onColumnResize.subscribe(u);k.onColumnResizeStart.subscribe(e);k.onColumnResizeStop.subscribe(c)}function v(){k.onColumnResize.unsubscribe(u);k.onColumnResizeStart.subscribe(e);k.onColumnResizeStop.subscribe(c)}function u(y){if(d&&g.length){p=Math.max(Math.min(parseInt(y.width,10),d.maxWidth),d.minWidth);if(x.length){x.css("width",p+t.cellOuterSize.width)}if(j.length){j.css("width",p+t.cellOuterSize.width)}var z=Math.max(k.getNode("headerTable").width(),h);k.getNode("headerWrap").width(z);k.getNode("contentWrap").width(z)}}function e(y){h=k.getNode("header").width();d=k.getModel().getColumnByIndex(y.cellIndex);o=k.getNode("headerTbody").find("."+t.cssClass.cursorPointer);x=k.getNode("headerTable").find("colgroup > col:nth-child("+(y.cellIndex+1)+")");j=k.getNode("contentTable").find("colgroup > col:nth-child("+(y.cellIndex+1)+")");g=k.getNode("headerTable").find("colgroup > col:last");q=k.getNode("contentTable").find("colgroup > col:last");if(d&&g.length){if(t.showLastColumn==true&&g.hasClass(t.cssClass.collLast)){g.width(0);if(q.length){q.width(0)}}f=k.getNode("headerTable").find("td."+t.cssClass.cellLast);if(f.length){w(f,t.cssClass.cellLast)}r=k.getNode("contentTable").find("td."+t.cssClass.cellLast);if(r.length){w(r,t.cssClass.cellLast)}w(o,t.cssClass.cursorPointer);k.getNode("viewport").addClass(t.cssClass.cursorResize)}}function c(){if(d){if(f.length){i(f,t.cssClass.cellLast)}if(r.length){i(r,t.cssClass.cellLast)}i(o,t.cssClass.cursorPointer);k.getNode("viewport").removeClass(t.cssClass.cursorResize);if(p){k.getModel().columns.setColumnPropertyById(d.id,"width",p)}}}function i(z,y){z.toggleClass(y+" "+y+"-disabled")}function w(z,y){z.toggleClass(y+"-disabled "+y)}b.extend(this,{init:s,destroy:v})}})(jQuery);(function(b){b.extend(true,window,{SmallGrid:{Plugins:{ColumnSort:a}}});function a(d,c,g){var e=this;function i(){d.onHeaderClick.subscribe(h)}function f(){d.onHeaderClick.unsubscribe(h)}function h(j){if(j&&j.type&&j.type=="sort"){var m=d.suspendRender();var l=j.column;var k=SmallGrid.Utils.changeSortOrder(l.sortOrder);d.getModel().columns.setColumnsProperty("sortOrder",0);d.getModel().columns.setColumnPropertyById(l.id,"sortOrder",k);d.getModel().setSorter(new SmallGrid.Query.SorterQuery(l.field,k,l.sortComparer));d.resumeRender(m);d.render()}}b.extend(this,{init:i,destroy:f})}})(jQuery);(function(a){a.extend(true,window,{SmallGrid:{Plugins:{RowSelection:b}}});function b(m,j,e){var s=this;var d=[];var f=null;function r(){m.onCellClick.subscribe(p)}function o(){m.onCellClick.unsubscribe(p)}function p(v){var x=m.suspendRender();if(v.event.shiftKey===true&&e.plugins.RowSelection.multipleRowSelection===true&&f&&f!=v.row.id){l(d);var y=m.getModel().rows.getRowById(f);var w=m.getModel().rows.getRowById(v.row.id);if(y&&w){i(f,v.row.id)}}else{if(v.event.ctrlKey===true&&e.plugins.RowSelection.multipleRowSelection){if(c(v.row.id)===false){q(v.row.id)}else{k(v.row.id)}}else{var u=d.slice();var t=u.indexOf(v.row.id);if(t===-1){q(v.row.id)}else{u.splice(t,1)}l(u)}}m.resumeRender(x);m.render();if(v.event.shiftKey===false){f=v.row.id}}function i(v,u){var x=m.getModel().rows.getRowIndexById(v);var w=m.getModel().rows.getRowIndexById(u);if(x!==-1&&w!==-1){var z=Math.min(w,x);var y=Math.max(w,x);for(var t=z;t<=y;t++){g(t)}}return s}function h(t){if(t){m.getModel().rows.setRowPropertyById(t.id,"rowCssClass",t.rowCssClass+" "+e.cssClass.rowSelected);d.push(t.id)}}function g(t){h(m.getModel().rows.getRowByIndex(t));return s}function q(t){h(m.getModel().rows.getRowById(t));return s}function l(u){for(var t=u.length-1;t>=0;t--){k(u[t])}return s}function k(v){var u=m.getModel().rows.getRowById(v);if(u){m.getModel().rows.setRowPropertyById(u.id,"rowCssClass",u.rowCssClass.replace(" "+e.cssClass.rowSelected,""))}var t=d.indexOf(v);if(t!==-1){d.splice(t,1)}return s}function c(t){return(d.indexOf(t)!==-1)}function n(){return d}a.extend(this,{init:r,destroy:o,clearSelectedRow:k,clearSelectedRows:l,getSelectedRowsIds:n,isRowSelected:c,selectRowByIndex:g,selectRowById:q,selectRowsRange:i})}})(jQuery);if(typeof jQuery==="undefined"){throw new Error("Small grid requires jquery module to be loaded.")}if(typeof SmallGrid==="undefined"){throw new Error("Small grid required to be loaded.")}(function(b){var a={showLastColumn:true,explicitInitialization:false,uidPrefix:"smallgrid_",resizeColumnsOnLoad:false,maxSupportedCssHeight:undefined,scrollbarDimensions:undefined,cellOuterSize:undefined,uid:undefined,cssClass:{disableTextSelection:"disable-text-selection",cell:"grid-cell",cellEdit:"grid-cell-edit",cellLast:"grid-cell-last",col:"grid-col",collLast:"grid-coll-last",cursorPointer:"grid-cursor-pointer",cursorResize:"grid-cursor-resize disable-text-selection",headerCell:"grid-header-cell",headerCellDiv:"grid-header-cell-div",headerColumnName:"grid-column-name",headerFilter:"grid-header-filter",headerResizeHandle:"grid-resizable-handle",headerRow:"grid-header-row",headerSortable:"grid-sortable",headerSortDown:"grid-sort-icon grid-sort-icon-desc",headerSortUp:"grid-sort-icon grid-sort-icon-asc",row:"grid-row",rowEven:"grid-row-even",rowOdd:"grid-row-odd",rowSelected:"grid-row-selected",rowValignMiddle:"grid-row-valign-middle",rowValignTop:"grid-row-valign-top",rowValignBottom:"grid-row-valign-bottom",rowValignBaseline:"grid-row-valign-baseline",cellAlignCenter:"grid-cell-align-center",cellAlignRight:"grid-cell-align-right"},header:{height:20,disableTextSelection:true},columns:{idProperty:undefined,mapProperties:true},rows:{disableTextSelection:false,idProperty:undefined,mapProperties:true,valign:""},formatter:{floatFormatter:{decimals:2},integerFormatter:{decimals:0},moneyFormatter:{locales:"en-US",options:{currency:"USD"}},dateFormatter:{locales:"en-US",options:{}}},plugins:{ColumnSort:{},ColumnResize:{},RowSelection:{multipleRowSelection:false},CellEdit:{editOnClick:false,autoFocus:true},ColumnFilterMenu:{},ColumnPickerMenu:{}}};function c(d){var d=b.extend(true,{},a,d||{});if(d.maxSupportedCssHeight==undefined){a.maxSupportedCssHeight=d.maxSupportedCssHeight=SmallGrid.Utils.measureMaxSupportedCssHeight()}if(d.scrollbarDimensions==undefined){a.scrollbarDimensions=d.scrollbarDimensions=SmallGrid.Utils.measureScrollbar()}if(d.cellOuterSize==undefined){d.cellOuterSize=SmallGrid.Utils.measureCellDiff(d.cssClass.cell)}if(d.uid==undefined){d.uid=SmallGrid.Utils.createGuid()}return d}b.extend(true,window,{SmallGrid:{Settings:{Create:c,Default:a}}})})(jQuery);
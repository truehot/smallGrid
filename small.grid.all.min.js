"use strict";(function(f){f.extend(true,window,{Small:{Cell:{Editor:{Create:c,Checkbox:e,Float:a,Integer:b,None:d,Text:g}}}});function e(k){var j=this,l=k.value,h=f('<input type="checkbox" class="grid-checkbox-editor" />').val(l);this.append=function(m){h.appendTo(m);return this};this.remove=function(){if(h&&h.length){h.detach()}return this};this.destroy=function(){h.remove();j.onDestroy.notify({});return this};this.getValue=function(){return i(h.prop("checked"))};this.setValue=function(m){h.prop("checked",i(m));j.onChange.notify({value:m});return this};this.focus=function(){h.val(j.getValue()).focus();return this};function i(m){return(/^true$/i).test(m)}f.extend(this,{onInitialize:new Small.Event.Handler(),onChange:new Small.Event.Handler(),onDestroy:new Small.Event.Handler()});j.onInitialize.notify({value:l})}function a(k){var j=this,l=k.value,h=f('<input type="text" class="grid-float-editor" />').val(l);this.append=function(m){h.appendTo(m);return this};this.remove=function(){if(h&&h.length){h.detach()}return this};this.destroy=function(){h.remove();j.onDestroy.notify({});return this};this.getValue=function(){return i(h.val())};this.setValue=function(m){h.val(i(m));j.onChange.notify({value:m});return this};this.focus=function(){h.val(j.getValue()).select();return this};function i(m){return parseFloat(m,10)||0}f.extend(this,{onInitialize:new Small.Event.Handler(),onChange:new Small.Event.Handler(),onDestroy:new Small.Event.Handler()});j.onInitialize.notify({value:l})}function b(k){var j=this,l=k.value,h=f('<input type="text" class="grid-integer-editor" />').val(l);this.append=function(m){h.appendTo(m);return this};this.remove=function(){if(h&&h.length){h.detach()}return this};this.destroy=function(){h.remove();j.onDestroy.notify({});return this};this.getValue=function(){return i(h.val())};this.setValue=function(m){h.val(i(m));j.onChange.notify({value:m});return this};this.focus=function(){h.val(j.getValue()).select();return this};function i(m){return parseInt(m,10)||0}f.extend(this,{onInitialize:new Small.Event.Handler(),onChange:new Small.Event.Handler(),onDestroy:new Small.Event.Handler()});j.onInitialize.notify({value:l})}function d(k){var j=this,l=k.value,h=f("<span class='grid-none-editor' />").text(l);this.append=function(m){h.appendTo(m);return this};this.remove=function(){if(h&&h.length){h.detach()}return this};this.destroy=function(){h.remove();j.onDestroy.notify({});return this};this.getValue=function(){return i(h.text())};this.setValue=function(m){h.text(i(m));j.onChange.notify({value:m});return this};this.focus=function(){h.select();return this};function i(m){return m}f.extend(this,{onInitialize:new Small.Event.Handler(),onChange:new Small.Event.Handler(),onDestroy:new Small.Event.Handler()});j.onInitialize.notify({value:l})}function g(k){var j=this,l=k.value,h=f('<input type="text" class="grid-text-editor"/>').val(l);this.append=function(m){h.appendTo(m);return this};this.remove=function(){if(h&&h.length){h.detach()}return this};this.destroy=function(){h.remove();j.onDestroy.notify({});return this};this.getValue=function(){return i(h.val())};this.setValue=function(m){h.val(i(m));j.onChange.notify({value:m});return this};this.focus=function(){h.val(j.getValue()).select();return this};function i(m){return m}f.extend(this,{onInitialize:new Small.Event.Handler(),onChange:new Small.Event.Handler(),onDestroy:new Small.Event.Handler()});j.onInitialize.notify({value:l})}function c(i,h,j){if(j.Utils.isFunction(i,j.RowEditor)==true){return new j.RowEditor[i](h)}}})(jQuery);"use strict";(function(f){f.extend(true,window,{Small:{Cell:{Formatter:{Checkbox:c,Default:d,Float:b,Integer:a,None:e,Radio:g,Text:d}}}});function d(j,i,k,h){return(j!=undefined)?j.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}function c(j,i,k,h){return j?"<i class='fa fa-check-square-o'></i>":"<i class='fa fa-square-o'></i>"}function g(j,i,k,h){return j?"<i class='fa fa-dot-circle-o'></i>":"<i class='fa fa-circle-o'></i>"}function b(j,i,k,h){return(parseFloat(j)||0).toFixed(h.formatter.floatFormatter.decimals).replace(/\d(?=(\d{3})+\.)/g,"$&,")}function a(j,i,k,h){return(parseInt(j,10)||0).toFixed(h.formatter.integerFormatter.decimals).replace(/\d(?=(\d{3})+\.)/g,"$&,")}function e(j,i,k,h){return j}})(jQuery);"use strict";(function(b){b.extend(true,window,{Small:{Column:{Create:c,Model:d,ColumnData:a}}});function a(e){if("cellCssClass" in e){this.cellCssClass=e.cellCssClass}if("editable" in e){this.editable=e.editable}if("editor" in e){this.editor=e.editor}if("editMode" in e){this.editMode=e.editMode}if("field" in e){this.field=e.field}if("filterable" in e){this.filterable=e.filterable}if("formatter" in e){this.formatter=e.formatter}if("headerCssClass" in e){this.headerCssClass=e.headerCssClass}if("id" in e){this.id=e.id}if("item" in e){this.item=e.item}if("maxWidth" in e){this.maxWidth=e.maxWidth}if("minWidth" in e){this.minWidth=e.minWidth}if("name" in e){this.name=e.name}if("resizeable" in e){this.resizeable=e.resizeable}if("sortable" in e){this.sortable=e.sortable}if("sortOrder" in e){this.sortOrder=e.sortOrder}if("sortComparer" in e){this.sortComparer=e.sortComparer}if("width" in e){this.width=e.width}}a.prototype.cellCssClass="";a.prototype.editable=true;a.prototype.editor=undefined;a.prototype.editMode=false;a.prototype.field="";a.prototype.filterable=false;a.prototype.formatter="Default";a.prototype.headerCssClass="";a.prototype.id=undefined;a.prototype.item=null;a.prototype.maxWidth=9999;a.prototype.minWidth=25;a.prototype.name="";a.prototype.resizeable=true;a.prototype.sortable=true;a.prototype.sortComparer="Default";a.prototype.sortOrder=0;a.prototype.width=50;function d(u,T){var n=this;var W=[];function g(Y){if(W.length){W.forEach(Y)}return this}function H(Y){if(W.length){return W.filter(Y)}return[]}function q(Z,Y){if(W.length){return W.reduce(Z,Y)}}function V(Y){if(W.length){n.onChangeStart.notify();W.sort(Y);n.onChangeStop.notify()}return this}function t(){return W.length==0}function A(){return W.length}function R(){B(u)}function U(Y){return F(e(Y))}function B(Y){if(Y.length){n.onChangeStart.notify();for(var Z=0;Z<Y.length;Z++){U(Y[Z])}n.onChangeStop.notify()}return this}function k(Z){var Y=T.columns.idProperty;if(T.Utils.isProperty(Y,Z)){s(Z[Y])}return this}function r(){var Y=[];for(var Z=0;Z<W.length;Z++){Y.push(W[Z].item)}return Y}function p(Y){if(Y.length){n.onChangeStart.notify();var aa=[];for(var Z=0;Z<W.length;Z++){aa.push(W[Z].id)}W=[];for(var Z=0;Z<Y.length;Z++){U(Y[Z])}n.onChangeStop.notify()}return this}function L(Z){var Y=T.columns.idProperty;if(T.Utils.isProperty(Y,Z)){K(Z[Y],Z)}}function K(aa,Z){for(var Y=0;Y<W.length;Y++){if(W[Y].id==aa){W[Y].item=Z;n.onChange.notify({id:[aa]});break}}return this}function j(Y){if(Y.length){n.onChangeStart.notify();for(var Z=0;Z<Y.length;Z++){L(Y[Z])}n.onChangeStop.notify()}return this}function F(Y){if(Y instanceof a){W.push(Y);n.onChange.notify({id:[Y.id]})}return this}function P(Z){if(Z.length){n.onChangeStart.notify();for(var Y=0;Y<Z.length;Y++){F(Z[Y])}n.onChangeStop.notify()}return this}function h(Y){if(Y instanceof a){s(Y.id)}return this}function s(Z){for(var Y=0;Y<W.length;Y++){if(W[Y].id==Z){W.splice(Y,1);n.onChange.notify({id:[Z]});break}}return this}function f(Y){var Z=W[Y].id;W.splice(Y,1);n.onChange.notify({id:[Z]});return this}function m(){if(W.length){n.onChangeStop.notify();var Z=[];for(var Y=0;Y<W.length;Y++){Z.push(W[Y].id)}W=[];n.onChange.notify({id:Z});n.onChangeStop.notify()}return this}function y(Z){for(var Y=0;Y<W.length;Y++){if(W[Y].id==Z){return W[Y]}}}function E(Y){return W[Y]}function o(Y){return W[Y].id}function N(Z){for(var Y=0;Y<W.length;Y++){if(W[Y].id==Z){return Y}}return -1}function X(aa,Y){var Z=y(aa);if(Z&&Y&&Y in Z){return Z[Y]}}function M(Y,Z){var aa=E(Y);if(aa&&Z&&Z in aa){return aa[Z]}}function J(){return W}function x(Z,Y){w(N(Z),Y);return this}function w(Y,Z){if(Z instanceof a){W.splice(Y+1,0,Z);n.onChange.notify({id:[Z.id]})}return this}function G(Z,Y){Q(N(Z),Y);return this}function Q(Y,Z){if(Z instanceof a){W.splice(Y,0,Z);n.onChange.notify({id:[Z.id]})}return this}function z(ab,Z,Y){for(var aa=0;aa<W.length;aa++){if(W[aa].id==ab){if(Z&&Z in W[aa]){W[aa][Z]=Y;n.onChange.notify({id:[ab]})}break}}return this}function D(Y,aa,Z){if(aa&&aa in W[Y]){W[Y][aa]=Z;n.onChange.notify({id:[W[Y].id]})}return this}function l(Z){if(Z.length){n.onChangeStart.notify();var aa=[];for(var Y=0;Y<W.length;Y++){aa.push(W[Y].id)}W=[];for(var Y=0;Y<Z.length;Y++){F(Z[Y])}n.onChangeStop.notify()}return this}function S(Z,Y){for(var aa=0;aa<W.length;aa++){W[aa][Z]=Y}return this}function C(Y){if(Y instanceof a){W[idx]=Y;n.onChange.notify({id:[Y.id]})}return this}function O(aa,Z){for(var Y=0;Y<W.length;Y++){if(W[Y].id==aa){W[Y]=Z;n.onChange.notify({id:[aa]});break}}return this}function v(Y,Z){if(W[Y]){W[Y]=Z;n.onChange.notify({id:[Z.id]})}return this}function I(Z){if(Z.length){n.onChangeStart.notify();for(var Y=0;Y<Z.length;Y++){C(Z[Y])}n.onChangeStop.notify()}return this}function i(Z){if(T.columns.mapProperties==true){var Y=b.extend({item:Z},Z);return Y}return Y={name:Z.name,field:Z.field,item:Z}}function e(aa){var Z=new a(i(aa));var Y=T.columns.idProperty;if(T.Utils.isProperty(Y,Z)){Z.id=Z[Y]}else{Z.id=T.Utils.getNewGuid()}Z.width=Math.max(Math.min(parseInt(Z.width,10),Z.maxWidth),Z.minWidth);if(Z.sortComparer&&T.Utils.isFunction(Z.sortComparer,T.RowComparer)==false){delete Z.sortComparer}if(Z.formatter&&T.Utils.isFunction(Z.formatter,T.RowFormatter)==false){delete Z.formatter}if(Z.editor&&T.Utils.isFunction(Z.editor,T.RowEditor)==false){delete Z.editor}return Z}b.extend(this,{onChange:new Small.Event.Handler(),onChangeStart:new Small.Event.Handler(),onChangeStop:new Small.Event.Handler(),filter:H,forEach:g,reduce:q,sort:V,total:A,addItem:U,addItems:B,deleteItem:k,deleteItems:m,deleteItemById:s,getItems:r,setItems:p,updateItem:L,updateItemById:K,updateItems:j,addColumn:F,addColumns:P,createColumn:e,deleteColumn:h,deleteColumnById:s,deleteColumnByIndex:f,deleteColumns:m,getColumnById:y,getColumnByIndex:E,getColumnIdByIndex:o,getColumnIndexById:N,getColumnPropertyById:X,getColumnPropertyByIndex:M,getColumns:J,insertColumnAfterId:x,insertColumnAfterIndex:w,insertColumnBeforeId:G,insertColumnBeforeIndex:Q,isEmpty:t,setColumnPropertyById:z,setColumnPropertyByIndex:D,setColumns:l,setColumnsProperty:S,updateColumn:C,updateColumnById:O,updateColumnByIndex:v,updateColumns:I});R()}function c(f,e){return new d(f,e)}})(jQuery);"use strict";(function(c){c.extend(true,window,{Small:{Event:{Args:a,Handler:b}}});function a(d){for(var e in d){if(d.hasOwnProperty(e)){this[e]=d[e]}}var f=false;var g=false;this.stopPropagation=function(){f=true};this.isPropagationStopped=function(){return f};this.stopImmediatePropagation=function(){g=true};this.isImmediatePropagationStopped=function(){return g}}function b(){var d=[];this.subscribe=function(e){d.push(e);return this};this.unsubscribe=function(f){for(var e=d.length-1;e>=0;e--){if(d[e]===f){d.splice(e,1)}}return this};this.unsubscribeLast=function(){if(d.length){d.pop()}return this};this.unsubscribeAll=function(){d=[];return this};this.notify=function(g){if(typeof(g)!=a){g=new a(g)}for(var f=0;f<d.length&&!(g.isPropagationStopped()||g.isImmediatePropagationStopped());f++){if(d[f].call(this,g)===false){g.stopImmediatePropagation();break}}}}})(jQuery);"use strict";(function(b){b.extend(true,window,{Small:{Filter:{FilterQuery:a}}});function a(d,q){var k=this;var e=[];var l=q.Utils.getNewGuid();function h(){return l}function i(){return d}function n(){e=[];return this}function r(){return e}function j(u,v){if(u in this){return this[u](v||"")}throw"Type "+u+" not found"}function t(){e.push({action:"and"});return this}function f(){e.push({action:"or"});return this}function s(u){e.push({action:"eq",value:u});return this}function p(u){e.push({action:"neq",value:u});return this}function o(u){e.push({action:"startsWith",value:u});return this}function m(u){e.push({action:"endsWith",value:u});return this}function g(u){e.push({action:"contains",value:u});return this}function c(u){e.push({action:"doesNotContain",value:u});return this}b.extend(this,{getId:h,getField:i,clear:n,get:r,add:j,and:t,or:f,contains:g,doesnotcontain:c,endswith:m,eq:s,neq:p,startswith:o})}})(jQuery);"use strict";(function($){$.extend(true,window,{Small:{Filter:{FilterRequest:FilterRequest}}});function FilterRequest(filters,dataModel){function getRowsInRange(top,height,outerHeight){return dataModel.filter(new rowsRangeByHeight(top,height,outerHeight,getRowFilter()))}function getColumnsInRange(left,width,outerWidth){return dataModel.filter(new columnsRangeByWidth(left,width,outerWidth,getColumnFilter()))}function getColumnsWidth(width){return dataModel.reduce(new columnsFullWidth(width,getColumnFilter()),0)}function getRowsHeight(height){return dataModel.reduce(new itemFullHeight(height,getRowFilter()),0)}function getColumnFilter(){}function getRowFilter(){var resultQuery="";for(var i=0;i<filters.length;i++){var queries=filters[i].get(),field=filters[i].getField(),convertedQuery="";for(var ii=0;ii<queries.length;ii++){var query=queries[ii];switch(query.action){case"and":convertedQuery+=" && ";break;case"or":convertedQuery+=" || ";break;case"eq":convertedQuery+=" isEqual(item.item['"+field+"'], '"+query.value+"') == true ";break;case"neq":convertedQuery+=" isEqual(item.item['"+field+"'], '"+query.value+"') == false ";break;case"startsWith":convertedQuery+=" startsWith(item.item['"+field+"'], '"+query.value+"') == true ";break;case"endsWith":convertedQuery+=" endsWith(item.item['"+field+"'], '"+query.value+"') == true ";break;case"contains":convertedQuery+=" contains(item.item['"+field+"'], '"+query.value+"') == true ";break;case"doesNotContain":convertedQuery+=" contains(item.item['"+field+"'], '"+query.value+"') == false ";break}}if(convertedQuery.length){if(i!=0){resultQuery+=" && "}resultQuery+="("+convertedQuery+")"}}return resultQuery}function isEqual(str1,str2){return(str1==str2)}function startsWith(str,suffix){return(""+str).indexOf(suffix)==0}function endsWith(str,suffix){return(""+str).indexOf(suffix,str.length-suffix.length)!==-1}function contains(str,search){return(""+str).indexOf(search)!==-1}function columnsFullWidth(outerWidth,filter){return function(prev,item){if(filter&&eval(filter)==false){return prev}return prev+item.width+outerWidth}}function itemFullHeight(outerHeight,filter){return function(prev,item){if(filter&&eval(filter)==false){return prev}return prev+item.height+outerHeight}}function columnsRangeByWidth(center,width,outerWidth,filter){var calcWidth=0,min=center-2*width-outerWidth,max=center+2*width+outerWidth;return function(item,index,array){if(!(filter&&eval(filter)==false)){calcWidth+=outerWidth+item.width;if(min<=calcWidth&&calcWidth<=max){item.calcWidth=calcWidth;return true}}return false}}function rowsRangeByHeight(center,height,outerHeight,filter){var calcHeight=0,min=center-2*height-outerHeight,max=center+2*height+outerHeight;return function(item,index,array){if(!(filter&&eval(filter)==false)){calcHeight+=outerHeight+item.height;if(min<=calcHeight&&calcHeight<=max){item.calcHeight=calcHeight;return true}}return false}}$.extend(this,{getColumnsInRange:getColumnsInRange,getColumnsWidth:getColumnsWidth,getRowsHeight:getRowsHeight,getRowsInRange:getRowsInRange})}})(jQuery);"use strict";(function(b){b.extend(true,window,{Small:{Grid:{Create:c,Model:a}}});function a(p,g,t){var m=this;var l={};var o={};var f="0.1";function q(){l=new t.View.Create(p,t);l.setModel(g);s(t.plugins);l.render()}function u(){for(var v=0;v<o.length;v++){i(o[v])}}function d(){return l}function k(){return g}function r(){return t}function e(v){return o[v]!=undefined}function n(v){if(e(v)){i(v)}o[v]=new t.Plugins[v](g,l,t)}function s(w){for(var v=0;v<w.length;v++){n(w[v])}}function i(v){if(o[v]){o[v].destroy();delete o[v]}}function h(){var w=Object.keys(o);for(var v=0;v<w.length;v++){i(w[v])}}function j(){return f}b.extend(this,{init:q,destroy:u,getSettings:r,getVersion:j,getView:d,getViewModel:k,isRegisteredPlugin:e,registerPlugin:n,registerPlugins:s,unregisterPlugin:i,unregisterPlugins:h})}function c(i,h,f,g){var g=new Small.Settings.Create(g);var d=new Small.View.Model(new Small.Row.Create(h,g),new Small.Column.Create(f,g),g);var e=new a(i,d,g);if(g.explicitInitialization==false){e.init()}return e}})(jQuery);"use strict";(function(b){b.extend(true,window,{Small:{Handler:{Click:c}}});var a={rowIdentifier:"TR",cellIdentifier:"TD",handleClick:undefined,handleDblClick:undefined,handleContextMenu:undefined,handleKeyDown:undefined};function c(k,j){var j=jQuery.extend({},a,j);k.on("click",e).on("contextmenu",d).on("dblclick",i).on("keydown",f);function g(n){if(n&&n.target){var m=b(n.target).closest(j.cellIdentifier);if(m.length){var l=m.closest(j.rowIdentifier);if(l.length){return{cellIndex:m.index(),rowIndex:l.index(),event:n}}}}}function e(m){var l=g(m);if(l&&j.handleClick){j.handleClick(l)}}function d(m){var l=g(m);if(l&&j.handleContextMenu){j.handleContextMenu(l)}}function i(m){var l=g(m);if(l&&j.handleDblClick){j.handleDblClick(l)}}function f(m){var l=g(m);if(l&&j.handleKeyDown){j.handleKeyDown(l)}}function h(){k.off("click",e).off("contextmenu",d).off("dblclick",i).off("keydown",f)}b.extend(this,{destroy:h})}})(jQuery);"use strict";(function(b){b.extend(true,window,{Small:{Handler:{Resize:c}}});var a={cellIdentifier:"TD",handleResize:undefined,handleResizeStart:undefined,handleResizeStop:undefined,handlerIdentifier:undefined};function c(g,e){var e=jQuery.extend({},a,e);g.on("mousedown",e.handlerIdentifier,f);function f(j){var i=b(this).closest(e.cellIdentifier);if(i.length){var h=i.index();e.handleResizeStart({cellElement:i,cellIndex:h,event:j});b("body").bind("mousemove",function(l){var k=l.pageX-i.offset().left;if(k>0){e.handleResize({cellElement:i,cellIndex:h,width:k,event:j})}}).bind("mouseup",function(k){b(this).unbind("mousemove mouseup");e.handleResizeStop({cellElement:i,cellIndex:h,event:j})})}}function d(){g.off("mousedown",f)}b.extend(this,{destroy:d})}})(jQuery);"use strict";(function(c){c.extend(true,window,{Small:{Handler:{Scroll:a}}});var b={handleMouseWheel:undefined,handleMouseWheelStart:undefined,handleMouseWheelStop:undefined,handlescroll:undefined,handlescrollStart:undefined,handlescrollStop:undefined,latency:300,resetLeft:true,resetTop:true};function a(e,h){var h=jQuery.extend({},b,h);if(h.resetTop){e[0].scrollTop=0}if(h.resetLeft){e[0].scrollLeft=0}var k,j,i={scrollTop:e[0].scrollTop,scrollLeft:e[0].scrollLeft};e.on("scroll",g);e.on("wheel",d);function d(l){if(j){clearTimeout(j)}else{h.handleMouseWheelStart({event:l})}h.handleMouseWheel({event:l});j=setTimeout(function(){j=null;h.handleMouseWheelStop({event:l})},h.latency)}function g(m){var l={scrollTop:e[0].scrollTop,scrollLeft:e[0].scrollLeft};if(k){clearTimeout(k)}else{h.handleScrollStart({scrollTop:l.scrollTop,scrollLeft:l.scrollLeft,topDelta:l.scrollTop-i.scrollTop,leftDelta:l.scrollLeft-i.scrollLeft,event:m})}h.handleScroll({scrollTop:l.scrollTop,scrollLeft:l.scrollLeft,topDelta:l.scrollTop-i.scrollTop,leftDelta:l.scrollLeft-i.scrollLeft,event:m});k=setTimeout(function(){k=null;h.handleScrollStop({scrollTop:l.scrollTop,scrollLeft:l.scrollLeft,topDelta:l.scrollTop-i.scrollTop,leftDelta:l.scrollLeft-i.scrollLeft,event:m})},h.latency);i={scrollTop:l.scrollTop,scrollLeft:l.scrollLeft}}function f(){if(k){clearTimeout(k)}if(j){clearTimeout(j)}e.off("scroll",g);e.off("wheel",d)}c.extend(this,{destroy:f})}})(jQuery);"use strict";(function(e){e.extend(true,window,{Small:{Row:{Comparer:{Default:b,Date:d,Number:c,String:f}}}});function b(h){var g=h.sortOrder;return function(k,j){var i=(h.field in k.item)?k.item[h.field]:null,l=(h.field in j.item)?j.item[h.field]:null;if(i instanceof Date&&l instanceof Date){i=i.getTime();l=l.getTime()}else{if(!isNaN(parseFloat(i))&&isFinite(i)){i++;l++}else{if(i&&typeof i.toString==="function"&&l&&typeof l.toString==="function"){i=i.toString().toLowerCase();l=l.toString().toLowerCase()}}}return(i==l?0:(i>l?h.sortOrder:-h.sortOrder))}}function c(h){var g=h.sortOrder;return function(k,j){var i=(h.field in k.item)?k.item[h.field]:null,l=(h.field in j.item)?j.item[h.field]:null;return(i-l)*g}}function a(h){var g=h.sortOrder;return function(k,j){var i=(h.field in k.item)?k.item[h.field].toLowerCase():null,l=(h.field in j.item)?j.item[h.field].toLowerCase():null;return i.localeCompare(l)*g}}function f(h){var g=h.sortOrder;return function(k,j){var i=(h.field in k.item)?k.item[h.field].toLowerCase():null,l=(h.field in j.item)?j.item[h.field].toLowerCase():null;return(i==l?0:(i>l?1*g:-1*g))}}function d(h){var g=h.sortOrder;return function(k,j){var i=(h.field in k.item)?k.item[h.field]:null,l=(h.field in j.item)?j.item[h.field]:null;return(new Date(i)-new Date(l))*g}}})(jQuery);"use strict";(function(c){c.extend(true,window,{Small:{Row:{Create:d,Model:a,RowData:b}}});function b(e){if("cellCssClass" in e){this.cellCssClass=e.cellCssClass}if("disabled" in e){this.disabled=e.disabled}if("editable" in e){this.editable=e.editable}if("editMode" in e){this.editMode=e.editMode}if("height" in e){this.height=e.height}if("id" in e){this.id=e.id}if("item" in e){this.item=e.item}if("maxHeight" in e){this.maxHeight=e.maxHeight}if("minHeight" in e){this.minHeight=e.minHeight}if("rowCssClass" in e){this.rowCssClass=e.rowCssClass}}b.prototype.cellCssClass="";b.prototype.disabled=false;b.prototype.editable=true;b.prototype.editMode=false;b.prototype.height=25;b.prototype.id=undefined;b.prototype.item=null;b.prototype.maxHeight=200;b.prototype.minHeight=20;b.prototype.rowCssClass="";function a(y,U){var p=this;var X=[];function g(Y){if(X.length){X.forEach(Y)}return this}function J(Y){if(X.length){return X.filter(Y)}return[]}function t(Z,Y){if(X.length){return X.reduce(Z,Y)}}function W(Y){if(X.length){p.onChangeStart.notify();X.sort(Y);p.onChangeStop.notify()}return this}function w(){return X.length==0}function D(){return X.length}function S(){F(y)}function V(Y){return P(o(Y))}function F(Y){if(Y.length){p.onChangeStart.notify();for(var Z=0;Z<Y.length;Z++){V(Y[Z])}p.onChangeStop.notify()}return this}function n(Z){var Y=U.rows.idProperty;if(U.Utils.isProperty(Y,Z)){l(Z[Y])}return this}function u(){var Y=[];for(var Z=0;Z<X.length;Z++){Y.push(X[Z].item)}return Y}function s(Y){if(Y.length){p.onChangeStart.notify();var aa=[];for(var Z=0;Z<X.length;Z++){aa.push(X[Z].id)}X=[];for(var Z=0;Z<Y.length;Z++){V(Y[Z])}p.onChangeStop.notify()}return this}function N(Z){var Y=U.rows.idProperty;if(U.Utils.isProperty(Y,Z)){M(Z[Y],Z)}}function M(aa,Z){for(var Y=0;Y<X.length;Y++){if(X[Y].id==aa){X[Y].item=Z;p.onChange.notify({id:[aa]});break}}return this}function m(Y){if(Y.length){p.onChangeStart.notify();for(var Z=0;Z<Y.length;Z++){N(Y[Z])}p.onChangeStop.notify()}return this}function P(Y){if(Y instanceof b){X.push(Y);p.onChange.notify({id:[Y.id]})}return this}function q(Z){if(Z.length){p.onChangeStart.notify();for(var Y=0;Y<Z.length;Y++){P(Z[Y])}p.onChangeStop.notify()}return this}function G(Y){if(Y instanceof b){l(Y.id)}return this}function l(Z){for(var Y=0;Y<X.length;Y++){if(X[Y].id==Z){X.splice(Y,1);p.onChange.notify({id:[Z]});break}}return this}function I(Y){var Z=X[Y].id;X.splice(Y,1);p.onChange.notify({id:[Z]});return this}function A(){if(X.length){p.onChangeStop.notify();var Z=[];for(var Y=0;Y<X.length;Y++){Z.push(X[Y].id)}X=[];p.onChange.notify({id:Z});p.onChangeStop.notify()}return this}function H(Z){for(var Y=0;Y<X.length;Y++){if(X[Y].id==Z){return X[Y]}}}function T(Y){return X[Y]}function r(Y){return X[Y].id}function R(Z){for(var Y=0;Y<X.length;Y++){if(X[Y].id==Z){return Y}}return -1}function B(aa,Y){var Z=H(aa);if(Z&&Y&&Y in Z){return Z[Y]}}function i(Y,Z){var aa=T(Y);if(aa&&Z&&Z in aa){return aa[Z]}}function x(){return X}function f(Z,Y){C(R(Z),Y);return this}function C(Y,Z){if(Z instanceof b){X.splice(Y+1,0,Z);p.onChange.notify({id:[Z.id]})}return this}function v(Z,Y){O(R(Z),Y);return this}function O(Y,Z){if(Z instanceof b){X.splice(Y,0,Z);p.onChange.notify({id:[Z.id]})}return this}function Q(ab,Z,Y){for(var aa=0;aa<X.length;aa++){if(X[aa].id==ab){if(Z&&Z in X[aa]){X[aa][Z]=Y;p.onChange.notify({id:[ab]})}break}}return this}function K(Y,aa,Z){if(aa&&aa in X[Y]){X[Y][aa]=Z;p.onChange.notify({id:[X[Y].id]})}return this}function z(aa){if(aa.length){p.onChangeStart.notify();var Z=[];for(var Y=0;Y<X.length;Y++){Z.push(X[Y].id)}X=[];for(var Y=0;Y<aa.length;Y++){P(aa[Y])}p.onChangeStop.notify()}return this}function e(Z,Y){for(var aa=0;aa<X.length;aa++){X[aa][Z]=Y}return this}function L(Y){if(Y instanceof b){X[idx]=Y;p.onChange.notify({id:[Y.id]})}return this}function E(aa,Z){for(var Y=0;Y<X.length;Y++){if(X[Y].id==aa){X[Y]=Z;p.onChange.notify({id:[aa]});break}}return this}function k(Y,Z){if(X[Y]){X[Y]=Z;p.onChange.notify({id:[Z.id]})}return this}function h(Z){if(Z.length){p.onChangeStart.notify();for(var Y=0;Y<Z.length;Y++){L(Z[Y])}p.onChangeStop.notify()}return this}function j(Z){if(U.rows.mapProperties==true){var Y=c.extend({},Z);Y.item=Z;return Y}return{item:Z}}function o(Z){var aa=new b(j(Z));var Y=U.rows.idProperty;if(U.Utils.isProperty(Y,Z)){aa.id=Z[Y]}else{aa.id=U.Utils.getNewGuid()}aa.height=Math.max(Math.min(parseInt(aa.height,10),aa.maxHeight),aa.minHeight);return aa}c.extend(this,{onChange:new Small.Event.Handler(),onChangeStart:new Small.Event.Handler(),onChangeStop:new Small.Event.Handler(),filter:J,forEach:g,reduce:t,sort:W,total:D,addItem:V,addItems:F,deleteItem:n,deleteItems:A,deleteItemById:l,getItems:u,setItems:s,updateItem:N,updateItemById:M,updateItems:m,addRow:P,addRows:q,createRow:o,deleteRow:G,deleteRowById:l,deleteRowByIndex:I,deleteRows:A,getRowById:H,getRowByIndex:T,getRowIdByIndex:r,getRowIndexById:R,getRowPropertyById:B,getRowPropertyByIndex:i,getRows:x,insertRowAfterId:f,insertRowAfterIndex:C,insertRowBeforeId:v,insertRowBeforeIndex:O,isEmpty:w,setRowPropertyById:Q,setRowPropertyByIndex:K,setRows:z,setRowsProperty:e,updateRow:L,updateRowById:E,updateRowByIndex:k,updateRows:h});S()}function d(f,e){return new a(f,e)}})(jQuery);"use strict";(function(d){var h=function(){var k={};var j=[];for(var l=0;l<256;l++){j[l]=(l<16?"0":"")+l.toString(16)}k.newGuid=function(){var p=Math.random()*4294967295|0;var q=Math.random()*4294967295|0;var o=Math.random()*4294967295|0;var m=Math.random()*4294967295|0;return j[p&255]+j[p>>8&255]+j[p>>16&255]+j[p>>24&255]+"-"+j[q&255]+j[q>>8&255]+"-"+j[q>>16&15|64]+j[q>>24&255]+"-"+j[o&63|128]+j[o>>8&255]+"-"+j[o>>16&255]+j[o>>24&255]+j[m&255]+j[m>>8&255]+j[m>>16&255]+j[m>>24&255]};return k}();function c(k,j){return(j&&k&&k in j&&typeof(j[k])==="function")}function g(j,k){return(j&&j in k)}function b(j){return(/^true$/i).test(j)}function i(){var k=1000000,j=navigator.userAgent.toLowerCase().match(/firefox/)?6000000:1000000000,m=d('<div style="display:none" />').appendTo(document.body);while(true){var l=k*2;m.css("height",l);if(l>j||m.height()!==l){break}else{k=l}}m.remove();return k}function f(){var j=d('<div style="position:absolute; top:-100px; left:-100px; width:100px; height:100px; overflow:scroll;"></div>').appendTo("body");var k={width:j.width()-j[0].clientWidth,height:j.height()-j[0].clientHeight};j.remove();return k}function a(k){var j=d("<tr />").appendTo(k);var m=d("<td style='width:5px; height:5px;'>-</td>").appendTo(j);var l={width:m.outerWidth()-m.width(),height:m.outerHeight()-m.height()};m.remove();j.remove();return l}function e(j){return -1*(j<0?-1:1)}d.extend(true,window,{Small:{Utils:{changeSortOrder:e,getNewGuid:h.newGuid,isFunction:c,isProperty:g,measureCellDiff:a,measureMaxSupportedCssHeight:i,measureScrollbar:f,parseBool:b}}})})(jQuery);"use strict";(function(b){b.extend(true,window,{Small:{View:{Create:c}}});function a(aj,aA){var ar=this;var k;var C=true;var al=0;var m={width:0,height:0};var T={width:0,height:0};var d=[];var ay,n,R,av,E,p,W,Y,ad,V,B;function ac(){aj.empty().addClass(aA.uid);ay=b('<div class="small-grid grid-viewport"/>');n=b('<div class="grid-header disable-text-selection"/>');R=b('<div class="grid-canvas"/>');av=b('<div class="grid-footer"/>');ad=b('<div class="grid-header-wrap"/>');V=b('<table class="grid-header-table" border=1></table>');B=b("<tbody></tbody>");E=b('<div class="grid-table-wrap"/>');p=b('<table class="grid-table" border=1></table>');W=b("<colgroup></colgroup>");Y=b("<tbody></tbody>");n.appendTo(ay);R.appendTo(ay);av.appendTo(ay);B.appendTo(V);V.appendTo(ad);ad.appendTo(n);W.appendTo(p);Y.appendTo(p);p.appendTo(E);E.appendTo(R);if(aA.HandlerScroll){d.scroll=new aA.HandlerScroll(R,{handleScrollStart:e,handleScrollStop:aE,handleScroll:t,handleMouseWheelStart:f,handleMouseWheelStop:O,handleMouseWheel:X})}if(aA.HandlerResize){d.resize=new aA.HandlerResize(n,{handleResize:F,handleResizeStart:G,handleResizeStop:ax,handlerIdentifier:"."+aA.cssClass.headerResizeHandle})}if(aA.HandlerClick){d.header=new aA.HandlerClick(n,{handleClick:aD,handleDblClick:ag,handleContextMenu:M})}if(aA.HandlerClick){d.canvas=new aA.HandlerClick(R,{handleClick:aq,handleDblClick:o,handleContextMenu:Z,handleKeyDown:an})}b(document.body).on("click",D);ay.appendTo(aj);T=aA.Utils.measureCellDiff(Y);m={width:aj.width(),height:aj.height()};R.width(m.width);R.height(m.height);n.width(m.width-aA.scrollbarDimensions.width);ar.onInitialize.notify({})}function aw(){return aj}function q(){return ay}function am(aG,aH){return K(aG)&&I(aH)}function K(aH){var aG=k.getColumnById(aH);if(aG){if(aG.calcWidth-aG.width-T.width>=R[0].scrollLeft&&aG.calcWidth<m.width+R[0].scrollLeft){return true}}return false}function I(aG){var aH=k.getRowById(aG);if(aH){if(aH.calcHeight-aH.height-T.height>=R[0].scrollTop&&aH.calcHeight+aH.height+T.height<m.height+R[0].scrollTop){return true}}return false}function ak(aG){return Y[0].rows[aG]}function i(aG,aH){return Y[0].rows[aH].cells[aG]}function az(aG){if(k){var aH=k.getRowIndexById(aG);if(aH!=-1){return ak(aH)}}}function l(aH,aI){var aJ=k.getRowIndexById(aI);var aG=k.getColumnIndexById(aH);if(aJ!=-1&&aG!=-1){return i(aG,aJ)}}function v(aI,aH){var aJ=V.find("tr > td:nth-child("+(aI)+")");if(aJ){aJ.css("width",aH)}var aG=p.find("colgroup > col:nth-child("+(aI)+")");if(aG){aG.css("width",aH+T.width)}}function Q(aG){B.find("."+aG+"_disabled").toggleClass(aG+"_disabled "+aG)}function z(aG){B.find("."+aG).toggleClass(aG+" "+aG+"_disabled")}function aa(aG){ay.addClass(aG)}function s(aG){ay.removeClass(aG)}function u(){var aG=("getSelection" in window)?window.getSelection():("selection" in document)?document.selection:null;try{if("removeAllRanges" in aG){aG.removeAllRanges()}else{if("empty" in aG){aG.empty()}}}catch(aH){}}function g(aG){S(true);k=aG;k.onRowsChange.subscribe(aF);k.onColumnsChange.subscribe(ap);k.onDataChange.subscribe(ao);k.onDataChangeStart.subscribe(r);k.onDataChangeStop.subscribe(af);S(false)}function P(){al++;if(C==false){ah()}return this}function ah(){if(C==false&&al>0){al=0;k.requestDataFromRange({top:R[0].scrollTop,left:R[0].scrollLeft},m,T)}return this}function w(){return C}function S(aG){C=aG;return this}function h(){S(true);if(k){k.onRowsChange.unsubscribe(aF);k.onColumnsChange.unsubscribe(ap);k.onDataChange.unsubscribe(ao);k.onDataChangeStart.unsubscribe(r);k.onDataChangeStop.unsubscribe(af)}if(aj.length){for(var aG=0;aG<d.length;aG++){d[aG].destroy()}aj.empty().removeClass(uid)}b(document.body).off("click",D);ar.onDestroy.notify({})}function A(aH,aG,aI){ar.onBeforeRowsRendered.notify({});B[0].innerHTML=aH;W[0].innerHTML=aG;Y[0].innerHTML=aI;ar.onAfterRowsRendered.notify({})}function ai(aI){var aH='<tr class="'+aA.cssClass.headerRow+'">';for(var aG=0;aG<aI.length;aG++){aH+=j(aI[aG])}return aH+aB()+"</tr>"}function aB(){return"<td class='"+aA.cssClass.headerCell+"' style='height:"+aA.columns.header.height+"px'></td>"}function j(aI){var aJ="",aH,aG=aA.cssClass.headerCell;if(aI.headerCssClass){aG+=" "+aI.headerCssClass}if(aI.name){aJ+=aI.name}if(aI.sortable||aI.filterable){aG+=" "+aA.cssClass.cursorPointer}var aH="<td style='width:"+(aI.width)+"px;height:"+aA.columns.header.height+"px' class='"+aG+"'><div class='"+aA.cssClass.headerRowDiv+"'><span class='"+aA.cssClass.headerColumnName+"'>"+aJ+"</span>";if(aI.sortable&&aI.sortOrder!=0){aH+="<span class='"+((aI.sortOrder==1)?aA.cssClass.headerSortUp:aA.cssClass.headerSortDown)+"'></span>"}if(aI.filterable){aH+="<span class='"+aA.cssClass.headerFilter+"'></span>"}if(aI.resizeable){aH+="<span class='"+aA.cssClass.headerResizeHandle+"'></span>"}return aH+"</div></td>"}function U(aI){var aH="";for(var aG=0;aG<aI.length;aG++){aH+=N(aI[aG])}return aH+at()}function at(){return"<col class='"+aA.cssClass.col+"' style='width:0px;' />"}function N(aH){var aG=aA.cssClass.col;if(aH.headerCssClass){aG+=" "+columns.headerCssClass}return"<col style='width:"+(aH.width+T.width)+"px;' class='"+aG+"'/>"}function x(aI,aJ){var aH="";for(var aG=0;aG<aJ.length;aG++){aH+=ab(aI,aJ[aG],aG)}return aH}function ab(aJ,aL,aG){var aK=aA.cssClass.row+((aG&1==1)?" "+aA.cssClass.rowEven:" "+aA.cssClass.rowOdd);if(aL.rowCssClass){aK+=" "+aL.rowCssClass}if(aA.rows.formatter){aL=aA.rows.formatter(aL,aJ)}var aI="<tr class='"+aK+"'>";for(var aH=0;aH<aJ.length;aH++){aI+=ae(aJ[aH],aL)}return aI+L()+"</tr>"}function L(){return"<td class='"+aA.cssClass.cell+"'></td>"}function ae(aH,aI){var aG=aA.cssClass.cell;if(aH.cellCssClass){aG+=" "+aH.cellCssClass}if(aI.cellCssClass&&aH.field in aI.cellCssClass){aG+=" "+aI.cellCssClass[aH.field]}return"<td height='"+aI.height+"' class='"+aG+"'>"+y(aH,aI)+"</td>"}function y(aG,aI){var aH="";if(aG.field in aI.item&&(aI.editMode===false||aG.editMode===false)){aH=(aG.formatter)?aA.RowFormatter[aG.formatter](aI.item[aG.field],aG,aI,aA):aI.item[aG.field]}return aH}function H(aI,aH){var aG="";if(aH.resizeable&&aI.indexOf(aA.cssClass.headerResizeHandle)!=-1){aG="resize"}else{if(aH.filterable&&aI.indexOf(aA.cssClass.headerFilter)!=-1){aG="filter"}else{if(aH.sortable){aG="sort"}}}return aG}function aC(aI,aH,aJ){var aG="";if(aJ.editable==true&&aH.editable==true){aG="edit"}else{if(aJ.disabled==true){aG="disabled"}}return aG}function au(aH){var aG=k.getColumnByIndex(aH.cellIndex);if(aG){aH.type=H(b(aH.event.target).attr("class"),aG);aH.targetClass=b(aH.event.target).attr("class"),aH.column=aG;return aH}}function J(aH){var aG=k.getColumnByIndex(aH.cellIndex);var aI=k.getRowByIndex(aH.rowIndex);if(aG&&aG.field.length>0&&aI&&aG.field in aI.item){aH.type=aC(b(aH.event.target).attr("class"),aG,aI);aH.row=aI;aH.column=aG;return aH}}function aF(aH){if(k){var aG=k.getRowsHeight(T);E.css({height:aG})}}function ap(aH){if(k){var aG=k.getColumnsWidth(T);ad.css({width:aG});E.css({width:aG})}}function ao(aG){P()}function r(aG){S(true)}function af(aG){if(aG.rows.length>0&&aG.columns.length>0){V.css({left:aG.columns[0].calcWidth-aG.columns[0].width-T.width});p.css({top:aG.rows[0].calcHeight-aG.rows[0].height-T.height,left:aG.columns[0].calcWidth-aG.columns[0].width-T.width});A(ai(aG.columns),U(aG.columns),x(aG.columns,aG.rows))}S(false)}function aq(aH){var aG=J(aH);if(aG){S(true);ar.onCellClick.notify(aG);S(false);ah()}}function o(aH){var aG=J(aH);if(aG){S(true);ar.onCellDblClick.notify(aG);S(false);ah()}}function Z(aH){var aG=J(aH);if(aG){S(true);ar.onCellContextMenu.notify(aG);S(false);ah()}}function an(aH){var aG=J(aH);if(aG){S(true);ar.onCellKeyDown.notify(aG);S(false);ah()}}function F(aG){S(true);ar.onColumnResize.notify(aG);S(false);ah()}function G(aG){S(true);ar.onColumnResizeStart.notify(aG);S(false);ah()}function ax(aG){S(true);ar.onColumnResizeStop.notify(aG);S(false);ah()}function f(aG){S(true);ar.onMouseWheelStart.notify(aG);S(false);ah()}function O(aG){S(true);ar.onMouseWheelStop.notify(aG);S(false);ah()}function X(aG){S(true);ar.onMouseWheel.notify(aG);S(false);ah()}function e(aG){S(true);ar.onScrollStart.notify(aG);S(false);ah()}function aE(aG){S(true);ar.onScrollStop.notify(aG);S(false);ah()}function t(aG){ar.suspendRender(true);n[0].scrollLeft=R[0].scrollLeft;ar.onScroll.notify(aG);ar.suspendRender(false);P()}function D(aG){S(true);ar.onBodyClick.notify({event:aG});S(false);ah()}function aD(aH){var aG=au(aH);if(aG){S(true);ar.onHeaderClick.notify(aG);S(false);ah()}}function M(aH){var aG=au(aH);if(aG){S(true);ar.onHeaderContextMenu.notify(aG);S(false);ah()}}function ag(aH){var aG=au(aH);if(aG){S(true);ar.onHeaderDblClick.notify(aG);S(false);ah()}}b.extend(this,{destroy:h,onScroll:new Small.Event.Handler(),onScrollStart:new Small.Event.Handler(),onScrollStop:new Small.Event.Handler(),onMouseWheel:new Small.Event.Handler(),onMouseWheelStart:new Small.Event.Handler(),onMouseWheelStop:new Small.Event.Handler(),onBodyClick:new Small.Event.Handler(),onHeaderClick:new Small.Event.Handler(),onHeaderContextMenu:new Small.Event.Handler(),onHeaderDblClick:new Small.Event.Handler(),onHeaderFilter:new Small.Event.Handler(),onHeaderResize:new Small.Event.Handler(),onHeaderSort:new Small.Event.Handler(),onCellClick:new Small.Event.Handler(),onCellContextMenu:new Small.Event.Handler(),onCellDblClick:new Small.Event.Handler(),onCellKeyDown:new Small.Event.Handler(),onColumnResize:new Small.Event.Handler(),onColumnResizeStart:new Small.Event.Handler(),onColumnResizeStop:new Small.Event.Handler(),onAfterRowsRendered:new Small.Event.Handler(),onBeforeRowsRendered:new Small.Event.Handler(),onInitialize:new Small.Event.Handler(),onDestroy:new Small.Event.Handler(),getContainerNode:aw,getViewPortNode:q,getRowNodeById:az,getRowNodeByIndex:ak,getCellNodeByIndex:i,getCellNodeById:l,isCellVisible:am,addViewPortClass:aa,disableHeaderClass:z,enableHeaderClass:Q,removeViewPortClass:s,setColumnWidthByIndex:v,removeAllTextSelections:u,isRenderSuspended:w,render:P,setModel:g,suspendRender:S});ac()}function c(g,f,d,e){g=b(g);if(g.length<1){throw new Error("Small grid requires a valid container, "+container+" does not exist in the DOM.")}return new a(g,f,d,e)}})(jQuery);"use strict";(function(b){b.extend(true,window,{Small:{View:{Model:a}}});function a(l,m,G){var A=this;var e=m;var w=l;var x=[];var y=[];var v=[];var n=[];var c=[];var s={minTop:-1,maxTop:-1,minLeft:-1,maxLeft:-1};function C(){l.onChange.subscribe(D);m.onChange.subscribe(k);return this}function H(){l.onChange.unsubscribe(D);m.onChange.unsubscribe(k)}function k(){q();A.onDataChange.notify()}function D(){B();A.onDataChange.notify()}function I(K){return x[K]}function j(K){return y[K]}function u(L){for(var K=0;K<x.length;K++){if(x[K].id==L){return K}}return -1}function J(L){for(var K=0;K<y.length;K++){if(y[K].id==L){return K}}return -1}function t(L){for(var K=0;K<x.length;K++){if(x[K].id==L){return x[K]}}}function p(L){for(var K=0;K<y.length;K++){if(y[K].id==L){return y[K]}}}function f(){return v}function h(K){if(K instanceof G.Filter.FilterQuery){F(K);v.push(K);B();A.onDataChange.notify()}}function d(L){v=[];for(var K=0;K<L.length;K++){v.push(L[K])}B();A.onDataChange.notify()}function F(L){if(L instanceof G.Filter.FilterQuery){for(var K=0;K<v.length;K++){if(v[K].getId()==L.getId()){v.splice(K,1);B();A.onDataChange.notify();break}}}}function i(){v=[];B();A.onDataChange.notify()}function E(K){return new G.Filter.FilterRequest(v,l).getRowsHeight(K.height)}function g(K){return new G.Filter.FilterRequest(n,m).getColumnsWidth(K.width)}function r(K,N,L){var M=(s.minTop<=K.top&&K.top<=s.maxTop);var O=(s.minLeft<=K.left&&K.left<=s.maxLeft);if(M==false||O==false){A.onDataChangeStart.notify();if(M==false){x=new G.Filter.FilterRequest(v,l).getRowsInRange(K.top,N.height,L.height);A.onRowsChange.notify()}if(O==false){y=new G.Filter.FilterRequest(n,m).getColumnsInRange(K.left,N.width,L.width);A.onColumnsChange.notify()}z(K,N,L);A.onDataChangeStop.notify({rows:x,columns:y})}}function z(K,M,L){if(y.length&&x.length){s={minTop:x[0].calcHeight<M.height?x[0].calcHeight-x[0].height-L.height:x[0].calcHeight+M.height,maxTop:x[(x.length-1)].calcHeight<M.height?M.height:x[(x.length-1)].calcHeight-M.height+G.scrollbarDimensions.height,minLeft:y[0].calcWidth<M.width?y[0].calcWidth-y[0].width-L.width:y[0].calcWidth+M.width,maxLeft:y[(y.length-1)].calcWidth<M.width?M.width:y[(y.length-1)].calcWidth-M.width+G.scrollbarDimensions.width}}else{o()}}function B(){s.minTop=-1;s.maxTop=-1}function q(){s.minLeft=-1;s.maxLeft=-1}function o(){B();q()}C();b.extend(this,{init:C,destroy:H,resetCacheRange:o,requestDataFromRange:r,rows:w,columns:e,getRowsHeight:E,getColumnsWidth:g,getRowByIndex:I,getColumnByIndex:j,getRowById:t,getColumnById:p,getRowIndexById:u,getColumnIndexById:J,setFilter:h,clearFilter:F,clearFilters:i,onRowsChange:new Small.Event.Handler(),onColumnsChange:new Small.Event.Handler(),onDataChange:new Small.Event.Handler(),onDataChangeStart:new Small.Event.Handler(),onDataChangeStop:new Small.Event.Handler()})}})(jQuery);"use strict";(function(b){b.extend(true,window,{Small:{Plugins:{CellEdit:a}}});function a(f,h,q){var o=this;var i=[];var k={enabled:false};function p(){h.onAfterRowsRendered.subscribe(s);h.onBeforeRowsRendered.subscribe(j);h.onCellClick.subscribe(r);h.onCellDblClick.subscribe(g);h.onCellKeyDown.subscribe(c);h.onScrollStop.subscribe(m)}function t(){h.onAfterRowsRendered.unsubscribe(s);h.onBeforeRowsRendered.unsubscribe(j);h.onCellClick.unsubscribe(r);h.onCellDblClick.unsubscribe(g);h.onCellKeyDown.unsubscribe(c);h.onScrollStop.unsubscribe(m)}function m(v){if(u()==true&&q.edit.autoFocus==true){if(h.isCellVisible(k.column.id,k.row.id)){k.editor.focus()}}}function j(v){if(u()==true){k.editor.remove()}}function s(w){if(u()==true){var v=h.getCellNodeById(k.column.id,k.row.id);if(v){k.editor.append(v);if(k.addFocus==true){k.addFocus=false;k.editor.focus()}}}}function g(v){if(q.edit.editOnClick==false){e(v.column.id,v.row.id)}}function r(v){if(q.edit.editOnClick==true){e(v.column.id,v.row.id)}}function c(v){if(v&&v.event){switch(v.event.keyCode){case 13:n();break;case 27:l();break}}}function e(w,x){if(u()==true){if(k.column.id!=w||k.row.id!=x){n()}}if(u()==false){var v=f.getColumnById(w);var y=f.getRowById(x);if(y&&v&&y.editable&&v.editable&&v.editor){k={enabled:true,addFocus:true,row:y,column:v,editor:new q.RowEditor.Create(v.editor,{value:y.item[v.field]},q)};f.columns.setColumnPropertyById(v.id,"editMode",true);f.rows.setRowPropertyById(y.id,"editMode",true)}}}function d(){if(k.enabled==true){return k.editor}}function u(){return(k.enabled==true)}function n(){if(k.enabled==true){f.columns.setColumnPropertyById(k.column.id,"editMode",false);var v=f.rows.getRowById(k.row.id);if(v){v.item[k.column.field]=k.editor.getValue();v.editMode=false;f.rows.updateItem(v)}k.editor.destroy();k={enabled:false}}return this}function l(){if(k.enabled==true){f.columns.setColumnPropertyById(k.column.id,"editMode",false);var v=f.rows.getRowById(k.row.id);if(v){v.editMode=false;f.rows.updateItem(v)}k.editor.destroy();k={enabled:false}}return this}b.extend(this,{init:p,destroy:t,applyEdit:n,cancelEdit:l,editCellById:e,getEditor:d,isEditMode:u});p()}})(jQuery);"use strict";(function(c){c.extend(true,window,{Small:{Plugins:{Filter:a,FilterMenu:b}}});function b(h,r,i){var t=this;var p=c("<div class='grid-header-menu'></div>").hide();var e=new i.Filter.FilterQuery(h.field,i);function s(){var u=c("<form>").appendTo(p);var v=c('<div class="grid-header-menucontent"></div>').append('<select name="type1"><option value="contains">Contains</option><option value="doesnotcontain">Does not contains</option><option value="eq">Is equal to</option><option value="neq">Is not equal to</option><option value="startswith">Starts with</option><option value="endswith">Ends with</option></select>').append('<input type="text" name="value1" value=""/>').append('<select name="operator"><option value="and">And</option><option value="or">Or</option></select>').append('<select name="type2"><option value="contains">Contains</option><option value="doesnotcontain">Does not contains</option><option value="eq">Is equal to</option><option value="neq">Is not equal to</option><option value="startswith">Starts with</option><option value="endswith">Ends with</option></select>').append('<input type="text" name="value2" value=""/>').append('<input type="submit" name="Filter" value="Filter" class="btn btn-primary"/>').append('<input type="reset" name="Clear" value="Clear" class="btn"/>').appendTo(u);p.on("click",q);u.on("submit",j);u.on("reset",k);p.appendTo(r);return this}function o(){p.remove()}function g(u){var y={width:r.width(),left:r.offset().left};var x={width:p.width(),height:p.height()};var v={left:u.offset().left,top:u.offset().top,width:u.width(),height:u.height()};var w=(x.width+v.left>y.width&&x.width<v.left-y.left)?v.left+v.width-x.width:v.left;p.offset({top:v.top+v.height,left:w});return this}function n(){p.show();return this}function l(){p.hide();return this}function d(){return{value:[p.find("input[name='value1']").val(),p.find("input[name='value2']").val()],type:[p.find("select[name='type1']").val(),p.find("select[name='type2']").val()],operator:p.find("select[name='operator']").val()}}function f(){return h.id}function m(){return e}function j(v){v.preventDefault();var u=d();e.clear();e.add(u.type[0],u.value[0]);if(u.value[1]){e.add(u.operator);e.add(u.type[1],u.value[1])}t.onSubmit.notify();l()}function k(u){u.preventDefault();t.onClear.notify({});l()}function q(u){u.stopPropagation()}c.extend(this,{onSubmit:new Small.Event.Handler(),onClear:new Small.Event.Handler(),init:s,destroy:o,getFilter:m,getId:f,hide:l,setupMenu:g,show:n})}function a(p,n,h){var s=this;var d=[];var g=0;function r(){n.onBeforeRowsRendered.subscribe(l);n.onBodyClick.subscribe(l);n.onColumnResizeStart.subscribe(l);n.onHeaderClick.subscribe(q);n.onScrollStart.subscribe(l)}function o(){n.onBeforeRowsRendered.unsubscribe(l);n.onBodyClick.unsubscribe(l);n.onColumnResizeStart.unsubscribe(l);n.onHeaderClick.unsubscribe(q);n.onScrollStart.unsubscribe(l);for(var t=0;t<d.length;t++){var u=d[t];u.onSubmit.unsubscribe(i);u.onClear.unsubscribe(j);u.destroy()}d=[]}function q(t){if(t&&t.type&&t.type=="filter"){t.event.stopPropagation();if(!m(t.column.id)){var u=new b(t.column,n.getContainerNode(),h).init().show().setupMenu(c(t.event.target));u.onSubmit.subscribe(i);u.onClear.subscribe(j);d.push(u)}if(g!==t.column.id){e();k(t.column.id)}else{if(g){e()}else{k(t.column.id)}}}}function l(t){if(g){e()}}function i(u){if(g){for(var t=0;t<d.length;t++){if(d[t].getId()==g){p.setFilter(d[t].getFilter());break}}e()}}function j(u){if(g){for(var t=0;t<d.length;t++){if(d[t].getId()==g){p.clearFilter(d[t].getFilter());break}}e()}}function m(u){for(var t=0;t<d.length;t++){if(d[t].getId()==u){return true}}return false}function f(u){for(var t=0;t<d.length;t++){if(d[t].getId()==u){return d[t]}}}function k(u){var t=f(u);if(t){t.show();g=u}}function e(){var t=f(g);if(t){t.hide();g=0}}c.extend(this,{init:r,destroy:o});r()}})(jQuery);"use strict";(function(b){b.extend(true,window,{Small:{Plugins:{ColumnResize:a}}});function a(k,i,f){var m=this;var g;var d;function l(){i.onColumnResize.subscribe(c);i.onColumnResizeStart.subscribe(e);i.onColumnResizeStop.subscribe(h)}function j(){i.onColumnResize.unsubscribe(c);i.onColumnResizeStart.subscribe(e);i.onColumnResizeStop.subscribe(h)}function c(n){if(g){d=Math.max(Math.min(parseInt(n.width,10),g.maxWidth),g.minWidth);i.setColumnWidthByIndex(n.cellIndex+1,d)}}function e(n){g=k.getColumnByIndex(n.cellIndex);if(g){i.disableHeaderClass(f.cssClass.cursorPointer);i.addViewPortClass(f.cssClass.cursorResize)}}function h(n){if(g){if(d){k.columns.setColumnPropertyById(g.id,"width",d)}i.enableHeaderClass(f.cssClass.cursorPointer);i.removeViewPortClass(f.cssClass.cursorResize)}}b.extend(this,{init:l,destroy:j});l()}})(jQuery);"use strict";(function(b){b.extend(true,window,{Small:{Plugins:{ColumnSort:a}}});function a(f,d,h){var e=this;function j(){d.onHeaderClick.subscribe(i)}function g(){d.onHeaderClick.unsubscribe(i)}function i(m){if(m&&m.type&&m.type=="sort"){f.resetCacheRange();var l=m.column;var k=h.Utils.changeSortOrder(l.sortOrder);f.columns.setColumnsProperty("sortOrder",0);f.columns.setColumnPropertyById(l.id,"sortOrder",k);f.rows.sort(h.RowComparer[l.sortComparer]({sortOrder:k,field:l.field}))}}function c(k,l){}b.extend(this,{init:j,destroy:g});j()}})(jQuery);"use strict";(function(a){a.extend(true,window,{Small:{Plugins:{RowSelection:b}}});function b(m,k,g){var q=this;var f=[];function p(){k.onCellClick.subscribe(n);k.onCellKeyDown.subscribe(h)}function l(){k.onCellClick.unsubscribe(n);k.onCellKeyDown.unsubscribe(h)}function n(r){c(r.row.id)}function h(r){}function o(s){if(d(s)===false){var r=m.rows.getRowById(s);if(r){m.rows.setRowPropertyById(s,"rowCssClass",r.rowCssClass+" "+g.cssClass.rowSelected);f.push(s)}}}function e(s){if(g.allowMultiRowSelection==true){for(var r=0;r<s.length;r++){var t=m.rows.getRowById(s);if(t){o(t.id)}}}return this}function j(t){if(f.length){for(var r=0;r<f.length;r++){if(f[r]==t){continue}var s=m.rows.getRowById(f[r]);if(s){m.rows.setRowPropertyById(s.id,"rowCssClass",s.rowCssClass.replace(" "+g.cssClass.rowSelected,""))}f.splice(r,1)}}return this}function d(r){return(f.indexOf(r)!==-1)}function c(r){if(g.allowMultiRowSelection==false){j(r)}o(r)}function i(){return f}a.extend(this,{init:p,destroy:l,clearSelectedRows:j,getSelectedRows:i,isRowSelected:d,setSelectedRow:c,setSelectedRows:e});p()}})(jQuery);"use strict";if(typeof jQuery==="undefined"){throw"Small grid requires jquery module to be loaded"}(function(f){function b(j){var k=window;var g=j.split(".");for(var h=0;h<g.length;++h){k=k[g[h]]}return k}function c(i){for(var g in a){var h=b(a[g]);if(h){i[g]=h}}}var a={Event:"Small.Event",HandlerClick:"Small.Handler.Click",HandlerResize:"Small.Handler.Resize",HandlerScroll:"Small.Handler.Scroll",Plugins:"Small.Plugins",RowComparer:"Small.Row.Comparer",Filter:"Small.Filter",RowEditor:"Small.Cell.Editor",RowFormatter:"Small.Cell.Formatter",Utils:"Small.Utils",View:"Small.View"};var e={maxSupportedCssHeight:undefined,scrollbarDimensions:undefined,explicitInitialization:false,uid:undefined,uidPrefix:"smallgrid_",allowMultiRowSelection:false,edit:{editOnClick:false,autoFocus:true},cssClass:{cell:"grid-td grid-td-div",col:"grid-col",cursorPointer:"grid-cursor-pointer",cursorResize:"grid-cursor-resize",headerCell:"grid-header-cell",headerColumnName:"grid-column-name",headerFilter:"grid-header-filter",headerResizeHandle:"grid-resizable-handle",headerRow:"grid-header-row",headerRowDiv:"grid-header-td-div",headerSortable:"grid-sortable",headerSortDown:"grid-sort-icon grid-sort-icon-desc",headerSortUp:"grid-sort-icon grid-sort-icon-asc",row:"grid-tr",rowEven:"grid-tr-even",rowOdd:"grid-tr-odd",rowSelected:"grid-row-selected"},columns:{idProperty:undefined,mapProperties:true,header:{height:20}},rows:{idProperty:undefined,mapProperties:true,formatter:undefined,editable:true,selectable:true},formatter:{floatFormatter:{decimals:2},integerFormatter:{decimals:2}},plugins:["ColumnSort","ColumnResize","RowSelection","CellEdit","Filter"]};function d(g){var g=jQuery.extend(true,e,g);if(g.maxSupportedCssHeight==undefined){e.maxSupportedCssHeight=g.maxSupportedCssHeight=g.Utils.measureMaxSupportedCssHeight()}if(g.scrollbarDimensions==undefined){e.scrollbarDimensions=g.scrollbarDimensions=g.Utils.measureScrollbar()}g.uid=g.uid||g.Utils.getNewGuid();return g}c(e);f.extend(true,window,{Small:{Settings:{Create:d,Default:e}}})})(jQuery);
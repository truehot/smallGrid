"use strict";(function(g){g.extend(true,window,{SmallGrid:{Cell:{Editor:{Create:c,Checkbox:e,Float:a,Integer:b,None:d,Text:h}}}});function e(l){var k=this,m=l.value,i=g('<input type="checkbox" class="grid-checkbox-editor" />').val(m);this.append=function(n){i.appendTo(n);return this};this.remove=function(){if(i&&i.length){i.detach()}return this};this.destroy=function(){i.remove();k.onDestroy.notify({});return this};this.getValue=function(){return j(i.prop("checked"))};this.setValue=function(n){i.prop("checked",j(n));k.onChange.notify({value:n});return this};this.focus=function(){i.val(k.getValue()).focus();return this};function j(n){return(/^true$/i).test(n)}g.extend(this,{onInitialize:new SmallGrid.Event.Handler(),onChange:new SmallGrid.Event.Handler(),onDestroy:new SmallGrid.Event.Handler()});k.onInitialize.notify({value:m})}function a(l){var k=this,m=l.value,i=g('<input type="text" class="grid-float-editor" />').val(m);this.append=function(n){i.appendTo(n);return this};this.remove=function(){if(i&&i.length){i.detach()}return this};this.destroy=function(){i.remove();k.onDestroy.notify({});return this};this.getValue=function(){return j(i.val())};this.setValue=function(n){i.val(j(n));k.onChange.notify({value:n});return this};this.focus=function(){i.val(k.getValue()).select();return this};function j(n){return parseFloat(n,10)||0}g.extend(this,{onInitialize:new SmallGrid.Event.Handler(),onChange:new SmallGrid.Event.Handler(),onDestroy:new SmallGrid.Event.Handler()});k.onInitialize.notify({value:m})}function b(l){var k=this,m=l.value,i=g('<input type="text" class="grid-integer-editor" />').val(m);this.append=function(n){i.appendTo(n);return this};this.remove=function(){if(i&&i.length){i.detach()}return this};this.destroy=function(){i.remove();k.onDestroy.notify({});return this};this.getValue=function(){return j(i.val())};this.setValue=function(n){i.val(j(n));k.onChange.notify({value:n});return this};this.focus=function(){i.val(k.getValue()).select();return this};function j(n){return parseInt(n,10)||0}g.extend(this,{onInitialize:new SmallGrid.Event.Handler(),onChange:new SmallGrid.Event.Handler(),onDestroy:new SmallGrid.Event.Handler()});k.onInitialize.notify({value:m})}function d(l){var k=this,m=l.value,i=g("<span class='grid-none-editor' />").text(m);this.append=function(n){i.appendTo(n);return this};this.remove=function(){if(i&&i.length){i.detach()}return this};this.destroy=function(){i.remove();k.onDestroy.notify({});return this};this.getValue=function(){return j(i.text())};this.setValue=function(n){i.text(j(n));k.onChange.notify({value:n});return this};this.focus=function(){i.select();return this};function j(n){return n}g.extend(this,{onInitialize:new SmallGrid.Event.Handler(),onChange:new SmallGrid.Event.Handler(),onDestroy:new SmallGrid.Event.Handler()});k.onInitialize.notify({value:m})}function h(l){var k=this,m=l.value,i=g('<input type="text" class="grid-text-editor"/>').val(m);this.append=function(n){i.appendTo(n);return this};this.remove=function(){if(i&&i.length){i.detach()}return this};this.destroy=function(){i.remove();k.onDestroy.notify({});return this};this.getValue=function(){return j(i.val())};this.setValue=function(n){i.val(j(n));k.onChange.notify({value:n});return this};this.focus=function(){i.val(k.getValue()).select();return this};function j(n){return n}g.extend(this,{onInitialize:new SmallGrid.Event.Handler(),onChange:new SmallGrid.Event.Handler(),onDestroy:new SmallGrid.Event.Handler()});k.onInitialize.notify({value:m})}function c(j,i,k){if(k.Utils.isFunction(j,k.RowEditor)===true){return new k.RowEditor[j](i)}}})(jQuery);"use strict";(function(g){g.extend(true,window,{SmallGrid:{Cell:{Formatter:{Checkbox:c,Default:d,Float:b,Integer:a,None:e,Radio:h,Text:d}}}});function d(k,j,l,i){return(k!==undefined)?k.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}function c(k,j,l,i){return k?"<i class='fa fa-check-square-o'></i>":"<i class='fa fa-square-o'></i>"}function h(k,j,l,i){return k?"<i class='fa fa-dot-circle-o'></i>":"<i class='fa fa-circle-o'></i>"}function b(k,j,l,i){return(parseFloat(k)||0).toFixed(i.formatter.floatFormatter.decimals).replace(/\d(?=(\d{3})+\.)/g,"$&,")}function a(k,j,l,i){return(parseInt(k,10)||0).toFixed(i.formatter.integerFormatter.decimals).replace(/\d(?=(\d{3})+\.)/g,"$&,")}function e(k,j,l,i){return k}})(jQuery);"use strict";(function(b){b.extend(true,window,{SmallGrid:{Column:{Create:c,Model:d,ColumnData:a}}});function a(e){if("cellCssClass" in e){this.cellCssClass=e.cellCssClass}if("editable" in e){this.editable=e.editable}if("editor" in e){this.editor=e.editor}if("editMode" in e){this.editMode=e.editMode}if("field" in e){this.field=e.field}if("filterable" in e){this.filterable=e.filterable}if("formatter" in e){this.formatter=e.formatter}if("headerCssClass" in e){this.headerCssClass=e.headerCssClass}if("id" in e){this.id=e.id}if("item" in e){this.item=e.item}if("maxWidth" in e){this.maxWidth=e.maxWidth}if("minWidth" in e){this.minWidth=e.minWidth}if("name" in e){this.name=e.name}if("resizeable" in e){this.resizeable=e.resizeable}if("sortable" in e){this.sortable=e.sortable}if("sortOrder" in e){this.sortOrder=e.sortOrder}if("sortComparer" in e){this.sortComparer=e.sortComparer}if("width" in e){this.width=e.width}}a.prototype.cellCssClass="";a.prototype.editable=true;a.prototype.editor=undefined;a.prototype.editMode=false;a.prototype.field="";a.prototype.filterable=false;a.prototype.formatter="Default";a.prototype.headerCssClass="";a.prototype.id=undefined;a.prototype.item=null;a.prototype.maxWidth=9999;a.prototype.minWidth=25;a.prototype.name="";a.prototype.resizeable=true;a.prototype.sortable=true;a.prototype.sortComparer="Default";a.prototype.sortOrder=0;a.prototype.width=50;function d(v,U){var o=this;var X=[];function h(Z){if(X.length){X.forEach(Z)}return this}function I(Z){if(X.length){return X.filter(Z)}return[]}function r(aa,Z){if(X.length){return X.reduce(aa,Z)}}function W(Z){if(X.length){o.onChangeStart.notify();X.sort(Z);o.onChangeStop.notify()}return this}function u(){return X.length===0}function B(){return X.length}function S(){C(v)}function V(Z){return G(e(Z))}function C(Z){if(Z.length){o.onChangeStart.notify();for(var aa=0;aa<Z.length;aa++){V(Z[aa])}o.onChangeStop.notify()}return this}function l(aa){var Z=U.columns.idProperty;if(U.Utils.isProperty(Z,aa)){t(aa[Z])}return this}function s(){var Z=[];for(var aa=0;aa<X.length;aa++){Z.push(X[aa].item)}return Z}function q(Z){if(Z.length){o.onChangeStart.notify();var ab=[];for(var aa=0;aa<X.length;aa++){ab.push(X[aa].id)}X=[];for(aa=0;aa<Z.length;aa++){V(Z[aa])}o.onChangeStop.notify()}return this}function M(aa){var Z=U.columns.idProperty;if(U.Utils.isProperty(Z,aa)){L(aa[Z],aa)}}function L(ab,aa){for(var Z=0;Z<X.length;Z++){if(X[Z].id==ab){X[Z].item=aa;o.onChange.notify({id:[ab]});break}}return this}function k(Z){if(Z.length){o.onChangeStart.notify();for(var aa=0;aa<Z.length;aa++){M(Z[aa])}o.onChangeStop.notify()}return this}function G(Z){if(Z instanceof a){X.push(Z);o.onChange.notify({id:[Z.id]})}return this}function Q(aa){if(aa.length){o.onChangeStart.notify();for(var Z=0;Z<aa.length;Z++){G(aa[Z])}o.onChangeStop.notify()}return this}function i(Z){if(Z instanceof a){t(Z.id)}return this}function t(aa){for(var Z=0;Z<X.length;Z++){if(X[Z].id==aa){X.splice(Z,1);o.onChange.notify({id:[aa]});break}}return this}function g(Z){var aa=X[Z].id;X.splice(Z,1);o.onChange.notify({id:[aa]});return this}function n(){if(X.length){o.onChangeStop.notify();var aa=[];for(var Z=0;Z<X.length;Z++){aa.push(X[Z].id)}X=[];o.onChange.notify({id:aa});o.onChangeStop.notify()}return this}function z(aa){for(var Z=0;Z<X.length;Z++){if(X[Z].id==aa){return X[Z]}}}function F(Z){return X[Z]}function p(Z){return X[Z].id}function O(aa){for(var Z=0;Z<X.length;Z++){if(X[Z].id==aa){return Z}}return -1}function Y(ab,Z){var aa=z(ab);if(aa&&Z&&Z in aa){return aa[Z]}}function N(Z,aa){var ab=F(Z);if(ab&&aa&&aa in ab){return ab[aa]}}function K(){return X}function y(aa,Z){x(O(aa),Z);return this}function x(Z,aa){if(aa instanceof a){X.splice(Z+1,0,aa);o.onChange.notify({id:[aa.id]})}return this}function H(aa,Z){R(O(aa),Z);return this}function R(Z,aa){if(aa instanceof a){X.splice(Z,0,aa);o.onChange.notify({id:[aa.id]})}return this}function A(ac,aa,Z){for(var ab=0;ab<X.length;ab++){if(X[ab].id==ac){if(aa&&aa in X[ab]){X[ab][aa]=Z;o.onChange.notify({id:[ac]})}break}}return this}function E(Z,ab,aa){if(ab&&ab in X[Z]){X[Z][ab]=aa;o.onChange.notify({id:[X[Z].id]})}return this}function m(aa){if(aa.length){o.onChangeStart.notify();var ab=[];for(var Z=0;Z<X.length;Z++){ab.push(X[Z].id)}X=[];for(Z=0;Z<aa.length;Z++){G(aa[Z])}o.onChangeStop.notify()}return this}function T(aa,Z){for(var ab=0;ab<X.length;ab++){X[ab][aa]=Z}return this}function D(aa){if(aa instanceof a){var Z=U.columns.idProperty;if(U.Utils.isProperty(Z,aa)){P(aa[Z],aa)}}return this}function P(ab,aa){for(var Z=0;Z<X.length;Z++){if(X[Z].id==ab){X[Z]=aa;o.onChange.notify({id:[ab]});break}}return this}function w(Z,aa){if(X[Z]){X[Z]=aa;o.onChange.notify({id:[aa.id]})}return this}function J(aa){if(aa.length){o.onChangeStart.notify();for(var Z=0;Z<aa.length;Z++){D(aa[Z])}o.onChangeStop.notify()}return this}function j(Z){if(U.columns.mapProperties===true){return b.extend({item:Z},Z)}return{name:Z.name,field:Z.field,item:Z}}function e(ab){var aa=new a(j(ab));var Z=U.columns.idProperty;if(U.Utils.isProperty(Z,aa)){aa.id=aa[Z]}else{aa.id=U.Utils.getNewGuid()}aa.width=Math.max(Math.min(parseInt(aa.width,10),aa.maxWidth),aa.minWidth);if(aa.sortComparer&&U.Utils.isFunction(aa.sortComparer,U.RowComparer)===false){delete aa.sortComparer}if(aa.formatter&&U.Utils.isFunction(aa.formatter,U.RowFormatter)===false){delete aa.formatter}if(aa.editor&&U.Utils.isFunction(aa.editor,U.RowEditor)===false){delete aa.editor}return aa}b.extend(this,{onChange:new SmallGrid.Event.Handler(),onChangeStart:new SmallGrid.Event.Handler(),onChangeStop:new SmallGrid.Event.Handler(),filter:I,forEach:h,reduce:r,sort:W,total:B,addItem:V,addItems:C,deleteItem:l,deleteItems:n,deleteItemById:t,getItems:s,setItems:q,updateItem:M,updateItemById:L,updateItems:k,addColumn:G,addColumns:Q,createColumn:e,deleteColumn:i,deleteColumnById:t,deleteColumnByIndex:g,deleteColumns:n,getColumnById:z,getColumnByIndex:F,getColumnIdByIndex:p,getColumnIndexById:O,getColumnPropertyById:Y,getColumnPropertyByIndex:N,getColumns:K,insertColumnAfterId:y,insertColumnAfterIndex:x,insertColumnBeforeId:H,insertColumnBeforeIndex:R,isEmpty:u,setColumnPropertyById:A,setColumnPropertyByIndex:E,setColumns:m,setColumnsProperty:T,updateColumn:D,updateColumnById:P,updateColumnByIndex:w,updateColumns:J});S()}function c(g,e){return new d(g,e)}})(jQuery);"use strict";(function(c){c.extend(true,window,{SmallGrid:{Event:{Args:a,Handler:b}}});function a(d){for(var e in d){if(d.hasOwnProperty(e)){this[e]=d[e]}}var g=false;var h=false;this.stopPropagation=function(){g=true};this.isPropagationStopped=function(){return g};this.stopImmediatePropagation=function(){h=true};this.isImmediatePropagationStopped=function(){return h}}function b(){var d=[];this.subscribe=function(e){d.push(e);return this};this.unsubscribe=function(g){for(var e=d.length-1;e>=0;e--){if(d[e]===g){d.splice(e,1)}}return this};this.unsubscribeLast=function(){if(d.length){d.pop()}return this};this.unsubscribeAll=function(){d=[];return this};this.notify=function(h){if(typeof(h)!=a){h=new a(h)}for(var g=0;g<d.length&&!(h.isPropagationStopped()||h.isImmediatePropagationStopped());g++){if(d[g].call(this,h)===false){h.stopImmediatePropagation();break}}}}})(jQuery);"use strict";(function(b){b.extend(true,window,{SmallGrid:{Filter:{FilterQuery:a}}});function a(d,r){var l=this;var e=[];var m=r.Utils.getNewGuid();function i(){return m}function j(){return d}function o(){e=[];return this}function s(){return e}function k(v,w){if(v in this){return this[v](w||"")}throw"Type "+v+" not found"}function u(){e.push({action:"and"});return this}function g(){e.push({action:"or"});return this}function t(v){e.push({action:"eq",value:v});return this}function q(v){e.push({action:"neq",value:v});return this}function p(v){e.push({action:"startsWith",value:v});return this}function n(v){e.push({action:"endsWith",value:v});return this}function h(v){e.push({action:"contains",value:v});return this}function c(v){e.push({action:"doesNotContain",value:v});return this}b.extend(this,{getId:i,getField:j,clear:o,get:s,add:k,and:u,or:g,contains:h,doesnotcontain:c,endswith:n,eq:t,neq:q,startswith:p})}})(jQuery);"use strict";(function(b){b.extend(true,window,{SmallGrid:{Filter:{FilterRequest:a}}});function a(e,o){function d(v,t,u){return o.filter(new s(v,t,u,q()))}function l(v,t,u){return o.filter(new r(v,t,u,m()))}function i(t){return o.reduce(new c(t,m()),0)}function k(t){return o.reduce(new j(t,q()),0)}function m(){}function q(){var w="";for(var v=0;v<e.length;v++){var u=e[v].get(),z=e[v].getField(),t="";for(var x=0;x<u.length;x++){var y=u[x];switch(y.action){case"and":t+=" && ";break;case"or":t+=" || ";break;case"eq":t+=" isEqual(item.item['"+z+"'], '"+y.value+"') === true ";break;case"neq":t+=" isEqual(item.item['"+z+"'], '"+y.value+"') === false ";break;case"startsWith":t+=" startsWith(item.item['"+z+"'], '"+y.value+"') === true ";break;case"endsWith":t+=" endsWith(item.item['"+z+"'], '"+y.value+"') === true ";break;case"contains":t+=" contains(item.item['"+z+"'], '"+y.value+"') === true ";break;case"doesNotContain":t+=" contains(item.item['"+z+"'], '"+y.value+"') === false ";break}}if(t.length){if(v!==0){w+=" && "}w+="("+t+")"}}return w}function n(u,t){return(u==t)}function p(u,t){return(""+u).indexOf(t)===0}function h(u,t){return(""+u).indexOf(t,u.length-t.length)!==-1}function g(u,t){return(""+u).indexOf(t)!==-1}function c(v,t){if(t){var u=new Function("item","return "+resultQuery);return function(x,w){if(u(w)===false){return x}return x+w.width+v}}else{return function(x,w){return x+w.width+v}}}function j(v,t){if(t){var u=new Function("item","return "+resultQuery);return function(x,w){if(u(w)===false){return x}return x+w.height+v}}else{return function(x,w){return x+w.height+v}}}function r(u,y,A,x){var w=0,v=u-2*y-A,t=u+2*y+A;if(x){var z=new Function("item","return "+resultQuery);return function(C,B,D){if(!(z(C)===false)){w+=A+C.width;if(v<=w&&w<=t){C.calcWidth=w;C.calcIndex=B;return true}}return false}}else{return function(C,B,D){w+=A+C.width;if(v<=w&&w<=t){C.calcWidth=w;C.calcIndex=B;return true}return false}}}function s(v,u,y,x){var z=0,w=v-2*u-y,t=v+2*u+y;if(x){return function(B,A,C){if(!(f(B)===false)){z+=y+B.height;if(w<=z&&z<=t){B.calcHeight=z;B.calcIndex=A;return true}}return false}}else{return function(B,A,C){z+=y+B.height;if(w<=z&&z<=t){B.calcHeight=z;B.calcIndex=A;return true}return false}}}b.extend(this,{getColumnsInRange:l,getColumnsWidth:i,getRowsHeight:k,getRowsInRange:d})}})(jQuery);"use strict";(function(b){b.extend(true,window,{SmallGrid:{Grid:{Create:c,Model:a}}});function a(s,i,w){var o=this;var n={};var r={};var g="0.2";var q=w.Utils.getNewGuid();function t(){n=new w.View.Create(s,w);n.setModel(i);v(w.plugins);n.render()}function x(){for(var y=0;y<r.length;y++){j(r[y])}}function d(){return n}function l(){return i}function u(){return w}function e(y){return r[y]!==undefined}function p(y){if(e(y)){j(y)}r[y]=new w.Plugins[y](i,n,w)}function v(z){for(var y=0;y<z.length;y++){p(z[y])}}function j(y){if(r[y]){r[y].destroy();delete r[y]}}function h(){var z=Object.keys(r);for(var y=0;y<z.length;y++){j(z[y])}}function k(){return g}function m(){return q}b.extend(this,{init:t,destroy:x,getId:m,getSettings:u,getVersion:k,getView:d,getViewModel:l,isRegisteredPlugin:e,registerPlugin:p,registerPlugins:v,unregisterPlugin:j,unregisterPlugins:h})}function c(k,j,h,i){var d=new SmallGrid.Settings.Create(i);var e=new SmallGrid.View.Model(new SmallGrid.Row.Create(j,d),new SmallGrid.Column.Create(h,d),d);var g=new a(k,e,d);if(d.explicitInitialization===false){g.init()}return g}})(jQuery);"use strict";(function(b){b.extend(true,window,{SmallGrid:{Handler:{Click:c}}});var a={rowIdentifier:"TR",cellIdentifier:"TD",handleClick:undefined,handleDblClick:undefined,handleContextMenu:undefined,handleKeyDown:undefined};function c(l,k){var k=jQuery.extend({},a,k);l.on("click",e).on("contextmenu",d).on("dblclick",j).on("keydown",g);function h(o){if(o&&o.target){var n=b(o.target).closest(k.cellIdentifier);if(n.length){var m=n.closest(k.rowIdentifier);if(m.length){return{cellIndex:n.index(),rowIndex:m.index(),event:o}}}}}function e(n){var m=h(n);if(m&&k.handleClick){k.handleClick(m)}}function d(n){var m=h(n);if(m&&k.handleContextMenu){k.handleContextMenu(m)}}function j(n){var m=h(n);if(m&&k.handleDblClick){k.handleDblClick(m)}}function g(n){var m=h(n);if(m&&k.handleKeyDown){k.handleKeyDown(m)}}function i(){l.off("click",e).off("contextmenu",d).off("dblclick",j).off("keydown",g)}b.extend(this,{destroy:i})}})(jQuery);"use strict";(function(b){b.extend(true,window,{SmallGrid:{Handler:{Resize:c}}});var a={cellIdentifier:"TD",handleResize:undefined,handleResizeStart:undefined,handleResizeStop:undefined,handlerIdentifier:undefined};function c(h,e){var e=jQuery.extend({},a,e);h.on("mousedown",e.handlerIdentifier,g);function g(k){var j=b(this).closest(e.cellIdentifier);if(j.length){var i=j.index();e.handleResizeStart({cellElement:j,cellIndex:i,event:k});b("body").bind("mousemove",function(m){var l=m.pageX-j.offset().left;if(l>0){e.handleResize({cellElement:j,cellIndex:i,width:l,event:k})}}).bind("mouseup",function(l){b(this).unbind("mousemove mouseup");e.handleResizeStop({cellElement:j,cellIndex:i,event:k})})}}function d(){h.off("mousedown",g)}b.extend(this,{destroy:d})}})(jQuery);"use strict";(function(c){c.extend(true,window,{SmallGrid:{Handler:{Scroll:a}}});var b={handleMouseWheel:undefined,handleMouseWheelStart:undefined,handleMouseWheelStop:undefined,handlescroll:undefined,handlescrollStart:undefined,handlescrollStop:undefined,latency:300,resetLeft:true,resetTop:true};function a(m,e){var e=jQuery.extend({},b,e);if(e.resetTop){m[0].scrollTop=0}if(e.resetLeft){m[0].scrollLeft=0}var h,k,n=false,j=false,l={scrollTop:m[0].scrollTop,scrollLeft:m[0].scrollLeft};m.on("scroll",g);m.on("wheel",d);function d(o){clearTimeout(k);if(j==false){j=true;e.handleMouseWheelStart({event:o})}e.handleMouseWheel({event:o});k=setTimeout(function(){e.handleMouseWheelStop({event:o});j=false},e.latency)}function g(p){var o={scrollTop:m[0].scrollTop,scrollLeft:m[0].scrollLeft};clearTimeout(h);if(n==false){n=true;e.handleScrollStart({scrollTop:o.scrollTop,scrollLeft:o.scrollLeft,topDelta:o.scrollTop-l.scrollTop,leftDelta:o.scrollLeft-l.scrollLeft,event:p})}e.handleScroll({scrollTop:o.scrollTop,scrollLeft:o.scrollLeft,topDelta:o.scrollTop-l.scrollTop,leftDelta:o.scrollLeft-l.scrollLeft,event:p});h=setTimeout(function(){e.handleScrollStop({scrollTop:o.scrollTop,scrollLeft:o.scrollLeft,topDelta:o.scrollTop-l.scrollTop,leftDelta:o.scrollLeft-l.scrollLeft,event:p});n=false},e.latency);l={scrollTop:o.scrollTop,scrollLeft:o.scrollLeft}}function i(){clearTimeout(h);clearTimeout(k);m.off("scroll",g);m.off("wheel",d)}c.extend(this,{destroy:i})}})(jQuery);"use strict";(function(e){e.extend(true,window,{SmallGrid:{Row:{Comparer:{Default:b,Date:d,Number:c,String:g}}}});function b(h){return function(k,j){var i=(h.field in k.item)?k.item[h.field]:null,l=(h.field in j.item)?j.item[h.field]:null;if(i instanceof Date&&l instanceof Date){i=i.getTime();l=l.getTime()}else{if(!isNaN(parseFloat(i))&&isFinite(i)){i++;l++}else{if(i&&typeof i.toString==="function"&&l&&typeof l.toString==="function"){i=i.toString().toLowerCase();l=l.toString().toLowerCase()}}}return(i==l?0:(i>l?h.sortOrder:-h.sortOrder))}}function c(i){var h=i.sortOrder;return function(l,k){var j=(i.field in l.item)?l.item[i.field]:null,m=(i.field in k.item)?k.item[i.field]:null;return(j-m)*h}}function a(i){var h=i.sortOrder;return function(l,k){var j=(i.field in l.item)?l.item[i.field].toLowerCase():null,m=(i.field in k.item)?k.item[i.field].toLowerCase():null;return j.localeCompare(m)*h}}function g(i){var h=i.sortOrder;return function(l,k){var j=(i.field in l.item)?l.item[i.field].toLowerCase():null,m=(i.field in k.item)?k.item[i.field].toLowerCase():null;return(j==m?0:(j>m?1*h:-1*h))}}function d(i){var h=i.sortOrder;return function(l,k){var j=(i.field in l.item)?l.item[i.field]:null,m=(i.field in k.item)?k.item[i.field]:null;return(new Date(j)-new Date(m))*h}}})(jQuery);"use strict";(function(c){c.extend(true,window,{SmallGrid:{Row:{Create:d,Model:a,RowData:b}}});function b(e){if("cellCssClass" in e){this.cellCssClass=e.cellCssClass}if("disabled" in e){this.disabled=e.disabled}if("editable" in e){this.editable=e.editable}if("editMode" in e){this.editMode=e.editMode}if("height" in e){this.height=e.height}if("id" in e){this.id=e.id}if("item" in e){this.item=e.item}if("maxHeight" in e){this.maxHeight=e.maxHeight}if("minHeight" in e){this.minHeight=e.minHeight}if("rowCssClass" in e){this.rowCssClass=e.rowCssClass}}b.prototype.cellCssClass="";b.prototype.disabled=false;b.prototype.editable=true;b.prototype.editMode=false;b.prototype.height=25;b.prototype.id=undefined;b.prototype.item=null;b.prototype.maxHeight=200;b.prototype.minHeight=20;b.prototype.rowCssClass="";function a(z,V){var q=this;var Y=[];function h(Z){if(Y.length){Y.forEach(Z)}return this}function K(Z){if(Y.length){return Y.filter(Z)}return[]}function u(aa,Z){if(Y.length){return Y.reduce(aa,Z)}}function X(Z){if(Y.length){q.onChangeStart.notify();Y.sort(Z);q.onChangeStop.notify()}return this}function x(){return Y.length===0}function E(){return Y.length}function T(){G(z)}function W(Z){return Q(p(Z))}function G(Z){if(Z.length){q.onChangeStart.notify();for(var aa=0;aa<Z.length;aa++){W(Z[aa])}q.onChangeStop.notify()}return this}function o(aa){var Z=V.rows.idProperty;if(V.Utils.isProperty(Z,aa)){m(aa[Z])}return this}function v(){var Z=[];for(var aa=0;aa<Y.length;aa++){Z.push(Y[aa].item)}return Z}function t(Z){if(Z.length){q.onChangeStart.notify();var ab=[];for(var aa=0;aa<Y.length;aa++){ab.push(Y[aa].id)}Y=[];for(aa=0;aa<Z.length;aa++){W(Z[aa])}q.onChangeStop.notify()}return this}function O(aa){var Z=V.rows.idProperty;if(V.Utils.isProperty(Z,aa)){N(aa[Z],aa)}}function N(ab,aa){for(var Z=0;Z<Y.length;Z++){if(Y[Z].id==ab){Y[Z].item=aa;q.onChange.notify({id:[ab]});break}}return this}function n(Z){if(Z.length){q.onChangeStart.notify();for(var aa=0;aa<Z.length;aa++){O(Z[aa])}q.onChangeStop.notify()}return this}function Q(Z){if(Z instanceof b){Y.push(Z);q.onChange.notify({id:[Z.id]})}return this}function r(aa){if(aa.length){q.onChangeStart.notify();for(var Z=0;Z<aa.length;Z++){Q(aa[Z])}q.onChangeStop.notify()}return this}function H(Z){if(Z instanceof b){m(Z.id)}return this}function m(aa){for(var Z=0;Z<Y.length;Z++){if(Y[Z].id==aa){Y.splice(Z,1);q.onChange.notify({id:[aa]});break}}return this}function J(Z){var aa=Y[Z].id;Y.splice(Z,1);q.onChange.notify({id:[aa]});return this}function B(){if(Y.length){q.onChangeStop.notify();var aa=[];for(var Z=0;Z<Y.length;Z++){aa.push(Y[Z].id)}Y=[];q.onChange.notify({id:aa});q.onChangeStop.notify()}return this}function I(aa){for(var Z=0;Z<Y.length;Z++){if(Y[Z].id==aa){return Y[Z]}}}function U(Z){return Y[Z]}function s(Z){return Y[Z].id}function S(aa){for(var Z=0;Z<Y.length;Z++){if(Y[Z].id==aa){return Z}}return -1}function C(ab,Z){var aa=I(ab);if(aa&&Z&&Z in aa){return aa[Z]}}function j(Z,aa){var ab=U(Z);if(ab&&aa&&aa in ab){return ab[aa]}}function y(){return Y}function g(aa,Z){D(S(aa),Z);return this}function D(Z,aa){if(aa instanceof b){Y.splice(Z+1,0,aa);q.onChange.notify({id:[aa.id]})}return this}function w(aa,Z){P(S(aa),Z);return this}function P(Z,aa){if(aa instanceof b){Y.splice(Z,0,aa);q.onChange.notify({id:[aa.id]})}return this}function R(ac,aa,Z){for(var ab=0;ab<Y.length;ab++){if(Y[ab].id==ac){if(aa&&aa in Y[ab]){Y[ab][aa]=Z;q.onChange.notify({id:[ac]})}break}}return this}function L(Z,ab,aa){if(ab&&ab in Y[Z]){Y[Z][ab]=aa;q.onChange.notify({id:[Y[Z].id]})}return this}function A(ab){if(ab.length){q.onChangeStart.notify();var aa=[];for(var Z=0;Z<Y.length;Z++){aa.push(Y[Z].id)}Y=[];for(Z=0;Z<ab.length;Z++){Q(ab[Z])}q.onChangeStop.notify()}return this}function e(aa,Z){for(var ab=0;ab<Y.length;ab++){Y[ab][aa]=Z}return this}function M(aa){if(aa instanceof b){var Z=V.rows.idProperty;if(V.Utils.isProperty(Z,aa)){F(aa[Z],aa)}}return this}function F(ab,aa){for(var Z=0;Z<Y.length;Z++){if(Y[Z].id==ab){Y[Z]=aa;q.onChange.notify({id:[ab]});break}}return this}function l(Z,aa){if(Y[Z]){Y[Z]=aa;q.onChange.notify({id:[aa.id]})}return this}function i(aa){if(aa.length){q.onChangeStart.notify();for(var Z=0;Z<aa.length;Z++){M(aa[Z])}q.onChangeStop.notify()}return this}function k(aa){if(V.rows.mapProperties===true){var Z=c.extend({},aa);Z.item=aa;return Z}return{item:aa}}function p(aa){var ab=new b(k(aa));var Z=V.rows.idProperty;if(V.Utils.isProperty(Z,aa)){ab.id=aa[Z]}else{ab.id=V.Utils.getNewGuid()}ab.height=Math.max(Math.min(parseInt(ab.height,10),ab.maxHeight),ab.minHeight);return ab}c.extend(this,{onChange:new SmallGrid.Event.Handler(),onChangeStart:new SmallGrid.Event.Handler(),onChangeStop:new SmallGrid.Event.Handler(),filter:K,forEach:h,reduce:u,sort:X,total:E,addItem:W,addItems:G,deleteItem:o,deleteItems:B,deleteItemById:m,getItems:v,setItems:t,updateItem:O,updateItemById:N,updateItems:n,addRow:Q,addRows:r,createRow:p,deleteRow:H,deleteRowById:m,deleteRowByIndex:J,deleteRows:B,getRowById:I,getRowByIndex:U,getRowIdByIndex:s,getRowIndexById:S,getRowPropertyById:C,getRowPropertyByIndex:j,getRows:y,insertRowAfterId:g,insertRowAfterIndex:D,insertRowBeforeId:w,insertRowBeforeIndex:P,isEmpty:x,setRowPropertyById:R,setRowPropertyByIndex:L,setRows:A,setRowsProperty:e,updateRow:M,updateRowById:F,updateRowByIndex:l,updateRows:i});T()}function d(g,e){return new a(g,e)}})(jQuery);"use strict";(function(d){var i=function(){var l={};var k=[];for(var m=0;m<256;m++){k[m]=(m<16?"0":"")+m.toString(16)}l.newGuid=function(){var q=Math.random()*4294967295|0;var s=Math.random()*4294967295|0;var p=Math.random()*4294967295|0;var o=Math.random()*4294967295|0;return k[q&255]+k[q>>8&255]+k[q>>16&255]+k[q>>24&255]+"-"+k[s&255]+k[s>>8&255]+"-"+k[s>>16&15|64]+k[s>>24&255]+"-"+k[p&63|128]+k[p>>8&255]+"-"+k[p>>16&255]+k[p>>24&255]+k[o&255]+k[o>>8&255]+k[o>>16&255]+k[o>>24&255]};return l}();function c(l,k){return(k&&l&&l in k&&typeof(k[l])==="function")}function h(k,l){return(k&&k in l)}function b(k){return(/^true$/i).test(k)}function j(){var m=1000000,l=1000000,k=d('<div style="display:none; " />').appendTo(document.body);while(true){k.css("height",l);if(k.height()===l){l+=m;if(l<17000000){continue}}break}k.remove();return l-m}function g(){var k=d('<div style="position:absolute; top:-100px; left:-100px; width:100px; height:100px; overflow:scroll;"></div>').appendTo("body");var l={width:k.width()-k[0].clientWidth,height:k.height()-k[0].clientHeight};k.remove();return l}function a(l){var k=d("<tr />").appendTo(l),n=d("<td style='width:5px; height:5px;'>-</td>").appendTo(k);var m={width:n.outerWidth()-n.width(),height:n.outerHeight()-n.height()};n.remove();k.remove();return m}function e(k){return -1*(k<0?-1:1)}d.extend(true,window,{SmallGrid:{Utils:{changeSortOrder:e,getNewGuid:i.newGuid,isFunction:c,isProperty:h,measureCellDiff:a,measureMaxSupportedCssHeight:j,measureScrollbar:g,parseBool:b}}})})(jQuery);"use strict";(function(b){b.extend(true,window,{SmallGrid:{View:{Create:c}}});function a(al,aC){var au=this;var l;var aG=null;var y=null;var m=1;var E=true;var an=0;var o={width:0,height:0};var V={width:0,height:0};var d=[];var aA,p,T,ax,G,r,Y,aa,af,X,D;function ae(){al.empty().addClass(aC.uid);aA=b('<div class="small-grid grid-viewport"/>');p=b('<div class="grid-header disable-text-selection"/>');T=b('<div class="grid-canvas"/>');ax=b('<div class="grid-footer"/>');af=b('<div class="grid-header-wrap"/>');X=b('<table class="grid-header-table" border=1></table>');D=b("<tbody></tbody>");G=b('<div class="grid-table-wrap"/>');r=b('<table class="grid-table" border=1></table>');Y=b("<colgroup></colgroup>");aa=b("<tbody></tbody>");p.appendTo(aA);T.appendTo(aA);ax.appendTo(aA);D.appendTo(X);X.appendTo(af);af.appendTo(p);Y.appendTo(r);aa.appendTo(r);r.appendTo(G);G.appendTo(T);if(aC.HandlerScroll){d.scroll=new aC.HandlerScroll(T,{handleScrollStart:e,handleScrollStop:aH,handleScroll:v,handleMouseWheelStart:g,handleMouseWheelStop:Q,handleMouseWheel:Z})}if(aC.HandlerResize){d.resize=new aC.HandlerResize(p,{handleResize:H,handleResizeStart:I,handleResizeStop:ay,handlerIdentifier:"."+aC.cssClass.headerResizeHandle})}if(aC.HandlerClick){d.header=new aC.HandlerClick(p,{handleClick:aF,handleDblClick:ai,handleContextMenu:O})}if(aC.HandlerClick){d.canvas=new aC.HandlerClick(T,{handleClick:at,handleDblClick:q,handleContextMenu:ab,handleKeyDown:ap})}b(document.body).on("click",F);aA.appendTo(al);V=aC.Utils.measureCellDiff(aa);o={width:al.width(),height:al.height()};T.width(o.width);T.height(o.height);p.width(o.width-aC.scrollbarDimensions.width);au.onInitialize.notify({})}function az(){return al}function s(){return aA}function ao(aJ,aK){return M(aJ)&&K(aK)}function M(aK){var aJ=l.getColumnById(aK);if(aJ){if(aJ.calcWidth-aJ.width-V.width>=T[0].scrollLeft&&aJ.calcWidth<o.width+T[0].scrollLeft){return true}}return false}function K(aJ){var aK=l.getRowById(aJ);if(aK){if(aK.calcHeight-aK.height-V.height>=T[0].scrollTop&&aK.calcHeight+aK.height+V.height<o.height+T[0].scrollTop){return true}}return false}function am(aJ){return aa[0].rows[aJ]}function j(aJ,aK){return aa[0].rows[aK].cells[aJ]}function aB(aJ){if(l){var aK=l.getRowIndexById(aJ);if(aK!=-1){return am(aK)}}}function n(aK,aL){var aM=l.getRowIndexById(aL);var aJ=l.getColumnIndexById(aK);if(aM!=-1&&aJ!=-1){return j(aJ,aM)}}function w(aL,aK){var aM=X.find("tr > td:nth-child("+(aL)+")");if(aM){aM.css("width",aK)}var aJ=r.find("colgroup > col:nth-child("+(aL)+")");if(aJ){aJ.css("width",aK+V.width)}}function S(aJ){D.find("."+aJ+"_disabled").toggleClass(aJ+"_disabled "+aJ)}function B(aJ){D.find("."+aJ).toggleClass(aJ+" "+aJ+"_disabled")}function ac(aJ){aA.addClass(aJ)}function u(aJ){aA.removeClass(aJ)}function h(aJ){U(true);l=aJ;l.onRowsChange.subscribe(aI);l.onColumnsChange.subscribe(ar);l.onDataChange.subscribe(aq);l.onDataChangeStart.subscribe(t);l.onDataChangeStop.subscribe(ah);U(false)}function R(){an++;if(E===false){aj()}return this}function aj(){if(E===false&&an>0){if(aG==null){an=0;aG=setTimeout(function(){l.requestDataFromRange({top:T[0].scrollTop*m,left:T[0].scrollLeft},o,V,m==1);aG=null;y=null},30)}else{if(y==null){y=setTimeout(R,300)}}}return this}function x(){return E}function U(aJ){E=aJ;return this}function i(){U(true);if(l){l.onRowsChange.unsubscribe(aI);l.onColumnsChange.unsubscribe(ar);l.onDataChange.unsubscribe(aq);l.onDataChangeStart.unsubscribe(t);l.onDataChangeStop.unsubscribe(ah)}if(al.length){for(var aJ=0;aJ<d.length;aJ++){d[aJ].destroy()}al.empty().removeClass(aC.uid)}b(document.body).off("click",F);au.onDestroy.notify({})}function C(aK,aJ,aL){au.onBeforeRowsRendered.notify({});D[0].innerHTML=aK;Y[0].innerHTML=aJ;aa[0].innerHTML=aL;au.onAfterRowsRendered.notify({})}function ak(aL){var aK='<tr class="'+aC.cssClass.headerRow+'">';for(var aJ=0;aJ<aL.length;aJ++){aK+=k(aL[aJ])}return aK+aD()+"</tr>"}function aD(){return"<td class='"+aC.cssClass.headerCell+"' style='height:"+aC.columns.header.height+"px'></td>"}function k(aL){var aM="",aK,aJ=aC.cssClass.headerCell;if(aL.headerCssClass){aJ+=" "+aL.headerCssClass}if(aL.name){aM+=aL.name}if(aL.sortable||aL.filterable){aJ+=" "+aC.cssClass.cursorPointer}aK="<td style='width:"+(aL.width)+"px;height:"+aC.columns.header.height+"px' class='"+aJ+"'><div class='"+aC.cssClass.headerRowDiv+"'><span class='"+aC.cssClass.headerColumnName+"'>"+aM+"</span>";if(aL.sortable&&aL.sortOrder!==0){aK+="<span class='"+((aL.sortOrder==1)?aC.cssClass.headerSortUp:aC.cssClass.headerSortDown)+"'></span>"}if(aL.filterable){aK+="<span class='"+aC.cssClass.headerFilter+"'></span>"}if(aL.resizeable){aK+="<span class='"+aC.cssClass.headerResizeHandle+"'></span>"}return aK+"</div></td>"}function W(aL){var aK="";for(var aJ=0;aJ<aL.length;aJ++){aK+=P(aL[aJ])}return aK+av()}function av(){return"<col class='"+aC.cssClass.col+"' style='width:0px;' />"}function P(aK){var aJ=aC.cssClass.col;if(aK.headerCssClass){aJ+=" "+aK.headerCssClass}return"<col style='width:"+(aK.width+V.width)+"px;' class='"+aJ+"'/>"}function z(aL,aM){var aK="";for(var aJ=0;aJ<aM.length;aJ++){aK+=ad(aL,aM[aJ],aJ)}return aK}function ad(aM,aO,aJ){var aN=aC.cssClass.row+((aO.calcIndex&1==1)?" "+aC.cssClass.rowEven:" "+aC.cssClass.rowOdd);if(aO.rowCssClass){aN+=" "+aO.rowCssClass}if(aC.rows.formatter){aO=aC.rows.formatter(aO,aM)}var aL="<tr class='"+aN+"'>";for(var aK=0;aK<aM.length;aK++){aL+=ag(aM[aK],aO)}return aL+N()+"</tr>"}function N(){return"<td class='"+aC.cssClass.cell+"'></td>"}function ag(aK,aL){var aJ=aC.cssClass.cell;if(aK.cellCssClass){aJ+=" "+aK.cellCssClass}if(aL.cellCssClass&&aK.field in aL.cellCssClass){aJ+=" "+aL.cellCssClass[aK.field]}return"<td height='"+aL.height+"' class='"+aJ+"'>"+A(aK,aL)+"</td>"}function A(aJ,aL){var aK="";if(aJ.field in aL.item&&(aL.editMode===false||aJ.editMode===false)){aK=(aJ.formatter)?aC.RowFormatter[aJ.formatter](aL.item[aJ.field],aJ,aL,aC):aL.item[aJ.field]}return aK}function J(aL,aK){var aJ="";if(aK.resizeable&&aL.indexOf(aC.cssClass.headerResizeHandle)!=-1){aJ="resize"}else{if(aK.filterable&&aL.indexOf(aC.cssClass.headerFilter)!=-1){aJ="filter"}else{if(aK.sortable){aJ="sort"}}}return aJ}function aE(aL,aK,aM){var aJ="";if(aM.editable===true&&aK.editable===true){aJ="edit"}else{if(aM.disabled===true){aJ="disabled"}}return aJ}function aw(aK){var aJ=l.getColumnByIndex(aK.cellIndex);if(aJ){aK.type=J(b(aK.event.target).attr("class"),aJ);aK.targetClass=b(aK.event.target).attr("class");aK.column=aJ;return aK}}function L(aK){var aJ=l.getColumnByIndex(aK.cellIndex);var aL=l.getRowByIndex(aK.rowIndex);if(aJ&&aJ.field.length>0&&aL&&aJ.field in aL.item){aK.type=aE(b(aK.event.target).attr("class"),aJ,aL);aK.row=aL;aK.column=aJ;return aK}}function aI(aK){if(l){var aJ=l.getRowsHeight(V);if(aJ>aC.maxSupportedCssHeight){m=(aJ-o.height+aC.scrollbarDimensions.height)/(aC.maxSupportedCssHeight-o.height+aC.scrollbarDimensions.height);aJ=aC.maxSupportedCssHeight}G.css({height:aJ})}}function ar(aK){if(l){var aJ=l.getColumnsWidth(V);af.css({width:aJ});G.css({width:aJ})}}function aq(aJ){R()}function t(aJ){U(true)}function ah(aJ){if(aJ.rows.length>0&&aJ.columns.length>0){X.css({left:aJ.columns[0].calcWidth-aJ.columns[0].width-V.width});r.css({top:aJ.rows[0].calcHeight-aJ.rows[0].height-V.width-(T[0].scrollTop*m)+T[0].scrollTop,left:aJ.columns[0].calcWidth-aJ.columns[0].width-V.width});C(ak(aJ.columns),W(aJ.columns),z(aJ.columns,aJ.rows))}U(false)}function at(aK){var aJ=L(aK);if(aJ){U(true);au.onCellClick.notify(aJ);U(false);aj()}}function q(aK){var aJ=L(aK);if(aJ){U(true);au.onCellDblClick.notify(aJ);U(false);aj()}}function ab(aK){var aJ=L(aK);if(aJ){U(true);au.onCellContextMenu.notify(aJ);U(false);aj()}}function ap(aK){var aJ=L(aK);if(aJ){U(true);au.onCellKeyDown.notify(aJ);U(false);aj()}}function H(aJ){U(true);au.onColumnResize.notify(aJ);U(false);aj()}function I(aJ){U(true);au.onColumnResizeStart.notify(aJ);U(false);aj()}function ay(aJ){U(true);au.onColumnResizeStop.notify(aJ);U(false);aj()}function g(aJ){U(true);au.onMouseWheelStart.notify(aJ);U(false);aj()}function Q(aJ){U(true);au.onMouseWheelStop.notify(aJ);U(false);aj()}function Z(aJ){U(true);au.onMouseWheel.notify(aJ);U(false);R()}function e(aJ){U(true);au.onScrollStart.notify(aJ);U(false);aj()}function aH(aJ){U(true);au.onScrollStop.notify(aJ);U(false);aj()}function v(aJ){au.suspendRender(true);p[0].scrollLeft=T[0].scrollLeft;au.onScroll.notify(aJ);au.suspendRender(false);R()}function F(aJ){U(true);au.onBodyClick.notify({event:aJ});U(false);aj()}function aF(aK){var aJ=aw(aK);if(aJ){U(true);au.onHeaderClick.notify(aJ);U(false);aj()}}function O(aK){var aJ=aw(aK);if(aJ){U(true);au.onHeaderContextMenu.notify(aJ);U(false);aj()}}function ai(aK){var aJ=aw(aK);if(aJ){U(true);au.onHeaderDblClick.notify(aJ);U(false);aj()}}b.extend(this,{destroy:i,onScroll:new SmallGrid.Event.Handler(),onScrollStart:new SmallGrid.Event.Handler(),onScrollStop:new SmallGrid.Event.Handler(),onMouseWheel:new SmallGrid.Event.Handler(),onMouseWheelStart:new SmallGrid.Event.Handler(),onMouseWheelStop:new SmallGrid.Event.Handler(),onBodyClick:new SmallGrid.Event.Handler(),onHeaderClick:new SmallGrid.Event.Handler(),onHeaderContextMenu:new SmallGrid.Event.Handler(),onHeaderDblClick:new SmallGrid.Event.Handler(),onHeaderFilter:new SmallGrid.Event.Handler(),onHeaderResize:new SmallGrid.Event.Handler(),onHeaderSort:new SmallGrid.Event.Handler(),onCellClick:new SmallGrid.Event.Handler(),onCellContextMenu:new SmallGrid.Event.Handler(),onCellDblClick:new SmallGrid.Event.Handler(),onCellKeyDown:new SmallGrid.Event.Handler(),onColumnResize:new SmallGrid.Event.Handler(),onColumnResizeStart:new SmallGrid.Event.Handler(),onColumnResizeStop:new SmallGrid.Event.Handler(),onAfterRowsRendered:new SmallGrid.Event.Handler(),onBeforeRowsRendered:new SmallGrid.Event.Handler(),onInitialize:new SmallGrid.Event.Handler(),onDestroy:new SmallGrid.Event.Handler(),getContainerNode:az,getViewPortNode:s,getRowNodeById:aB,getRowNodeByIndex:am,getCellNodeByIndex:j,getCellNodeById:n,isCellVisible:ao,addViewPortClass:ac,disableHeaderClass:B,enableHeaderClass:S,removeViewPortClass:u,setColumnWidthByIndex:w,isRenderSuspended:x,render:R,setModel:h,suspendRender:U});ae()}function c(d,h,e,g){var i=b(d);if(i.length<1){throw new Error("Small grid requires a valid container, "+d+" does not exist in the DOM.")}return new a(i,h,e,g)}})(jQuery);"use strict";(function(b){b.extend(true,window,{SmallGrid:{View:{Model:a}}});function a(m,n,H){var B=this;var e=n;var x=m;var y=[];var z=[];var w=[];var o=[];var c=[];var t={minTop:-1,maxTop:-1,minLeft:-1,maxLeft:-1};function D(){m.onChange.subscribe(E);n.onChange.subscribe(l);return this}function I(){m.onChange.unsubscribe(E);n.onChange.unsubscribe(l)}function l(){r();B.onDataChange.notify()}function E(){C();B.onDataChange.notify()}function J(L){return y[L]}function k(L){return z[L]}function v(M){for(var L=0;L<y.length;L++){if(y[L].id==M){return L}}return -1}function K(M){for(var L=0;L<z.length;L++){if(z[L].id==M){return L}}return -1}function u(M){for(var L=0;L<y.length;L++){if(y[L].id==M){return y[L]}}}function q(M){for(var L=0;L<z.length;L++){if(z[L].id==M){return z[L]}}}function g(){return w}function i(L){if(L instanceof H.Filter.FilterQuery){G(L);w.push(L);C();B.onDataChange.notify()}}function d(M){w=[];for(var L=0;L<M.length;L++){w.push(M[L])}C();B.onDataChange.notify()}function G(M){if(M instanceof H.Filter.FilterQuery){for(var L=0;L<w.length;L++){if(w[L].getId()==M.getId()){w.splice(L,1);C();B.onDataChange.notify();break}}}}function j(){w=[];C();B.onDataChange.notify()}function F(L){return new H.Filter.FilterRequest(w,m).getRowsHeight(L.height)}function h(L){return new H.Filter.FilterRequest(o,n).getColumnsWidth(L.width)}function s(L,O,M,P){var N=(t.minTop<=L.top&&L.top<=t.maxTop)&P;var Q=(t.minLeft<=L.left&&L.left<=t.maxLeft)&P;if(N===0||Q===0){B.onDataChangeStart.notify();if(N===0){y=new H.Filter.FilterRequest(w,m).getRowsInRange(L.top,O.height,M.height);B.onRowsChange.notify()}if(Q===0){z=new H.Filter.FilterRequest(o,n).getColumnsInRange(L.left,O.width,M.width);B.onColumnsChange.notify()}A(L,O,M);B.onDataChangeStop.notify({rows:y,columns:z})}}function A(L,N,M){if(z.length&&y.length){t={minTop:y[0].calcHeight<N.height?y[0].calcHeight-y[0].height-M.height:y[0].calcHeight+N.height,maxTop:y[(y.length-1)].calcHeight<N.height?N.height:y[(y.length-1)].calcHeight-N.height+H.scrollbarDimensions.height,minLeft:z[0].calcWidth<N.width?z[0].calcWidth-z[0].width-M.width:z[0].calcWidth+N.width,maxLeft:z[(z.length-1)].calcWidth<N.width?N.width:z[(z.length-1)].calcWidth-N.width+H.scrollbarDimensions.width}}else{p()}}function C(){t.minTop=-1;t.maxTop=-1}function r(){t.minLeft=-1;t.maxLeft=-1}function p(){C();r()}D();b.extend(this,{init:D,destroy:I,resetCacheRange:p,requestDataFromRange:s,rows:x,columns:e,getRowsHeight:F,getColumnsWidth:h,getRowByIndex:J,getColumnByIndex:k,getRowById:u,getColumnById:q,getRowIndexById:v,getColumnIndexById:K,setFilter:i,clearFilter:G,clearFilters:j,onRowsChange:new SmallGrid.Event.Handler(),onColumnsChange:new SmallGrid.Event.Handler(),onDataChange:new SmallGrid.Event.Handler(),onDataChangeStart:new SmallGrid.Event.Handler(),onDataChangeStop:new SmallGrid.Event.Handler()})}})(jQuery);"use strict";(function(b){b.extend(true,window,{SmallGrid:{Plugins:{CellEdit:a}}});function a(g,i,r){var p=this;var j=[];var l={enabled:false};function q(){i.onAfterRowsRendered.subscribe(t);i.onBeforeRowsRendered.subscribe(k);i.onCellClick.subscribe(s);i.onCellDblClick.subscribe(h);i.onCellKeyDown.subscribe(c);i.onScrollStop.subscribe(n)}function u(){i.onAfterRowsRendered.unsubscribe(t);i.onBeforeRowsRendered.unsubscribe(k);i.onCellClick.unsubscribe(s);i.onCellDblClick.unsubscribe(h);i.onCellKeyDown.unsubscribe(c);i.onScrollStop.unsubscribe(n)}function n(w){if(v()==true&&r.edit.autoFocus==true){if(i.isCellVisible(l.column.id,l.row.id)){l.editor.focus()}}}function k(w){if(v()==true){l.editor.remove()}}function t(x){if(v()==true){var w=i.getCellNodeById(l.column.id,l.row.id);if(w){l.editor.append(w);if(l.addFocus==true){l.addFocus=false;l.editor.focus()}}}}function h(w){if(r.edit.editOnClick==false){e(w.column.id,w.row.id)}}function s(w){if(r.edit.editOnClick==true){e(w.column.id,w.row.id)}}function c(w){if(w&&w.event){switch(w.event.keyCode){case 13:o();break;case 27:m();break}}}function e(x,y){if(v()==true){if(l.column.id!=x||l.row.id!=y){o()}}if(v()==false){var w=g.getColumnById(x);var z=g.getRowById(y);if(z&&w&&z.editable&&w.editable&&w.editor){l={enabled:true,addFocus:true,row:z,column:w,editor:new r.RowEditor.Create(w.editor,{value:z.item[w.field]},r)};g.columns.setColumnPropertyById(w.id,"editMode",true);g.rows.setRowPropertyById(z.id,"editMode",true)}}}function d(){if(l.enabled==true){return l.editor}}function v(){return(l.enabled==true)}function o(){if(l.enabled==true){g.columns.setColumnPropertyById(l.column.id,"editMode",false);var w=g.rows.getRowById(l.row.id);if(w){w.item[l.column.field]=l.editor.getValue();w.editMode=false;g.rows.updateItem(w)}l.editor.destroy();l={enabled:false}}return this}function m(){if(l.enabled==true){g.columns.setColumnPropertyById(l.column.id,"editMode",false);var w=g.rows.getRowById(l.row.id);if(w){w.editMode=false;g.rows.updateItem(w)}l.editor.destroy();l={enabled:false}}return this}b.extend(this,{init:q,destroy:u,applyEdit:o,cancelEdit:m,editCellById:e,getEditor:d,isEditMode:v});q()}})(jQuery);"use strict";(function(c){c.extend(true,window,{SmallGrid:{Plugins:{Filter:a,FilterMenu:b}}});function b(i,s,j){var u=this;var q=c("<div class='grid-header-menu'></div>").hide();var e=new j.Filter.FilterQuery(i.field,j);function t(){var v=c("<form>").appendTo(q);var w=c('<div class="grid-header-menucontent"></div>').append('<select name="type1"><option value="contains">Contains</option><option value="doesnotcontain">Does not contains</option><option value="eq">Is equal to</option><option value="neq">Is not equal to</option><option value="startswith">Starts with</option><option value="endswith">Ends with</option></select>').append('<input type="text" name="value1" value=""/>').append('<select name="operator"><option value="and">And</option><option value="or">Or</option></select>').append('<select name="type2"><option value="contains">Contains</option><option value="doesnotcontain">Does not contains</option><option value="eq">Is equal to</option><option value="neq">Is not equal to</option><option value="startswith">Starts with</option><option value="endswith">Ends with</option></select>').append('<input type="text" name="value2" value=""/>').append('<input type="submit" name="Filter" value="Filter" class="btn btn-primary"/>').append('<input type="reset" name="Clear" value="Clear" class="btn"/>').appendTo(v);q.on("click",r);v.on("submit",k);v.on("reset",l);q.appendTo(s);return this}function p(){q.remove()}function h(v){var z={width:s.width(),left:s.offset().left};var y={width:q.width(),height:q.height()};var w={left:v.offset().left,top:v.offset().top,width:v.width(),height:v.height()};var x=(y.width+w.left>z.width&&y.width<w.left-z.left)?w.left+w.width-y.width:w.left;q.offset({top:w.top+w.height,left:x});return this}function o(){q.show();return this}function m(){q.hide();return this}function d(){return{value:[q.find("input[name='value1']").val(),q.find("input[name='value2']").val()],type:[q.find("select[name='type1']").val(),q.find("select[name='type2']").val()],operator:q.find("select[name='operator']").val()}}function g(){return i.id}function n(){return e}function k(w){w.preventDefault();var v=d();e.clear();e.add(v.type[0],v.value[0]);if(v.value[1]){e.add(v.operator);e.add(v.type[1],v.value[1])}u.onSubmit.notify();m()}function l(v){v.preventDefault();u.onClear.notify({});m()}function r(v){v.stopPropagation()}c.extend(this,{onSubmit:new SmallGrid.Event.Handler(),onClear:new SmallGrid.Event.Handler(),init:t,destroy:p,getFilter:n,getId:g,hide:m,setupMenu:h,show:o})}function a(q,o,i){var t=this;var d=[];var h=0;function s(){o.onBeforeRowsRendered.subscribe(m);o.onBodyClick.subscribe(m);o.onColumnResizeStart.subscribe(m);o.onHeaderClick.subscribe(r);o.onScrollStart.subscribe(m)}function p(){o.onBeforeRowsRendered.unsubscribe(m);o.onBodyClick.unsubscribe(m);o.onColumnResizeStart.unsubscribe(m);o.onHeaderClick.unsubscribe(r);o.onScrollStart.unsubscribe(m);for(var u=0;u<d.length;u++){var v=d[u];v.onSubmit.unsubscribe(j);v.onClear.unsubscribe(k);v.destroy()}d=[]}function r(u){if(u&&u.type&&u.type=="filter"){u.event.stopPropagation();if(!n(u.column.id)){var v=new b(u.column,o.getContainerNode(),i).init().show().setupMenu(c(u.event.target));v.onSubmit.subscribe(j);v.onClear.subscribe(k);d.push(v)}if(h!==u.column.id){e();l(u.column.id)}else{if(h){e()}else{l(u.column.id)}}}}function m(u){if(h){e()}}function j(v){if(h){for(var u=0;u<d.length;u++){if(d[u].getId()==h){q.setFilter(d[u].getFilter());break}}e()}}function k(v){if(h){for(var u=0;u<d.length;u++){if(d[u].getId()==h){q.clearFilter(d[u].getFilter());break}}e()}}function n(v){for(var u=0;u<d.length;u++){if(d[u].getId()==v){return true}}return false}function g(v){for(var u=0;u<d.length;u++){if(d[u].getId()==v){return d[u]}}}function l(v){var u=g(v);if(u){u.show();h=v}}function e(){var u=g(h);if(u){u.hide();h=0}}c.extend(this,{init:s,destroy:p});s()}})(jQuery);"use strict";(function(b){b.extend(true,window,{SmallGrid:{Plugins:{ColumnResize:a}}});function a(l,j,g){var n=this;var h;var d;function m(){j.onColumnResize.subscribe(c);j.onColumnResizeStart.subscribe(e);j.onColumnResizeStop.subscribe(i)}function k(){j.onColumnResize.unsubscribe(c);j.onColumnResizeStart.subscribe(e);j.onColumnResizeStop.subscribe(i)}function c(o){if(h){d=Math.max(Math.min(parseInt(o.width,10),h.maxWidth),h.minWidth);j.setColumnWidthByIndex(o.cellIndex+1,d)}}function e(o){h=l.getColumnByIndex(o.cellIndex);if(h){j.disableHeaderClass(g.cssClass.cursorPointer);j.addViewPortClass(g.cssClass.cursorResize)}}function i(o){if(h){if(d){l.columns.setColumnPropertyById(h.id,"width",d)}j.enableHeaderClass(g.cssClass.cursorPointer);j.removeViewPortClass(g.cssClass.cursorResize)}}b.extend(this,{init:m,destroy:k});m()}})(jQuery);"use strict";(function(b){b.extend(true,window,{SmallGrid:{Plugins:{ColumnSort:a}}});function a(g,d,i){var e=this;function k(){d.onHeaderClick.subscribe(j)}function h(){d.onHeaderClick.unsubscribe(j)}function j(n){if(n&&n.type&&n.type=="sort"){g.resetCacheRange();var m=n.column;var l=i.Utils.changeSortOrder(m.sortOrder);g.columns.setColumnsProperty("sortOrder",0);g.columns.setColumnPropertyById(m.id,"sortOrder",l);g.rows.sort(i.RowComparer[m.sortComparer]({sortOrder:l,field:m.field}))}}function c(l,m){}b.extend(this,{init:k,destroy:h});k()}})(jQuery);"use strict";(function(a){a.extend(true,window,{SmallGrid:{Plugins:{RowSelection:b}}});function b(n,l,h){var r=this;var g=[];function q(){l.onCellClick.subscribe(o);l.onCellKeyDown.subscribe(i)}function m(){l.onCellClick.unsubscribe(o);l.onCellKeyDown.unsubscribe(i)}function o(s){c(s.row.id)}function i(s){}function p(t){if(d(t)===false){var s=n.rows.getRowById(t);if(s){n.rows.setRowPropertyById(t,"rowCssClass",s.rowCssClass+" "+h.cssClass.rowSelected);g.push(t)}}}function e(t){if(h.allowMultiRowSelection==true){for(var s=0;s<t.length;s++){var u=n.rows.getRowById(t);if(u){p(u.id)}}}return this}function k(u){if(g.length){for(var s=0;s<g.length;s++){if(g[s]==u){continue}var t=n.rows.getRowById(g[s]);if(t){n.rows.setRowPropertyById(t.id,"rowCssClass",t.rowCssClass.replace(" "+h.cssClass.rowSelected,""))}g.splice(s,1)}}return this}function d(s){return(g.indexOf(s)!==-1)}function c(s){if(h.allowMultiRowSelection==false){k(s)}p(s)}function j(){return g}a.extend(this,{init:q,destroy:m,clearSelectedRows:k,getSelectedRows:j,isRowSelected:d,setSelectedRow:c,setSelectedRows:e});q()}})(jQuery);"use strict";if(typeof jQuery==="undefined"){throw"Small grid requires jquery module to be loaded"}(function(g){function b(k){var l=window;var h=k.split(".");for(var j=0;j<h.length;++j){l=l[h[j]]}return l}function c(j){for(var h in a){var i=b(a[h]);if(i){j[h]=i}}}var a={Event:"SmallGrid.Event",HandlerClick:"SmallGrid.Handler.Click",HandlerResize:"SmallGrid.Handler.Resize",HandlerScroll:"SmallGrid.Handler.Scroll",Plugins:"SmallGrid.Plugins",RowComparer:"SmallGrid.Row.Comparer",Filter:"SmallGrid.Filter",RowEditor:"SmallGrid.Cell.Editor",RowFormatter:"SmallGrid.Cell.Formatter",Utils:"SmallGrid.Utils",View:"SmallGrid.View"};var e={maxSupportedCssHeight:undefined,scrollbarDimensions:undefined,explicitInitialization:false,uid:undefined,uidPrefix:"smallgrid_",allowMultiRowSelection:false,edit:{editOnClick:false,autoFocus:true},cssClass:{cell:"grid-td grid-td-div",col:"grid-col",cursorPointer:"grid-cursor-pointer",cursorResize:"grid-cursor-resize disable-text-selection",headerCell:"grid-header-cell",headerColumnName:"grid-column-name",headerFilter:"grid-header-filter",headerResizeHandle:"grid-resizable-handle",headerRow:"grid-header-row",headerRowDiv:"grid-header-td-div",headerSortable:"grid-sortable",headerSortDown:"grid-sort-icon grid-sort-icon-desc",headerSortUp:"grid-sort-icon grid-sort-icon-asc",row:"grid-tr",rowEven:"grid-tr-even",rowOdd:"grid-tr-odd",rowSelected:"grid-row-selected"},columns:{idProperty:undefined,mapProperties:true,header:{height:20}},rows:{idProperty:undefined,mapProperties:true,formatter:undefined,editable:true,selectable:true},formatter:{floatFormatter:{decimals:2},integerFormatter:{decimals:2}},plugins:["ColumnSort","ColumnResize","RowSelection","CellEdit","Filter"]};function d(h){var h=jQuery.extend(true,e,h);if(h.maxSupportedCssHeight==undefined){e.maxSupportedCssHeight=h.maxSupportedCssHeight=h.Utils.measureMaxSupportedCssHeight()}if(h.scrollbarDimensions==undefined){e.scrollbarDimensions=h.scrollbarDimensions=h.Utils.measureScrollbar()}h.uid=h.uid||h.Utils.getNewGuid();return h}c(e);g.extend(true,window,{SmallGrid:{Settings:{Create:d,Default:e}}})})(jQuery);
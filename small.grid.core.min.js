(function(g,e){g.extend(true,e,{Cell:{Editor:{Create:d,Checkbox:f,Float:b,Integer:c,Text:h,Select:a}}});function f(j,k){var i=this,l=!j.value;this.destroy=function(){};this.getValue=function(){i.onChange.notify({value:l});return l};g.extend(this,{onInitialize:new e.Event.Handler(),onChange:new e.Event.Handler(),onDestroy:new e.Event.Handler()});i.onInitialize.notify({value:j.value})}function b(l,m){var k=this,n=l.value,i=g('<input type="text" class="grid-float-editor" />').val(n).width(l.column.width);this.append=function(o){i.appendTo(o);return k};this.remove=function(){if(i&&i.length){i.detach()}return k};this.destroy=function(){i.remove();i=undefined;k.onDestroy.notify({})};this.getValue=function(){return j(i.val())};this.setValue=function(o){i.val(j(o));k.onChange.notify({value:o});return k};this.focus=function(){if(i.is(":focus")===false){i.val(k.getValue()).select()}return k};function j(o){return parseFloat(o,10)||0}g.extend(this,{onInitialize:new e.Event.Handler(),onChange:new e.Event.Handler(),onDestroy:new e.Event.Handler()});k.onInitialize.notify({value:n})}function c(l,m){var k=this,n=l.value,i=g('<input type="text" class="grid-integer-editor" />').val(n).width(l.column.width);this.append=function(o){i.appendTo(o);return k};this.remove=function(){if(i&&i.length){i.detach()}return k};this.destroy=function(){i.remove();i=undefined;k.onDestroy.notify({})};this.getValue=function(){return j(i.val())};this.setValue=function(o){i.val(j(o));k.onChange.notify({value:o});return k};this.focus=function(){if(i.is(":focus")===false){i.val(k.getValue()).select()}return k};function j(o){return parseInt(o,10)||0}g.extend(this,{onInitialize:new e.Event.Handler(),onChange:new e.Event.Handler(),onDestroy:new e.Event.Handler()});k.onInitialize.notify({value:n})}function h(k,l){var j=this,m=k.value,i=g('<input type="text" class="grid-text-editor"/>').val(m).width(k.column.width);this.append=function(n){i.appendTo(n);return j};this.remove=function(){if(i&&i.length){i.detach()}return j};this.destroy=function(){i.remove();i=undefined;j.onDestroy.notify({})};this.getValue=function(){return i.val()};this.setValue=function(n){i.val(n);j.onChange.notify({value:n});return j};this.focus=function(){if(i.is(":focus")===false){i.val(j.getValue()).select()}return j};g.extend(this,{onInitialize:new e.Event.Handler(),onChange:new e.Event.Handler(),onDestroy:new e.Event.Handler()});j.onInitialize.notify({value:m})}function a(k,m){var j=this,l=k.value||{text:"",value:""},i=g('<select class="grid-select-editor"/>');this.append=function(n){i.appendTo(n);return j};this.remove=function(){if(i&&i.length){i.detach()}return j};this.destroy=function(){i.remove();i=undefined;j.onDestroy.notify({})};this.getValue=function(){return{text:i.find("option:selected").text(),value:i.val()}};this.setValue=function(n){i.val(n);j.onChange.notify({value:n});return j};this.focus=function(){i.focus();return j};this.setSource=function(n){if(n.constructor===Array){var o="";var q=false;for(var p=0;p<n.length;p++){q=l.value===n[p].value;o+='<option value="'+n[p].value+'"'+(q?" selected":"")+">"+n[p].text+"</option>"}i.append(o)}};g.extend(this,{onInitialize:new e.Event.Handler(),onChange:new e.Event.Handler(),onDestroy:new e.Event.Handler()});j.onInitialize.notify({value:l})}function d(i,j,k){if(!i.length){throw new TypeError("Editor name is not defined")}if(k instanceof Object===false){throw new TypeError("Settings is not defined")}if(e.Utils.isFunction(i,e.Cell.Editor)===false){throw new TypeError("name is not defined")}return new e.Cell.Editor[i](j,k)}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(e,a){e.extend(true,a,{Cell:{Formatter:{Checkbox:k,Date:b,Default:d,Float:h,Integer:f,Money:c,Select:i,None:d,Radio:g,Text:j}}});function d(n,m,o,l){return n!=null?n.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;"):""}function k(n,m,o,l){return n?"<i class='fa fa-check-square-o'></i>":"<i class='fa fa-square-o'></i>"}function g(n,m,o,l){return n?"<i class='fa fa-dot-circle-o'></i>":"<i class='fa fa-circle-o'></i>"}function h(n,m,o,l){return(parseFloat(n)||0).toFixed(l.formatter.floatFormatter.decimals).replace(/\d(?=(\d{3})+\.)/g,"$&,")}function f(n,m,o,l){return(parseInt(n,10)||0).toFixed(l.formatter.integerFormatter.decimals).replace(/\d(?=(\d{3})+\.)/g,"$&,")}function c(n,m,o,l){n=+n;if(!isNaN(n)){n=new Intl.NumberFormat(l.formatter.moneyFormatter.locales,l.formatter.moneyFormatter.options).format(n);return n+"<i class='fa fa fa-pencil grid-text-icon-formatter'></i>"}return d(n,m,o,l)}function b(n,m,o,l){if(!(n instanceof Date)){n=Date.parse(n)}if(!isNaN(n)){n=new Intl.DateTimeFormat(l.formatter.dateFormatter.locales,l.formatter.moneyFormatter.options).format(n);return n+"<i class='fa fa-calendar grid-date-icon-formatter'></i>"}return d(n,m,o,l)}function i(n,m,o,l){if(n instanceof Object){return n.text+"<i class='fa fa-caret-square-o-down grid-select-icon-formatter'></i>"}else{return n+"<i class='fa fa-caret-square-o-down grid-select-icon-formatter'></i>"}}function j(o,n,p,m){var l=d(o,n,p,m);return l+"<i class='fa fa fa-pencil grid-text-icon-formatter'></i>"}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(f,d){f.extend(true,d,{Column:{Comparer:{Default:b,Date:e,Number:c,String:g}}});function b(h){return function(k,j){var i=(h.field in k.item)?k.item[h.field]:null,l=(h.field in j.item)?j.item[h.field]:null;if(i instanceof Date&&l instanceof Date){i=i.getTime();l=l.getTime()}else{if(!isNaN(parseFloat(i))&&isFinite(i)){i++;l++}else{if(i&&typeof i.toString==="function"&&l&&typeof l.toString==="function"){i=i.toString().toLowerCase();l=l.toString().toLowerCase()}}}return(i==l?0:(i>l?h.sortOrder:-h.sortOrder))}}function c(i){var h=i.sortOrder;return function(l,k){var j=(i.field in l.item)?l.item[i.field]:null,m=(i.field in k.item)?k.item[i.field]:null;return(j-m)*h}}function a(i){var h=i.sortOrder;return function(l,k){var j=(i.field in l.item&&typeof l.item[i.field]==="string")?l.item[i.field].toLowerCase():null,m=(i.field in k.item&&typeof k.item[i.field]==="string")?k.item[i.field].toLowerCase():null;return j.localeCompare(m)*h}}function g(i){var h=i.sortOrder;return function(l,k){var j=(i.field in l.item&&typeof l.item[i.field]==="string")?l.item[i.field].toLowerCase():null,m=(i.field in k.item&&typeof k.item[i.field]==="string")?k.item[i.field].toLowerCase():null;return(j==m?0:(j>m?1*h:-1*h))}}function e(i){var h=i.sortOrder;return function(l,k){var j=(i.field in l.item)?l.item[i.field]:null,m=(i.field in k.item)?k.item[i.field]:null;return(new Date(j)-new Date(m))*h}}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(c,b){c.extend(true,b,{Column:{Create:d,Model:e,ColumnData:a}});function a(){}a.prototype.align="";a.prototype.cellCssClass="";a.prototype.editable=true;a.prototype.editor=undefined;a.prototype.editMode=false;a.prototype.field="";a.prototype.filterable=false;a.prototype.formatter="Default";a.prototype.headerCssClass="";a.prototype.hidden=false;a.prototype.id=undefined;a.prototype.item=null;a.prototype.maxWidth=9999;a.prototype.minWidth=25;a.prototype.name="";a.prototype.resizeable=true;a.prototype.sortable=true;a.prototype.sortComparer="Default";a.prototype.sortOrder=0;a.prototype.width=50;function e(G){var w=this;var K=[];this.items={addItem:function(O){A(F(O));return w},addItems:function(O){if(O.length){w.onChange.blockEvents();for(var P=0;P<O.length;P++){w.items.addItem(O[P])}w.onChange.notifyBlocked()}return w},deleteItems:function(){return s()},deleteItemById:function(O){return D(O)},getItems:function(){var O=[];for(var P=0;P<K.length;P++){O.push(K[P].item)}return O},setItems:function(O){if(O.length){w.onChange.blockEvents();K=[];for(var P=0;P<O.length;P++){w.items.addItem(O[P])}w.onChange.notifyBlocked()}return w},updateItemById:function(Q,P){for(var O=0;O<K.length;O++){if(K[O].id===Q){K[O].item=P;w.onChange.notify({id:Q});break}}return w},updateItemByIndex:function(O,P){if(K[O]){K[O].item=P;w.onChange.notify({id:K[O].id})}return w}};function I(){K=[]}function n(O){if(K.length){return K.filter(O)}return[]}function o(P,O){if(K.length){return K.reduce(P,O)}}function H(O){if(K.length){K.sort(O)}return w}function t(){return K.length===0}function M(){return K.length}function A(O){if(O instanceof a){K.push(O);w.onChange.notify({id:O.id})}return w}function k(P){if(P.length){w.onChange.blockEvents();for(var O=0;O<P.length;O++){A(P[O])}w.onChange.notifyBlocked()}return w}function m(O){if(O instanceof a){D(O.id)}return w}function D(P){for(var O=0;O<K.length;O++){if(K[O].id===P){K.splice(O,1);w.onChange.notify({id:P});break}}return w}function N(O){if(K[O]){var P=K[O].id;K.splice(O,1);w.onChange.notify({id:P})}return w}function s(){if(K.length){w.onChange.blockEvents();K=[];w.onChange.notifyBlocked()}return w}function i(P){for(var O=0;O<K.length;O++){if(K[O].id===P){return K[O]}}}function h(O){return K[O]}function B(O){return K[O].id}function J(P){for(var O=0;O<K.length;O++){if(K[O].id===P){return O}}return -1}function C(Q,O){var P=i(Q);if(P&&O&&O in P){return P[O]}}function l(O,P){var Q=h(O);if(Q&&P&&P in Q){return Q[P]}}function j(){return K}function x(P,O){g(J(P),O);return w}function g(O,P){if(P instanceof a){K.splice(O+1,0,P);w.onChange.notify({id:P.id})}return w}function y(P,O){v(J(P),O);return w}function v(O,P){if(P instanceof a){K.splice(O,0,P);w.onChange.notify({id:P.id})}return w}function L(R,P,O){for(var Q=0;Q<K.length;Q++){if(K[Q].id===R){if(P&&P in K[Q]){K[Q][P]=O;w.onChange.notify({id:R})}break}}return w}function r(O,Q,P){if(Q&&Q in K[O]){K[O][Q]=P;w.onChange.notify({id:K[O].id})}return w}function z(P){if(P.length){w.onChange.blockEvents();K=[];for(var O=0;O<P.length;O++){A(P[O])}w.onChange.notifyBlocked()}return w}function q(P,O){w.onChange.blockEvents();for(var Q=0;Q<K.length;Q++){K[Q][P]=O;w.onChange.notify({id:K[Q].id})}w.onChange.notifyBlocked();return w}function u(O){if(O instanceof a){p(O.id,O)}return w}function p(Q,P){if(P instanceof a){for(var O=0;O<K.length;O++){if(K[O].id===Q){K[O]=P;w.onChange.notify({id:Q});break}}}return w}function f(O,P){if(P instanceof a){if(K[O]){K[O]=P;w.onChange.notify({id:P.id})}}return w}function E(P){if(P.length){w.onChange.blockEvents();for(var O=0;O<P.length;O++){u(P[O])}w.onChange.notifyBlocked()}return w}function F(P){if(P instanceof Object){var O=new a();if(b.Utils.isProperty(G.columns.idProperty,O)){O.id=O[G.columns.idProperty]}else{if(G.columns.newIdType==="number"){O.id=b.Utils.createId()}else{O.id=b.Utils.createGuid()}}O.name=P.name;O.field=P.field;O.item=P;if("align" in P){O.align=P.align}if("cellCssClass" in P){O.cellCssClass=P.cellCssClass}if("editable" in P){O.editable=P.editable}if("editor" in P){O.editor=P.editor}if("editMode" in P){O.editMode=P.editMode}if("filterable" in P){O.filterable=P.filterable}if("formatter" in P){O.formatter=P.formatter}if("headerCssClass" in P){O.headerCssClass=P.headerCssClass}if("hidden" in P){O.hidden=P.hidden}if("maxWidth" in P){O.maxWidth=P.maxWidth}if("minWidth" in P){O.minWidth=P.minWidth}if("resizeable" in P){O.resizeable=P.resizeable}if("sortable" in P){O.sortable=P.sortable}if("sortOrder" in P){O.sortOrder=P.sortOrder}if("sortComparer" in P){O.sortComparer=P.sortComparer}if("width" in P){O.width=P.width}return O}}c.extend(this,{destroy:I,onChange:new b.Event.Handler(),filter:n,reduce:o,sort:H,total:M,addColumn:A,addColumns:k,createColumn:F,deleteColumn:m,deleteColumnById:D,deleteColumnByIndex:N,deleteColumns:s,getColumnById:i,getColumnByIndex:h,getColumnIdByIndex:B,getColumnIndexById:J,getColumnPropertyById:C,getColumnPropertyByIndex:l,getColumns:j,insertColumnAfterId:x,insertColumnAfterIndex:g,insertColumnBeforeId:y,insertColumnBeforeIndex:v,isEmpty:t,setColumnPropertyById:L,setColumnPropertyByIndex:r,setColumns:z,setColumnsProperty:q,updateColumn:u,updateColumnById:p,updateColumnByIndex:f,updateColumns:E})}function d(g,f){if(Array.isArray(g)===false){throw new TypeError("Data is not defined")}if(f instanceof Object===false){throw new TypeError("Settings is not defined")}return new e(f).items.addItems(g)}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(d,c){d.extend(true,c,{Event:{Data:b,Handler:a}});function b(i){for(var e in i){if(i.hasOwnProperty(e)){this[e]=i[e]}}var f=false;var h=false;var g=false;this.preventDefault=function(){if(i&&"event" in i&&typeof i.event.preventDefault==="function"){i.event.preventDefault()}g=true};this.isDefaultPrevented=function(){return g};this.stopPropagation=function(){if(i&&"event" in i&&typeof i.event.stopPropagation==="function"){i.event.stopPropagation()}f=true};this.isPropagationStopped=function(){return f};this.stopImmediatePropagation=function(){if(i&&"event" in i&&typeof i.event.stopImmediatePropagation==="function"){i.event.stopImmediatePropagation()}h=true};this.isImmediatePropagationStopped=function(){return h}}function a(){var g=this,f=[],e=false,h=[];g.subscribe=function(i){if(d.isFunction(i)){f.push(i)}return g};g.unsubscribe=function(k){for(var j=f.length-1;j>=0;j--){if(f[j]===k){f.splice(j,1)}}return g};g.unsubscribeLast=function(){if(f.length){f.pop()}return g};g.unsubscribeAll=function(){f=[];return g};g.blockEvents=function(){e=true};g.notifyBlocked=function(i){e=false;g.notify(new b({opts:i||{},data:h}));h=[]};g.notify=function(k){if(e===true){return h.push(k)}if(typeof k!==b){k=new b(k)}for(var j=0;j<f.length&&!k.isImmediatePropagationStopped();j++){if(f[j].call(g,k)===false){g.stopImmediatePropagation();break}}}}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(c,a){c.extend(true,a,{Grid:{Create:d,Model:b}});function b(w,h,A){var s=this,u={},j="0.6.1 beta",t=a.Utils.createGuid();function x(){z(A.plugins);var C=["windowManager","view","viewModel"];for(var D=0;D<C.length;D++){h[C[D]].init()}s.onInitialize.notify({});return s}function B(){k();var C=["windowManager","view","viewModel","rowsModel","columnsModel"];for(var D=0;D<C.length;D++){h[C[D]].destroy();delete h[C[D]]}s.onDestroy.notify({})}function f(){return h.windowManager}function e(){return h.view}function p(){return h.viewModel}function n(){return h.rowsModel}function v(){return h.columnsModel}function y(){return A}function g(C){if(u[C]){return u[C]}}function m(){return u}function i(C){return u[C]!==undefined}function r(C,E){if(i(C)){l(C)}var D=a.Plugins.Create(C,h,A,E);if(!D){throw new Error("Plugin is not defined.")}u[C]=D}function z(C){var E=Object.keys(C);for(var D=0;D<E.length;D++){r(E[D],C[E[D]])}}function l(C){if(u[C]){u[C].destroy();delete u[C]}}function k(){var D=Object.keys(u);for(var C=0;C<D.length;C++){l(D[C])}}function o(){return j}function q(){return t}c.extend(this,{init:x,destroy:B,getId:q,getPlugin:g,getPlugins:m,getSettings:y,getVersion:o,getView:e,getViewModel:p,getRowsModel:n,getColumnsModel:v,getWindowManager:f,isRegisteredPlugin:i,registerPlugin:r,registerPlugins:z,unregisterPlugin:l,unregisterPlugins:k,onInitialize:new a.Event.Handler(),onDestroy:new a.Event.Handler()})}function d(n,o,i,p,f){var h=a.Settings.Create(p||{});var j=a.Row.Create(o||[],h);var g=a.Column.Create(i||[],h);var m=a.View.Model.Create(j,g,h,false);var l=a.View.Create(n,m,h,false);var k=a.View.Window.Create(l,h,false);var e=new b(n,{columnsModel:g,rowsModel:j,view:l,viewModel:m,windowManager:k},h);if(f!==false){e.init()}return e}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(c,b){c.extend(true,b,{Handler:{Click:{Create:a,Handler:d}}});function d(m,h){m.on("click",i).on("mousedown",e).on("contextmenu",k).on("dblclick",f).on("keydown",g);function j(n){if(n&&n.target){var p=c(n.target).closest(h.cellIdentifier);if(p.length){var o=p.closest(h.rowIdentifier);if(o.length){return{cellIndex:p.index(),rowIndex:o.index(),event:n}}}}}function e(n){if(n.ctrlKey||n.shiftKey){document.getSelection().removeAllRanges();n.preventDefault()}}function i(n){var o=j(n);if(o&&h.handleClick){h.handleClick(o)}}function k(n){var o=j(n);if(o&&h.handleContextMenu){h.handleContextMenu(o)}}function f(n){var o=j(n);if(o&&h.handleDblClick){h.handleDblClick(o)}}function g(n){var o=j(n);if(o&&h.handleKeyDown){h.handleKeyDown(o)}}function l(){m.off("click",i).off("mousedown",e).off("contextmenu",k).off("dblclick",f).off("keydown",g);var o=Object.keys(h);for(var n=0;n<o.length;n++){delete h[o[n]]}}c.extend(this,{destroy:l})}function a(h,e){if(!h.length){throw new TypeError("Container is not defined or does not exist in the DOM.")}if(h.length!==1){throw new TypeError("There should be only 1 container.")}var g={rowIdentifier:"TR",cellIdentifier:"TD",handleClick:undefined,handleDblClick:undefined,handleContextMenu:undefined,handleKeyDown:undefined};var f=c.extend({},g,e);return new d(h,f)}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(c,b){c.extend(true,b,{Handler:{Resize:{Create:a,Handler:d}}});function d(n,g){var j,k,h,f=false;n.on("mousedown",g.handlerIdentifier,e);c(document).on("mousemove",i).on("mouseup",m);function e(o){j=c(this).closest(g.cellIdentifier);if(j.length){k=j.index();h=o.pageX;g.handleResizeStart({cellElement:j,cellIndex:k,event:o});f=true}}function i(o){if(f){var p=o.pageX-j.offset().left;if(p>0){g.handleResize({cellElement:j,cellIndex:k,xDelta:o.pageX-h,width:p,event:o})}}}function m(o){if(f){f=false;g.handleResizeStop({cellElement:j,cellIndex:k,event:o})}}function l(){n.off("mousedown",e);c(document).off("mousemove",i).off("mouseup",m);j=undefined;var p=Object.keys(g);for(var o=0;o<p.length;o++){delete g[p[o]]}}c.extend(this,{destroy:l})}function a(h,e){if(!h.length){throw new TypeError("Container is not defined or does not exist in the DOM.")}if(h.length!==1){throw new TypeError("There should be only 1 container.")}var g={cellIdentifier:"TD",handleResize:undefined,handleResizeStart:undefined,handleResizeStop:undefined,handlerIdentifier:undefined};var f=c.extend({},g,e);return new d(h,f)}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(d,c){d.extend(true,c,{Handler:{Scroll:{Create:a,Handler:b}}});function b(n,f){if(f.resetTop){n[0].scrollTop=0}if(f.resetLeft){n[0].scrollLeft=0}var i,l,m=false,k=false,g={scrollTop:n[0].scrollTop,scrollLeft:n[0].scrollLeft};n.on("scroll",h);n.on("wheel",e);function e(o){clearTimeout(l);if(k===false){k=true;f.handleMouseWheelStart({event:o})}f.handleMouseWheel({event:o});l=setTimeout(function(){f.handleMouseWheelStop({event:o});k=false},f.latency)}function h(p){var o={scrollTop:n[0].scrollTop,scrollLeft:n[0].scrollLeft,topDelta:n[0].scrollTop-g.scrollTop,leftDelta:n[0].scrollLeft-g.scrollLeft,event:p};clearTimeout(i);if(m===false){m=true;f.handleScrollStart(o)}f.handleScroll(o);i=setTimeout(function(){f.handleScrollStop(o);m=false},f.latency);g={scrollTop:o.scrollTop,scrollLeft:o.scrollLeft}}function j(){clearTimeout(i);clearTimeout(l);n.off("scroll",h);n.off("wheel",e);var p=Object.keys(f);for(var o=0;o<p.length;o++){delete f[p[o]]}}d.extend(this,{destroy:j})}function a(h,e){if(!h.length){throw new TypeError("Container is not defined or does not exist in the DOM.")}if(h.length!==1){throw new TypeError("There should be only 1 container.")}var g={handleMouseWheel:undefined,handleMouseWheelStart:undefined,handleMouseWheelStop:undefined,handlescroll:undefined,handlescrollStart:undefined,handlescrollStop:undefined,latency:300,resetLeft:true,resetTop:true};var f=d.extend({},g,e);return new b(h,f)}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(d,c){d.extend(true,c,{Handler:{Shared:{GetInstance:e,Handler:a}}});function a(l){var j=this,h;d(window).on("click",i).on("contextmenu",g).on("resize",m);function i(n){j.onClick.notify({event:n})}function g(n){j.onContextMenu.notify({event:n})}function m(n){if(h){clearTimeout(h)}h=setTimeout(function(){j.onResize.notify({event:n})},l.latency)}function f(){return l}function k(){clearTimeout(h);d(window).off("click",i).off("contextmenu",g).off("resize",m)}d.extend(this,{onClick:new c.Event.Handler(),onContextMenu:new c.Event.Handler(),onResize:new c.Event.Handler(),getSettings:f,destroy:k})}var b;function e(f){if(!b){var h={latency:400};var g=d.extend({},h,f);b=new a(g)}return b}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(c,b){c.extend(true,b,{Plugins:{Create:a}});function a(d,e,f,h){if(!d.length){throw new Error("Plugin name is not defined.")}if(e.view instanceof b.View.View===false){throw new TypeError("View is not defined")}if(e.windowManager instanceof b.View.Window.Manager===false){throw new TypeError("WindowManager is not defined")}if(f instanceof Object===false){throw new TypeError("Settings is not defined")}if(b.Utils.isFunction(d,b.Plugins)!==true){throw new TypeError("name is not defined")}f.plugins[d]=jQuery.extend(true,f.plugins[d]||{},h||{});var g=new b.Plugins[d](e,f);return g.init()}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(d,c){d.extend(true,c,{Query:{Column:{Request:b,Create:a}}});function b(f){function g(j,m,o){var l=0,p=false,k=j-m-o,i=j+2*m+o,n=0;return function(r,q,s){if(r.hidden===true){return false}n++;p=k<=l&&l<=i;l+=o+r.width;if(p||(k<=l&&l<=i)){r.calcWidth=l;r.calcIndex=n;return true}return false}}function e(k,i,j){return f.filter(g(k,i,j))}function h(l){var m={width:0,count:0};var k=f.getColumns();for(var j=0;j<k.length;j++){if(k[j].hidden===true){continue}m.width+=k[j].width+l;m.count++}return m}d.extend(this,{getColumnsInRange:e,getColumnsTotal:h})}function a(e){if(e instanceof c.Column.Model===false){throw new TypeError("Column model is not defined.")}return new c.Query.Column.Request(e)}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(c,b){c.extend(true,b,{Query:{Filter:a}});function a(p){var t=this,n=[],e=b.Utils.createGuid();function f(){return e}function i(){return p}function m(){n=[];return t}function g(){return n}function s(u,v){if(u in t){return t[u](v||"")}throw new TypeError("Type "+u+" not found.")}function l(){n.push({action:"and"});return t}function k(){n.push({action:"or"});return t}function r(u){n.push({action:"eq",value:u});return t}function q(u){n.push({action:"neq",value:u});return t}function j(u){n.push({action:"startsWith",value:u});return t}function d(u){n.push({action:"endsWith",value:u});return t}function h(u){n.push({action:"contains",value:u});return t}function o(u){n.push({action:"doesNotContain",value:u});return t}c.extend(this,{getId:f,getField:i,clear:m,get:g,add:s,and:l,or:k,contains:h,doesnotcontain:o,endswith:d,eq:r,neq:q,startswith:j})}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(d,c){d.extend(true,c,{Query:{Row:{Request:b,Create:a}}});function b(i){function j(n,o,m){var k="";var l=o.replace(/'/g,"\\'");switch(m){case"and":k+=" && ";break;case"or":k+=" || ";break;case"eq":k+=" (item.item['"+n+"'] == '"+l+"') === true ";break;case"neq":k+=" (item.item['"+n+"'] == '"+l+"') === false ";break;case"startsWith":k+=" (('' + item.item['"+n+"']).indexOf('"+l+"') === 0) === true ";break;case"endsWith":k+=" (('' + item.item['"+n+"']).indexOf('"+l+"', item.item['"+n+"'].length - '"+l+"'.length) !== -1) === true ";break;case"contains":k+=" (('' + item.item['"+n+"']).indexOf('"+l+"') !== -1) === true ";break;case"doesNotContain":k+=" (('' + item.item['"+n+"']).indexOf('"+l+"') !== -1) === false ";break}return k}function h(p){var n="";for(var m=0;m<p.length;m++){var l=p[m].get(),q=p[m].getField(),k="";for(var o=0;o<l.length;o++){k+=j(q,l[o].value,l[o].action)}if(k.length){if(m!==0){n+=" && "}n+="("+k+")"}}if(n.length){return new Function("item","return "+n)}}function e(k,s,q,l){var r=0,p=false,m=k-s-q,o=k+2*s+q,n=0;return function(u,t,v){if(l&&(l(u)===false)||(u.hidden===true)){return false}n++;p=m<=r&&r<=o;r+=q+u.height;if(p||(m<=r&&r<=o)){u.calcHeight=r;u.calcIndex=n;return true}return false}}function f(p,k,n,o,m){for(var l=0;l<o.length;l++){i.sort(c.Column.Comparer[o[l].getSortComparer()]({sortOrder:o[l].getSortOrder(),field:o[l].getField()}))}return i.filter(e(p,k,n,h(m)))}function g(k,o){var n={height:0,count:0};var p=i.getRows();var m=h(o);for(var l=0;l<p.length;l++){if((m&&(m(p[l])===false))||(p[l].hidden===true)){continue}n.height+=p[l].height+k;n.count++}return n}d.extend(this,{getRowsInRange:f,getRowsTotal:g})}function a(e){if(e instanceof c.Row.Model===false){throw new TypeError("Rows model is not defined.")}return new c.Query.Row.Request(e)}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(c,b){c.extend(true,b,{Query:{Sorter:a}});function a(j,f,l){var k=this,d=b.Utils.createGuid();function e(){return d}function g(){return j}function i(){return f}function h(){return l}c.extend(this,{getId:e,getField:g,getSortOrder:i,getSortComparer:h})}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(d,c){d.extend(true,c,{Row:{Create:e,Model:a,RowData:b}});function b(){}b.prototype.cellCssClass="";b.prototype.disabled=false;b.prototype.editable=true;b.prototype.editMode=false;b.prototype.height=20;b.prototype.hidden=false;b.prototype.id=undefined;b.prototype.item=null;b.prototype.maxHeight=200;b.prototype.minHeight=20;b.prototype.rowCssClass="";function a(E){var y=this;var K=[];this.items={addItem:function(O){f(g(O));return y},addItems:function(O){if(O.length){y.onChange.blockEvents();for(var P=0;P<O.length;P++){y.items.addItem(O[P])}y.onChange.notifyBlocked()}return y},deleteItems:function(){return k()},deleteItemById:function(O){return j(O)},getItems:function(){var O=[];for(var P=0;P<K.length;P++){O.push(K[P].item)}return O},setItems:function(O){if(O.length){y.onChange.blockEvents();K=[];for(var P=0;P<O.length;P++){y.items.addItem(O[P])}y.onChange.notifyBlocked()}return y},updateItemById:function(Q,P){for(var O=0;O<K.length;O++){if(K[O].id===Q){K[O].item=P;y.onChange.notify({id:Q});break}}return y},updateItemByIndex:function(O,P){if(K[O]){K[O].item=P;y.onChange.notify({id:K[O].id})}return y}};function H(){K=[]}function t(O){if(K.length){return K.filter(O)}return[]}function u(P,O){if(K.length){return K.reduce(P,O)}}function F(O){if(K.length){K.sort(O)}return y}function w(){return K.length===0}function N(){return K.length}function p(P){if(P.length){y.onChange.blockEvents();for(var O=0;O<P.length;O++){f(P[O])}y.onChange.notifyBlocked()}return y}function A(P){if(P.length){y.onChange.blockEvents();for(var O=0;O<P.length;O++){n(P[O])}y.onChange.notifyBlocked()}return y}function B(P){if(P.length){y.onChange.blockEvents();K=[];for(var O=0;O<P.length;O++){f(P[O])}y.onChange.notifyBlocked()}return y}function C(P,O){y.onChange.blockEvents();for(var Q=0;Q<K.length;Q++){K[Q][P]=O;y.onChange.notify({id:K[Q].id})}y.onChange.notifyBlocked();return y}function k(){if(K.length){y.onChange.blockEvents();K=[];y.onChange.notifyBlocked()}return y}function f(O){if(O instanceof b){K.push(O);y.onChange.notify({id:O.id})}return y}function z(O){if(O instanceof b){j(O.id)}return y}function j(P){for(var O=0;O<K.length;O++){if(K[O].id===P){K.splice(O,1);y.onChange.notify({id:P});break}}return y}function M(O){if(K[O]){var P=K[O].id;K.splice(O,1);y.onChange.notify({id:P})}return y}function q(P){for(var O=0;O<K.length;O++){if(K[O].id===P){return K[O]}}}function G(O){return K[O]}function m(O){return K[O].id}function s(P){for(var O=0;O<K.length;O++){if(K[O].id===P){return O}}return -1}function o(Q,O){var P=q(Q);if(P&&O&&O in P){return P[O]}}function x(O,P){var Q=G(O);if(Q&&P&&P in Q){return Q[P]}}function J(){return K}function I(P,O){v(s(P),O);return y}function v(O,P){if(P instanceof b){K.splice(O+1,0,P);y.onChange.notify({id:P.id})}return y}function L(P,O){h(s(P),O);return y}function h(O,P){if(P instanceof b){K.splice(O,0,P);y.onChange.notify({id:P.id})}return y}function l(R,P,O){for(var Q=0;Q<K.length;Q++){if(K[Q].id===R){if(P&&P in K[Q]){K[Q][P]=O;y.onChange.notify({id:R})}break}}return y}function D(O,Q,P){if(Q&&Q in K[O]){K[O][Q]=P;y.onChange.notify({id:K[O].id})}return y}function n(O){if(O instanceof b){r(O.id,O)}return y}function r(Q,P){if(P instanceof b){for(var O=0;O<K.length;O++){if(K[O].id===Q){K[O]=P;y.onChange.notify({id:Q});break}}}return y}function i(O,P){if(P instanceof b){if(K[O]){K[O]=P;y.onChange.notify({id:P.id})}}return y}function g(O){if(O instanceof Object){var P=new b();if(c.Utils.isProperty(E.rows.idProperty,O)){P.id=O[E.rows.idProperty]}else{if(E.rows.newIdType==="number"){P.id=c.Utils.createId()}else{P.id=c.Utils.createGuid()}}P.item=O;if("cellCssClass" in O){P.cellCssClass=O.cellCssClass}if("disabled" in O){P.disabled=O.disabled}if("editable" in O){P.editable=O.editable}if("editMode" in O){P.editMode=O.editMode}if("height" in O){P.height=O.height}if("hidden" in O){P.hidden=O.hidden}if("maxHeight" in O){P.maxHeight=O.maxHeight}if("minHeight" in O){P.minHeight=O.minHeight}if("rowCssClass" in O){P.rowCssClass=O.rowCssClass}return P}}d.extend(this,{destroy:H,onChange:new c.Event.Handler(),filter:t,reduce:u,sort:F,total:N,addRow:f,addRows:p,createRow:g,deleteRow:z,deleteRowById:j,deleteRowByIndex:M,deleteRows:k,getRowById:q,getRowByIndex:G,getRowIdByIndex:m,getRowIndexById:s,getRowPropertyById:o,getRowPropertyByIndex:x,getRows:J,insertRowAfterId:I,insertRowAfterIndex:v,insertRowBeforeId:L,insertRowBeforeIndex:h,isEmpty:w,setRowPropertyById:l,setRowPropertyByIndex:D,setRows:B,setRowsProperty:C,updateRow:n,updateRowById:r,updateRowByIndex:i,updateRows:A})}function e(g,f){if(Array.isArray(g)===false){throw new TypeError("Data is not defined")}if(f instanceof Object===false){throw new TypeError("Settings is not defined")}return new a(f).items.addItems(g)}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(f,c){var d=function(){var m=[];for(var l=0;l<256;l++){m[l]=l<16?"0"+l.toString(16):l.toString(16)}return function(){var q=Math.random()*4294967295|0,s=Math.random()*4294967295|0,p=Math.random()*4294967295|0,o=Math.random()*4294967295|0;return(m[q&255]+m[q>>8&255]+m[q>>16&255]+m[q>>24&255]+"-"+m[s&255]+m[s>>8&255]+"-"+m[s>>16&15|64]+m[s>>24&255]+"-"+m[p&63|128]+m[p>>8&255]+"-"+m[p>>16&255]+m[p>>24&255]+m[o&255]+m[o>>8&255]+m[o>>16&255]+m[o>>24&255]).toLowerCase()}}();var g=function(){var l=0;return function(){return""+l++}}();function b(m,l){return l&&m&&m in l&&typeof l[m]==="function"}function j(l,m){return l&&l in m}function a(l){return(/^true$/i).test(l)}function k(){var n=1000000,m=1000000,l=f('<div style="display:none; " />').appendTo(document.body);do{l.css("height",m);if(l.height()===m){m+=n}else{break}}while(m<16000000);l.remove();return m-n}function i(){var l=f('<div style="position:absolute; top:-100px; left:-100px; width:100px; height:100px; overflow:scroll;"></div>').appendTo(document.body);var m={width:l.width()-l[0].clientWidth,height:l.height()-l[0].clientHeight};l.remove();return m}function e(l){var n=f("<table class='grid-content-table' style='position:absolute; top:-100px; left:-100px;'><tbody><tr><td class='"+l+"' style='width:5px; height:5px;'>-</td></tr></tbody></table>").appendTo(document.body);var o=n.find("TD");var m={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()};n.remove();n=o=undefined;return m}function h(l){return l<0?1:-1}f.extend(true,c,{Utils:{changeSortOrder:h,createGuid:d,createId:g,isFunction:b,isProperty:j,measureCellDiff:e,measureMaxSupportedCssHeight:k,measureScrollbar:i,parseBool:a}})})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(c,b){c.extend(true,b,{View:{Builder:{Create:a,Builder:d}}});function d(t){var p=this;function u(z){var y={headerCol:null,headerTbody:null,headerTable:null,headerWrap:null,contentCol:null,contentTbody:null,contentTable:null,contentWrap:null,header:null,content:null,footer:null,preload:null,viewport:null,container:z};y.viewport=c("<div class='grid-viewport'/>");y.header=c("<div class='grid-header'/>");y.content=c("<div class='grid-content'/>");y.footer=c("<div class='grid-footer'/>");y.preload=c("<div class='grid-preload-font'/>");y.headerCol=c("<colgroup></colgroup>");y.headerTable=c("<table class='grid-header-table'></table>");y.headerTbody=c("<tbody></tbody>");y.headerWrap=c("<div class='grid-header-wrap'/>");y.contentCol=c("<colgroup></colgroup>");y.contentTable=c("<table class='grid-content-table'></table>");y.contentTbody=c("<tbody></tbody>");y.contentWrap=c("<div class='grid-content-wrap'/>");y.headerCol.appendTo(y.headerTable);y.headerTbody.appendTo(y.headerTable);y.headerTable.appendTo(y.headerWrap);y.headerWrap.appendTo(y.header);y.contentCol.appendTo(y.contentTable);y.contentTbody.appendTo(y.contentTable);y.contentTable.appendTo(y.contentWrap);y.contentWrap.appendTo(y.content);y.header.appendTo(y.viewport);y.content.appendTo(y.viewport);y.footer.appendTo(y.viewport);y.preload.appendTo(y.viewport);if(t.header.disableTextSelection){y.header.addClass(t.cssClass.disableTextSelection)}if(t.rows.disableTextSelection){y.content.addClass(t.cssClass.disableTextSelection)}return y}function o(A,C){var z="<tr class='"+t.cssClass.headerRow+"'>";for(var y=0,B=A.length-1;y<=B;y++){z+=k(A[y],C,B===y)}if(C.virtualColumnWidth>=0&&t.showLastColumn===true){z+=l(A[y-1],C)}return z+"</tr>"}function f(z,A,B){var y=t.cssClass.headerCell;if(z.headerCssClass){y+=" "+z.headerCssClass}if(B&&A.hideColumnBorder){y+=" "+t.cssClass.cellColumnLast}switch(z.align){case"center":y+=" "+t.cssClass.cellAlignCenter;break;case"right":y+=" "+t.cssClass.cellAlignRight;break}if(z.sortable||z.filterable){y+=" "+t.cssClass.cursorPointer}return y}function k(z,A,B){var y;y="<td style='height:"+t.header.height+"px' class='"+f(z,A,B)+"'><div class='"+t.cssClass.headerCellDiv+"'><span class='"+t.cssClass.headerColumnName+"'>"+(z.name||"")+"</span>";if(z.sortable&&z.sortOrder!==0){y+="<span class='"+(z.sortOrder===1?t.cssClass.headerSortUp:t.cssClass.headerSortDown)+"'></span>"}if(z.filterable){y+="<span class='"+t.cssClass.headerFilter+"'></span>"}y+="</div>";if(z.resizeable){y+="<span class='"+t.cssClass.headerResizeHandle+"'></span>"}return y+"</td>"}function l(y,z){return"<td class='"+t.cssClass.headerCell+" "+t.cssClass.cellColumnLast+"' style='height:"+t.header.height+"px'></td>"}function q(A,C){var z="";for(var y=0,B=A.length;y<B;y++){z+=s(A[y])}if(C.virtualColumnWidth>=0&&t.showLastColumn===true){z+=n(A[y-1],C)}return z}function i(z){var y=t.cssClass.col;if(z.headerCssClass){y+=" "+z.headerCssClass}return y}function s(y){return"<col style='width:"+(y.width+t.cellOuterSize.width)+"px;' class='"+i(y)+"'/>"}function n(y,z){return"<col style='width:"+z.virtualColumnWidth+"px;' class='"+t.cssClass.col+" "+t.cssClass.collLast+"'/>"}function x(A,D,C){var z="";for(var y=0,B=D.length-1;y<=B;y++){z+=e(A,D[y],C,B===y)}return z}function j(y,B,A,C){var z=t.cssClass.row+(B.calcIndex&1===1?" "+t.cssClass.rowEven:" "+t.cssClass.rowOdd);if(B.rowCssClass){z+=" "+B.rowCssClass}switch(B.valign||t.rows.valign){case"middle":z+=" "+t.cssClass.rowValignMiddle;break;case"top":z+=" "+t.cssClass.rowValignTop;break;case"bottom":z+=" "+t.cssClass.rowValignBottom;break;case"baseline":z+=" "+t.cssClass.rowValignBaseline;break}return z}function e(A,D,C,E){var z="<tr class='"+j(A,D,C,E)+"'>";for(var y=0,B=A.length-1;y<=B;y++){z+=v(A[y],D,C,B===y,E)}if(C.virtualColumnWidth>=0&&t.showLastColumn===true){z+=g(A[y-1],C,E)}return z+"</tr>"}function r(z,C,A,B,D){var y=t.cssClass.cell;if(z.cellCssClass){y+=" "+z.cellCssClass}if(B&&A.hideColumnBorder){y+=" "+t.cssClass.cellColumnLast}if(D&&A.hideRowBorder){y+=" "+t.cssClass.cellRowLast}if(z.align==="center"){y+=" "+t.cssClass.cellAlignCenter}if(z.align==="right"){y+=" "+t.cssClass.cellAlignRight}if(C.cellCssClass&&z.field in C.cellCssClass){y+=" "+C.cellCssClass[z.field]}if(C.editMode===true&&z.editMode===true){y+=" "+t.cssClass.cellEdit}return y}function v(y,B,z,A,C){return"<td height='"+B.height+"' class='"+r(y,B,z,A,C)+"'>"+m(y,B)+"</td>"}function g(z,A,B){var y=t.cssClass.cell+" "+t.cssClass.cellColumnLast;if(B&&A.hideRowBorder){y+=" "+t.cssClass.cellRowLast}return"<td class='"+y+"'></td>"}function m(y,A){var z="";if(y.field in A.item&&(A.editMode===false||y.editMode===false)){z=h(y,A)}return z}function h(y,z){return y.formatter?b.Cell.Formatter[y.formatter](w(y,z),y,z,t):w(y,z)}function w(y,z){return z.item[y.field]}c.extend(this,{buildCellContentHtml:m,buildColsHtml:q,buildHeaderColumnsHtml:o,buildRowsHtml:x,buildViewPortElements:u})}function a(e){if(e instanceof Object===false){throw new TypeError("Settings is not defined")}return new d(e)}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(c,b){c.extend(true,b,{View:{Create:d,View:a}});function a(q,ar,P,ao){var u=this,R={width:0,height:0},at={rowsHeight:0,columnsWidth:0},al={},f=[],A=null,F=null,N=null,o={horisontal:false,vertical:false},w=[],h=false,B=0;al=P.buildViewPortElements(q);al.container.empty().addClass(ao.uid);al.viewport.appendTo(al.container);function aj(){var au=l();f.push(b.Handler.Resize.Create(al.header,{handleResize:p,handleResizeStart:e,handleResizeStop:H,handlerIdentifier:"."+ao.cssClass.headerResizeHandle}),b.Handler.Click.Create(al.header,{handleClick:U,handleDblClick:K,handleContextMenu:af}),b.Handler.Click.Create(al.content,{handleClick:D,handleDblClick:ab,handleContextMenu:ap,handleKeyDown:O}),b.Handler.Scroll.Create(al.content,{handleScrollStart:ah,handleScrollStop:an,handleScroll:ag,handleMouseWheelStart:V,handleMouseWheelStop:I,handleMouseWheel:ad}));var av=b.Handler.Shared.GetInstance();av.onClick.subscribe(am);av.onResize.subscribe(v);av.onContextMenu.subscribe(g);ar.onRowsChange.subscribe(z);ar.onColumnsChange.subscribe(m);ar.onInitialize.subscribe(S);n(au);return u}function ac(){l();clearTimeout(F);clearTimeout(N);ar.onRowsChange.unsubscribe(z);ar.onColumnsChange.unsubscribe(m);ar.onInitialize.unsubscribe(S);var ax=b.Handler.Shared.GetInstance();ax.onClick.unsubscribe(am);ax.onResize.unsubscribe(v);ax.onContextMenu.unsubscribe(g);if(al.container.length){for(var aw=0;aw<f.length;aw++){f[aw].destroy();f[aw]=undefined}al.container.removeClass(ao.uid);delete al.container}var av=Object.keys(al);for(var au=0;au<av.length;au++){al[av[au]].remove();delete al[av[au]]}q.empty()}function S(){var au=l();E();J();n(au);u.onInitialize.notify({})}function aq(){return R}function ak(){return P}function ae(){return o.horisontal}function s(){return o.vertical}function j(au){if(al[au]){return al[au]}}function aa(au){var av=ar.getRowById(au);if(av){return av.calcHeight-av.height-ao.cellOuterSize.height>=al.content[0].scrollTop&&av.calcHeight+av.height+ao.cellOuterSize.height<R.height+al.content[0].scrollTop}return false}function T(au){return al.contentTbody[0].rows[au]}function Q(au){var av=ar.getRowIndexById(au);if(av!==-1){return T(av)}}function X(au,av){return Z(au)&&aa(av)}function C(au,av){if(al.contentTbody[0].rows[av]&&al.contentTbody[0].rows[av].cells[au]){return al.contentTbody[0].rows[av].cells[au]}}function r(av,aw){var ax=ar.getRowIndexById(aw);var au=ar.getColumnIndexById(av);if(ax!==-1&&au!==-1){return C(au,ax)}}function Z(av){var au=ar.getColumnById(av);if(au){return au.calcWidth-au.width-ao.cellOuterSize.width>=al.content[0].scrollLeft&&au.calcWidth<R.width+al.content[0].scrollLeft}return false}function W(){B++;L();return u}function L(){if(B>0){if(A!==null||x()===true){clearTimeout(F);F=setTimeout(W,187)}else{A++;clearTimeout(F);J();if(ao.renderDelay){N=setTimeout(function(){A=null},ao.renderDelay)}else{A=null}}}return u}function J(){var ay=l();B=0;var aw=1;if(at.rowsHeight>=ao.maxSupportedCssHeight){var az=R.height+(o.horisontal?ao.scrollbarDimensions.height:0);aw=(at.rowsHeight-az)/(ao.maxSupportedCssHeight-az)}var au=ar.requestDataFromRange({top:al.content[0].scrollTop*aw,left:al.content[0].scrollLeft},R,ao.cellOuterSize,{width:o.vertical?ao.scrollbarDimensions.width:0,height:o.horisontal?ao.scrollbarDimensions.height:0},aw===1);if(au.isCached===0){if(au.columns.length>0){al.headerTable.css({left:au.columns[0].calcWidth-au.columns[0].width-ao.cellOuterSize.width});if(au.rows.length>0){al.contentTable.css({top:au.rows[0].calcHeight-au.rows[0].height-ao.cellOuterSize.height-al.content[0].scrollTop*aw+al.content[0].scrollTop,left:au.columns[0].calcWidth-au.columns[0].width-ao.cellOuterSize.width})}var av=au.columns[au.columns.length-1];var ax={hideRowBorder:o.horisontal===false&&o.vertical===true,hideColumnBorder:o.vertical===false&&R.width<=av.calcWidth,virtualColumnWidth:ao.showLastColumn===true&&R.width>=av.calcWidth?R.width-av.calcWidth:0};G(P.buildHeaderColumnsHtml(au.columns,ax),P.buildColsHtml(au.columns,ax),P.buildRowsHtml(au.columns,au.rows,ax))}else{G("","","")}}n(ay)}function G(aw,av,aA){u.onBeforeRowsRendered.notify({});var az=al.contentTbody[0].cloneNode(false);var au=al.headerTbody[0].cloneNode(false);var ay=al.headerCol[0].cloneNode(false);var ax=al.contentCol[0].cloneNode(false);ay.innerHTML=ax.innerHTML=av;az.innerHTML=aA;au.innerHTML=aw;if(al.contentCol[0].innerHTML!==ax.innerHTML){al.contentTable[0].replaceChild(ax,al.contentCol[0]);al.contentCol=c(ax)}if(al.contentTbody[0].innerHTML!==az.innerHTML){al.contentTable[0].replaceChild(az,al.contentTbody[0]);al.contentTbody=c(az)}if(al.headerCol[0].innerHTML!==ay.innerHTML){al.headerTable[0].replaceChild(ay,al.headerCol[0]);al.headerCol=c(ay)}if(al.headerTbody[0].innerHTML!==au.innerHTML){al.headerTable[0].replaceChild(au,al.headerTbody[0]);al.headerTbody=c(au)}u.onAfterRowsRendered.notify({})}function x(){return w.length>0}function l(av){var au=b.Utils.createGuid();w.push(au);if(av){av();return n(au)}return au}function n(av){for(var au=0;au<w.length;au++){if(w[au]===av){w.splice(au,1);return true}}return false}function k(aw,av){var au="";if(av.resizeable&&aw.indexOf(ao.cssClass.headerResizeHandle)!==-1){au="resize"}else{if(av.filterable&&aw.indexOf(ao.cssClass.headerFilter)!==-1){au="filter"}else{if(av.sortable){au="sort"}}}return au}function i(aw,av,ax){var au="";if(ax.editable===true&&av.editable===true){au="edit"}else{if(ax.disabled===true){au="disabled"}}return au}function Y(au){var av=ar.getColumnByIndex(au.cellIndex);if(av){au.type=k(c(au.event.target).attr("class"),av);au.targetClass=c(au.event.target).attr("class");au.column=av;return au}}function ai(au){var av=ar.getColumnByIndex(au.cellIndex);var aw=ar.getRowByIndex(au.rowIndex);if(av&&av.field.length>0&&aw&&av.field in aw.item){au.type=i(c(au.event.target).attr("class"),av,aw);au.row=aw;au.column=av;return au}}function E(){R.width=al.container.width();R.height=Math.max(al.container.height()-ao.header.height-ao.cellOuterSize.height,0);if(R.height){al.content.height(R.height)}at.rowsHeight=ar.getRowsHeight(ao.cellOuterSize);at.columnsWidth=ar.getColumnsWidth(ao.cellOuterSize);y();u.onViewResized.notify({});return u}function M(av,ax,aw){var au={vertical:false,horisontal:false};if(av.columnsWidth>ax.width){au.vertical=av.rowsHeight+aw.height>ax.height;au.horisontal=true}else{if(av.rowsHeight>ax.height){au.horisontal=av.columnsWidth+aw.width>ax.width;au.vertical=true}}return au}function y(){var av=o;o=M(at,R,ao.scrollbarDimensions);if(o.vertical!==av.vertical||o.horisontal!==av.horisontal){al.content.css({overflow:o.vertical||o.horisontal?"auto":"hidden"});al.header.css({width:o.vertical?R.width-ao.scrollbarDimensions.width:R.width});u.onViewScrollChange.notify({})}var aw=Math.max(at.columnsWidth,o.vertical?R.width-ao.scrollbarDimensions.width:R.width);var au=at.columnsWidth?Math.min(at.rowsHeight,ao.maxSupportedCssHeight):0;al.headerWrap.css({width:aw});al.contentWrap.css({width:aw,height:au})}function z(){at.rowsHeight=ar.getRowsHeight(ao.cellOuterSize);y();W()}function m(){at.columnsWidth=ar.getColumnsWidth(ao.cellOuterSize);y();W()}function D(au){var av=ai(au);if(av){t(av,"onCellClick")}}function ab(au){var av=ai(au);if(av){t(av,"onCellDblClick")}}function ap(au){var av=ai(au);if(av){t(av,"onCellContextMenu")}}function O(au){var av=ai(au);if(av){t(av,"onCellKeyDown")}}function p(au){t(au,"onColumnResize")}function e(au){h=true;t(au,"onColumnResizeStart")}function H(au){h=false;t(au,"onColumnResizeStop")}function V(au){t(au,"onMouseWheelStart")}function I(au){t(au,"onMouseWheelStop")}function ad(au){t(au,"onMouseWheel")}function ah(au){if(h===false){t(au,"onScrollStart")}}function an(au){if(h===false){t(au,"onScrollStop")}}function ag(au){if(h===false){al.header[0].scrollLeft=al.content[0].scrollLeft;W();t(au,"onScroll")}}function v(au){l(function(){t(au,"onDocumentResize");E();J()})}function g(au){t(au,"onDocumentContextMenu")}function am(au){t(au,"onDocumentClick")}function U(au){var av=Y(au);if(av){t(av,"onHeaderClick")}}function af(au){var av=Y(au);if(av){t(av,"onHeaderContextMenu")}}function K(au){var av=Y(au);if(av){t(av,"onHeaderDblClick")}}function t(au,av){u[av].notify(au)}c.extend(this,{init:aj,destroy:ac,getBuilder:ak,getContentSize:aq,getCellNodeById:r,getCellNodeByIndex:C,getNode:j,getRowNodeById:Q,getRowNodeByIndex:T,isCellVisible:X,isColumnVisible:Z,isHorisontalScrollVisible:ae,isRowVisible:aa,isSuspended:x,isVerticalScrollVisible:s,render:W,resize:E,resumeRender:n,suspendRender:l,onViewResized:new b.Event.Handler(),onViewScrollChange:new b.Event.Handler(),onScroll:new b.Event.Handler(),onScrollStart:new b.Event.Handler(),onScrollStop:new b.Event.Handler(),onMouseWheel:new b.Event.Handler(),onMouseWheelStart:new b.Event.Handler(),onMouseWheelStop:new b.Event.Handler(),onDocumentClick:new b.Event.Handler(),onDocumentResize:new b.Event.Handler(),onDocumentContextMenu:new b.Event.Handler(),onHeaderClick:new b.Event.Handler(),onHeaderContextMenu:new b.Event.Handler(),onHeaderDblClick:new b.Event.Handler(),onCellClick:new b.Event.Handler(),onCellContextMenu:new b.Event.Handler(),onCellDblClick:new b.Event.Handler(),onCellKeyDown:new b.Event.Handler(),onColumnResize:new b.Event.Handler(),onColumnResizeStart:new b.Event.Handler(),onColumnResizeStop:new b.Event.Handler(),onAfterRowsRendered:new b.Event.Handler(),onBeforeRowsRendered:new b.Event.Handler(),onInitialize:new b.Event.Handler(),onDestroy:new b.Event.Handler()})}function d(f,h,j,i){var k=c(f);if(!k.length){throw new TypeError("Container is not defined or does not exist in the DOM.")}if(k.length!==1){throw new TypeError("There should be only 1 container.")}if(h instanceof b.View.Model.Model===false){throw new TypeError("View model is not defined.")}if(j instanceof Object===false){throw new TypeError("Settings is not defined")}var g=b.View.Builder.Create(j);var e=new a(k,h,g,j);if(i!==false){e.init()}return e}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(c,b){c.extend(true,b,{View:{Model:{Model:a,Create:d}}});function a(G,g,w,K,R){var j=this,k={count:0,height:0},B={count:0,width:0};var T=[],l=[];var x={minTop:undefined,maxTop:undefined,minLeft:undefined,maxLeft:undefined};var C=[],h=[],S=[];function P(){G.onChange.subscribe(q);g.onChange.subscribe(i);j.onInitialize.notify({});return j}function M(){G.onChange.unsubscribe(q);g.onChange.unsubscribe(i);C=[];h=[];S=[];T=undefined;l=undefined}function i(V){A();if(V.data){var X=[];for(var W=0;W<V.data.length;W++){if(V.data[W].id){X.push(V.data[W].id)}}j.onColumnsChange.notify({ids:X})}else{if(V.id){j.onColumnsChange.notify({ids:[V.id]})}}}function q(V){S=h.slice();U();if(V.data){var X=[];for(var W=0;W<V.data.length;W++){if(V.data[W].id){X.push(V.data[W].id)}}j.onRowsChange.notify({ids:X})}else{if(V.id){j.onRowsChange.notify({ids:[V.id]})}}}function t(){return T}function F(){return l}function Q(V){return T[V]}function E(V){return l[V]}function L(W){for(var V=0;V<T.length;V++){if(T[V].id===W){return V}}return -1}function J(W){for(var V=0;V<l.length;V++){if(l[V].id===W){return V}}return -1}function D(W){for(var V=0;V<T.length;V++){if(T[V].id===W){return T[V]}}}function z(W){for(var V=0;V<l.length;V++){if(l[V].id===W){return l[V]}}}function p(){return k}function r(){return B}function N(){return C}function s(W){if(W instanceof b.Query.Filter){for(var V=0;V<C.length;V++){if(C[V].getId()===W.getId()){break}}C[V]=W;U();j.onRowsChange.notify()}}function v(W){for(var V=0;V<C.length;V++){if(C[V].getField()===W){C.splice(V,1);U();j.onRowsChange.notify();break}}}function o(W){for(var V=0;V<C.length;V++){if(C[V].getId()===W){C.splice(V,1);U();j.onRowsChange.notify();break}}}function f(){C=[];U();j.onRowsChange.notify()}function n(){return h}function O(V){if(V instanceof b.Query.Sorter){h=[V];S=h.slice();U();j.onRowsChange.notify()}}function e(W){for(var V=0;V<h.length;V++){if(h[V].getId()===W){h.splice(V,1);S=h.slice();U();j.onRowsChange.notify();break}}}function u(W){for(var V=0;V<h.length;V++){if(h[V].getField()===W){h.splice(V,1);S=h.slice();U();j.onRowsChange.notify();break}}}function y(){h=[];S=[];U();j.onRowsChange.notify()}function I(V){k=w.getRowsTotal(V.height,C);return k.height}function H(V){B=K.getColumnsTotal(V.width);return B.width}function m(V,Y,W,aa,Z){var X=(x.minTop<=V.top&&V.top<=x.maxTop+aa.height)&Z;var ab=(x.minLeft<=V.left&&V.left<=x.maxLeft+aa.width)&Z;if(X===0){T=w.getRowsInRange(V.top,Y.height,W.height,S,C);S=[];U(T,Y,W)}if(ab===0){l=K.getColumnsInRange(V.left,Y.width,W.width);A(l,Y,W)}return{isCached:X&&ab,rows:T,columns:l}}function A(X,W,V){if(X&&X.length){x.minLeft=X[0].calcWidth-X[0].width-V.width;x.maxLeft=X[(X.length-1)].calcWidth>W.width?X[(X.length-1)].calcWidth-W.width:W.width}else{x.minLeft=undefined;x.maxLeft=undefined}}function U(X,W,V){if(X&&X.length){x.minTop=X[0].calcHeight-X[0].height-V.height;x.maxTop=X[(X.length-1)].calcHeight>W.height?X[(X.length-1)].calcHeight-W.height:W.height}else{x.minTop=undefined;x.maxTop=undefined}}c.extend(this,{init:P,destroy:M,getRowsTotal:p,getColumnsTotal:r,requestDataFromRange:m,clearFilterByField:v,clearFilterById:o,clearFilters:f,clearSorterByField:u,clearSorterById:e,clearSorters:y,getFilters:N,getSorters:n,setFilter:s,setSorter:O,getColumnById:z,getColumnByIndex:E,getColumnIndexById:J,getColumns:F,getColumnsWidth:H,getRowById:D,getRowByIndex:Q,getRowIndexById:L,getRows:t,getRowsHeight:I,onColumnsChange:new b.Event.Handler(),onDestroy:new b.Event.Handler(),onInitialize:new b.Event.Handler(),onRowsChange:new b.Event.Handler()})}function d(f,j,i,h){if(i instanceof Object===false){throw new TypeError("Settings is not defined")}if(f instanceof b.Row.Model===false){throw new TypeError("Rows model is not defined.")}if(j instanceof b.Column.Model===false){throw new TypeError("Column model is not defined.")}var k=new b.Query.Row.Create(f);var e=new b.Query.Column.Create(j);var g=new a(f,j,k,e,i);if(h!==false){g.init()}return g}})(jQuery,window.SmallGrid=window.SmallGrid||{});(function(d,c){d.extend(true,c,{View:{Window:{Create:a,Manager:b}}});function b(n,h){var t=this;var e=[];function s(x,w,u){if(g(x)===false){e.push({id:x,opts:u||{}});var v=d('<div class="grid-window grid-window-'+x+'"/>');if(w&&w.length){w.appendTo(v)}v.appendTo(n.getNode("container")).hide()}return t}function g(v){for(var u=0;u<e.length;u++){if(e[u].id===v){return true}}return false}function f(v){for(var u=0;u<e.length;u++){if(e[u].id===v){return{id:e[u].id,opts:e[u].opts,container:n.getNode("container").children(".grid-window-"+v)}}}return t}function k(w){for(var u=0;u<e.length;u++){if(e[u].id===w){e.splice(u,1);var v=n.getNode("container").children(".grid-window-"+w);if(v.length){v.remove()}break}}return t}function m(B,u,y){var w=y||0;var x=f(B);if(x!==null){x.container.show();var A=n.getNode("container");var v={width:x.container.width(),height:x.container.height()};var z=(v.width+u.x>A.width()&&v.width<u.x-A.offset().left)?u.x-v.width+w:u.x-w;x.container.offset({top:u.y-w,left:z})}return t}function r(A,u){var x=f(A);if(x!==null){x.container.show();var z=n.getNode("container");var v={width:x.container.width(),height:x.container.height()};var w={left:u.offset().left,top:u.offset().top,width:u.width(),height:u.height()};var y=(v.width+w.left>z.width()&&v.width<w.left-z.offset().left)?w.left+w.width-v.width:w.left;x.container.offset({top:w.top+w.height,left:y})}return t}function i(u){return n.getNode("container").children(".grid-window-"+u+":visible").length>0}function l(u){n.getNode("container").children(".grid-window-"+u).show();return t}function p(u){n.getNode("container").children(".grid-window-"+u).hide();return t}function j(){n.getNode("container").children(".grid-window").hide();return t}function q(){n.onDocumentClick.subscribe(j);n.onColumnResizeStart.subscribe(j);return t}function o(){n.onDocumentClick.unsubscribe(j);n.onColumnResizeStart.unsubscribe(j);e=[]}d.extend(this,{init:q,destroy:o,createWindow:s,showWindowNearPosition:m,showWindowNearTarget:r,getWindow:f,hideWindow:p,hideWindows:j,isWindow:g,isVisible:i,removeWindow:k,showWindow:l})}function a(f,h,g){if(f instanceof c.View.View===false){throw new TypeError("View is not defined")}if(h instanceof Object===false){throw new TypeError("Settings is not defined")}var e=new c.View.Window.Manager(f,h);if(g!==false){e.init()}return e}})(jQuery,window.SmallGrid=window.SmallGrid||{});if(typeof jQuery==="undefined"){throw new Error("Small grid requires jquery module to be loaded.")}if(typeof SmallGrid==="undefined"){throw new Error("Small grid required to be loaded.")}(function(c,b){var a={renderDelay:0,showLastColumn:true,uidPrefix:"smallgrid_",maxSupportedCssHeight:undefined,scrollbarDimensions:undefined,cellOuterSize:undefined,uid:undefined,cssClass:{disableTextSelection:"disable-text-selection",cell:"grid-cell",cellEdit:"grid-cell-edit",cellColumnLast:"grid-cell-column-last",cellRowLast:"grid-cell-row-last",col:"grid-col",collLast:"grid-coll-last",cursorPointer:"grid-cursor-pointer",cursorResize:"grid-cursor-resize disable-text-selection",headerCell:"grid-header-cell",headerCellDiv:"grid-header-cell-div",headerColumnName:"grid-column-name",headerFilter:"grid-header-filter",headerFilterActive:"grid-header-filter-active",headerResizeHandle:"grid-resizable-handle",headerRow:"grid-header-row",headerSortable:"grid-sortable",headerSortDown:"grid-sort-icon grid-sort-icon-desc",headerSortUp:"grid-sort-icon grid-sort-icon-asc",row:"grid-row",rowEven:"grid-row-even",rowOdd:"grid-row-odd",rowSelected:"grid-row-selected",rowValignMiddle:"grid-row-valign-middle",rowValignTop:"grid-row-valign-top",rowValignBottom:"grid-row-valign-bottom",rowValignBaseline:"grid-row-valign-baseline",cellAlignCenter:"grid-cell-align-center",cellAlignRight:"grid-cell-align-right"},header:{height:20,disableTextSelection:true},columns:{idProperty:undefined,newIdType:""},rows:{disableTextSelection:false,idProperty:undefined,newIdType:"",valign:""},formatter:{floatFormatter:{decimals:2},integerFormatter:{decimals:0},moneyFormatter:{locales:"en-US",options:{currency:"EUR",style:"currency"}},dateFormatter:{locales:"en-US",options:{}}},plugins:{AutoResize:{enabled:true},ColumnSort:{enabled:true},ColumnResize:{enabled:true},RowSelection:{enabled:true,multipleRowSelection:false},CellEdit:{enabled:true,editOnClick:false,autoFocus:true},ColumnFilterMenu:{enabled:true},ColumnPickerMenu:{enabled:true},Footer:{enabled:false}}};function d(f){var e=c.extend(true,{},a,f||{});if(e.maxSupportedCssHeight===undefined){a.maxSupportedCssHeight=e.maxSupportedCssHeight=b.Utils.measureMaxSupportedCssHeight()}if(e.scrollbarDimensions===undefined){a.scrollbarDimensions=e.scrollbarDimensions=b.Utils.measureScrollbar()}if(e.cellOuterSize===undefined){e.cellOuterSize=b.Utils.measureCellDiff(e.cssClass.cell)}if(e.uid===undefined){e.uid=b.Utils.createGuid()}return e}c.extend(true,b,{Settings:{Create:d,Default:a}})})(jQuery,window.SmallGrid=window.SmallGrid||{});